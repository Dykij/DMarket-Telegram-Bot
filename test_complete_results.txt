============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- D:\Dmarket\DMarket-Telegram-Bot\DMarket-Telegram-Bot\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: D:\Dmarket\DMarket-Telegram-Bot\DMarket-Telegram-Bot
configfile: pyproject.toml
plugins: anyio-4.11.0, Faker-38.0.0, asyncio-1.3.0, cov-7.0.0, httpx-0.35.0, mock-3.15.1, xdist-3.8.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 1722 items

tests/dmarket/filters/test_game_filters.py::TestBaseGameFilter::test_game_name_default PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestBaseGameFilter::test_supported_filters_includes_price PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestBaseGameFilter::test_get_price_value_with_usd_dict PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestBaseGameFilter::test_get_price_value_with_amount_dict PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestBaseGameFilter::test_get_price_value_with_direct_int PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestBaseGameFilter::test_get_price_value_missing_price PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestBaseGameFilter::test_apply_filters_no_filters PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestBaseGameFilter::test_apply_filters_min_price_pass PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestBaseGameFilter::test_apply_filters_min_price_fail PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestBaseGameFilter::test_apply_filters_max_price_pass PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestBaseGameFilter::test_apply_filters_max_price_fail PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestBaseGameFilter::test_apply_filters_price_range PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestCS2Filter::test_game_name PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestCS2Filter::test_supported_filters_cs2_specific PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestCS2Filter::test_apply_filters_exterior_match PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestCS2Filter::test_apply_filters_exterior_no_match PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestCS2Filter::test_apply_filters_rarity_match PASSED [  0%]
tests/dmarket/filters/test_game_filters.py::TestCS2Filter::test_apply_filters_multiple_cs2_filters PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestDota2Filter::test_game_name PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestDota2Filter::test_supported_filters_dota2_specific PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestDota2Filter::test_apply_filters_hero_match PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestFilterFactory::test_get_filter_csgo PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestFilterFactory::test_get_filter_dota2 PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestFilterFactory::test_get_filter_unsupported_game PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestApplyFiltersToItems::test_apply_filters_empty_list PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestApplyFiltersToItems::test_apply_filters_no_filters PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestApplyFiltersToItems::test_apply_filters_min_price PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestApplyFiltersToItems::test_apply_filters_cs2_exterior PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestRustFilter::test_game_name PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestRustFilter::test_supported_filters_rust_specific PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestRustFilter::test_apply_filters_item_type_match PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestRustFilter::test_apply_filters_item_type_no_match PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestRustFilter::test_apply_filters_rarity_match PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestRustFilter::test_apply_filters_rarity_no_match PASSED [  1%]
tests/dmarket/filters/test_game_filters.py::TestRustFilter::test_apply_filters_multiple_rust_filters PASSED [  2%]
tests/dmarket/filters/test_game_filters.py::TestRustFilter::test_get_filter_rust PASSED [  2%]
tests/dmarket/filters/test_game_filters.py::TestTF2Filter::test_game_name PASSED [  2%]
tests/dmarket/filters/test_game_filters.py::TestTF2Filter::test_supported_filters_tf2_specific PASSED [  2%]
tests/dmarket/filters/test_game_filters.py::TestTF2Filter::test_apply_filters_class_match PASSED [  2%]
tests/dmarket/filters/test_game_filters.py::TestTF2Filter::test_apply_filters_class_no_match PASSED [  2%]
tests/dmarket/filters/test_game_filters.py::TestTF2Filter::test_apply_filters_quality_match PASSED [  2%]
tests/dmarket/filters/test_game_filters.py::TestTF2Filter::test_apply_filters_item_type_match PASSED [  2%]
tests/dmarket/filters/test_game_filters.py::TestTF2Filter::test_apply_filters_effect_match PASSED [  2%]
tests/dmarket/filters/test_game_filters.py::TestTF2Filter::test_apply_filters_killstreak_match PASSED [  2%]
tests/dmarket/filters/test_game_filters.py::TestTF2Filter::test_apply_filters_australium_true PASSED [  2%]
tests/dmarket/filters/test_game_filters.py::TestTF2Filter::test_apply_filters_australium_false PASSED [  2%]
tests/dmarket/filters/test_game_filters.py::TestTF2Filter::test_apply_filters_multiple_tf2_filters PASSED [  2%]
tests/dmarket/filters/test_game_filters.py::TestTF2Filter::test_get_filter_tf2 PASSED [  2%]
tests/dmarket/test_api_unified.py::test_api_initialization PASSED        [  2%]
tests/dmarket/test_api_unified.py::test_generate_headers PASSED          [  2%]
tests/dmarket/test_api_unified.py::test_get_user_balance PASSED          [  2%]
tests/dmarket/test_api_unified.py::test_get_user_balance_error PASSED    [  3%]
tests/dmarket/test_api_unified.py::test_get_market_items PASSED          [  3%]
tests/dmarket/test_api_unified.py::test_handle_rate_limit PASSED         [  3%]
tests/dmarket/test_api_unified.py::test_api_timeout PASSED               [  3%]
tests/dmarket/test_api_unified.py::test_parse_balance_format1 PASSED     [  3%]
tests/dmarket/test_api_unified.py::test_parse_balance_format2 PASSED     [  3%]
tests/dmarket/test_api_unified.py::test_parse_balance_empty PASSED       [  3%]
tests/dmarket/test_arbitrage.py::TestConstants::test_games_defined PASSED [  3%]
tests/dmarket/test_arbitrage.py::TestConstants::test_fee_values PASSED   [  3%]
tests/dmarket/test_arbitrage.py::TestConstants::test_min_profit_percent_modes PASSED [  3%]
tests/dmarket/test_arbitrage.py::TestConstants::test_price_ranges_ascending PASSED [  3%]
tests/dmarket/test_arbitrage.py::TestCacheFunctions::test_save_to_cache PASSED [  3%]
tests/dmarket/test_arbitrage.py::TestCacheFunctions::test_get_cached_results_fresh PASSED [  3%]
tests/dmarket/test_arbitrage.py::TestCacheFunctions::test_get_cached_results_expired PASSED [  3%]
tests/dmarket/test_arbitrage.py::TestCacheFunctions::test_get_cached_results_not_exists PASSED [  3%]
tests/dmarket/test_arbitrage.py::TestCacheFunctions::test_cache_key_uniqueness PASSED [  3%]
tests/dmarket/test_arbitrage.py::TestFetchMarketItems::test_fetch_market_items_success PASSED [  3%]
tests/dmarket/test_arbitrage.py::TestFetchMarketItems::test_fetch_market_items_empty PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestFetchMarketItems::test_fetch_market_items_api_error PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestArbitrageFunctions::test_arbitrage_boost PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestArbitrageFunctions::test_arbitrage_mid PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestArbitrageFunctions::test_arbitrage_pro PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestArbitrageTrader::test_arbitrage_trader_instantiation PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestArbitrageTrader::test_arbitrage_trader_has_methods PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageItems::test_find_arbitrage_items_basic PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageItems::test_find_arbitrage_items_different_modes PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunities::test_find_arbitrage_opportunities_basic PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsync::test_find_arbitrage_async_with_items PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsync::test_find_arbitrage_async_no_suggested_price PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsync::test_find_arbitrage_async_different_liquidity PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsync::test_find_arbitrage_async_uses_cache PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsync::test_find_opportunities_with_items PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsync::test_find_opportunities_max_results_limit PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsync::test_find_opportunities_sorting PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderMethods::test_trader_check_balance PASSED [  4%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderMethods::test_trader_check_balance_insufficient_funds PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderMethods::test_trader_get_status PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderMethods::test_trader_get_transaction_history PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderMethods::test_trader_reset_daily_limits PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderMethods::test_trader_check_trading_limits_ok PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderMethods::test_trader_check_trading_limits_exceeds_max PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderMethods::test_trader_check_trading_limits_exceeds_daily PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestIntegration::test_cache_workflow PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestIntegration::test_full_arbitrage_workflow PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderAutoTrading::test_start_auto_trading_success PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderAutoTrading::test_start_auto_trading_already_active PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderAutoTrading::test_start_auto_trading_insufficient_balance PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderAutoTrading::test_stop_auto_trading_success PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderAutoTrading::test_stop_auto_trading_not_active PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderAutoTrading::test_execute_arbitrage_trade_insufficient_balance PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderAutoTrading::test_execute_arbitrage_trade_exceeds_limits PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderAutoTrading::test_execute_arbitrage_trade_buy_error PASSED [  5%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageItemsNew::test_find_arbitrage_items_low_mode PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageItemsNew::test_find_arbitrage_items_mid_mode PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageItemsNew::test_find_arbitrage_items_pro_mode PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageItemsNew::test_find_arbitrage_items_tuple_conversion PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageItemsNew::test_find_arbitrage_items_default_mode PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFetchMarketItemsEnvKeys::test_fetch_market_items_creates_api_from_env PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFetchMarketItemsEnvKeys::test_fetch_market_items_missing_public_key PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFetchMarketItemsEnvKeys::test_fetch_market_items_missing_secret_key PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFetchMarketItemsEnvKeys::test_fetch_market_items_price_conversion_to_cents PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncPopularity::test_find_arbitrage_high_popularity_low_fee PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncPopularity::test_find_arbitrage_medium_popularity_default_fee PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncPopularity::test_find_arbitrage_low_popularity_high_fee PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncPopularity::test_find_arbitrage_no_suggested_price_high_popularity PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncPopularity::test_find_arbitrage_no_suggested_price_medium_popularity PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncPopularity::test_find_arbitrage_no_suggested_price_low_popularity PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncPopularity::test_find_arbitrage_no_extra_field_default_markup PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncProfitCalculation::test_profit_percent_calculation PASSED [  6%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncProfitCalculation::test_zero_buy_price_handled PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncProfitCalculation::test_item_with_name_field_instead_of_title PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncProfitCalculation::test_item_without_title_or_name PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncProfitCalculation::test_filters_out_of_range_profits PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncProfitCalculation::test_sorts_by_profit_descending PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncErrorHandling::test_handles_malformed_item PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageAsyncErrorHandling::test_continues_after_item_error PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestCacheIntegration::test_uses_cache_on_second_call PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestCacheIntegration::test_cache_key_differs_by_price_range PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsyncExtended::test_find_opportunities_async_basic PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsyncExtended::test_find_opportunities_async_csgo_market PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsyncExtended::test_find_opportunities_async_non_csgo_market PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsyncExtended::test_find_opportunities_async_filters_by_min_profit PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsyncExtended::test_find_opportunities_async_limits_max_results PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsyncExtended::test_find_opportunities_async_handles_errors PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsyncExtended::test_find_opportunities_async_uses_cache PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsyncExtended::test_find_opportunities_async_default_markup PASSED [  7%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsyncExtended::test_find_opportunities_async_item_error_continues PASSED [  8%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsyncLiquidity::test_high_popularity_uses_low_fee PASSED [  8%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsyncLiquidity::test_low_popularity_uses_high_fee PASSED [  8%]
tests/dmarket/test_arbitrage.py::TestFindArbitrageOpportunitiesAsyncLiquidity::test_medium_popularity_uses_default_fee PASSED [  8%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderErrorHandling::test_handle_trading_error_sets_pause_after_3_errors PASSED [  8%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderErrorHandling::test_handle_trading_error_resets_after_10_errors PASSED [  8%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderErrorHandling::test_can_trade_now_returns_false_during_pause PASSED [  8%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderErrorHandling::test_can_trade_now_resets_pause_after_expiry PASSED [  8%]
tests/dmarket/test_arbitrage.py::TestArbitrageTraderErrorHandling::test_can_trade_now_returns_true_without_pause PASSED [  8%]
tests/dmarket/test_arbitrage.py::TestFindProfitableItems::test_find_profitable_items_returns_opportunities PASSED [  8%]
tests/dmarket/test_arbitrage.py::TestFindProfitableItems::test_find_profitable_items_handles_exception PASSED [  8%]
tests/dmarket/test_arbitrage_additional.py::TestCalculateCommission::test_rare_item_commission PASSED [  8%]
tests/dmarket/test_arbitrage_additional.py::TestCalculateCommission::test_common_item_commission PASSED [  8%]
tests/dmarket/test_arbitrage_additional.py::TestCalculateCommission::test_knife_commission PASSED [  8%]
tests/dmarket/test_arbitrage_additional.py::TestCalculateCommission::test_gloves_commission PASSED [  8%]
tests/dmarket/test_arbitrage_additional.py::TestCalculateCommission::test_sticker_commission PASSED [  8%]
tests/dmarket/test_arbitrage_additional.py::TestCalculateCommission::test_popular_item_commission PASSED [  8%]
tests/dmarket/test_arbitrage_additional.py::TestCalculateCommission::test_unpopular_item_commission PASSED [  9%]
tests/dmarket/test_arbitrage_additional.py::TestCalculateCommission::test_dota2_commission PASSED [  9%]
tests/dmarket/test_arbitrage_additional.py::TestCalculateCommission::test_rust_commission PASSED [  9%]
tests/dmarket/test_arbitrage_additional.py::TestCalculateCommission::test_commission_min_max_bounds PASSED [  9%]
tests/dmarket/test_arbitrage_additional.py::TestCalculateCommission::test_commission_for_arcana PASSED [  9%]
tests/dmarket/test_arbitrage_additional.py::TestCalculateCommission::test_commission_for_immortal PASSED [  9%]
tests/dmarket/test_arbitrage_additional.py::TestGroupItemsByName::test_group_items_basic PASSED [  9%]
tests/dmarket/test_arbitrage_additional.py::TestGroupItemsByName::test_group_items_empty_list PASSED [  9%]
tests/dmarket/test_arbitrage_additional.py::TestGroupItemsByName::test_group_items_missing_title PASSED [  9%]
tests/dmarket/test_arbitrage_additional.py::TestGroupItemsByName::test_group_items_single_item PASSED [  9%]
tests/dmarket/test_arbitrage_additional.py::TestGroupItemsByName::test_group_items_preserves_all_fields PASSED [  9%]
tests/dmarket/test_arbitrage_additional.py::TestGroupItemsByName::test_group_items_many_duplicates PASSED [  9%]
tests/dmarket/test_arbitrage_additional.py::TestGroupItemsByName::test_group_items_case_sensitive PASSED [  9%]
tests/dmarket/test_arbitrage_advanced.py::TestFindArbitrageOpportunitiesAdvanced::test_basic_functionality PASSED [  9%]
tests/dmarket/test_arbitrage_advanced.py::TestFindArbitrageOpportunitiesAdvanced::test_empty_response PASSED [  9%]
tests/dmarket/test_arbitrage_advanced.py::TestFindArbitrageOpportunitiesAdvanced::test_mode_handling PASSED [  9%]
tests/dmarket/test_arbitrage_advanced.py::TestFindArbitrageOpportunitiesAdvanced::test_invalid_inputs_fallback PASSED [  9%]
tests/dmarket/test_arbitrage_advanced.py::TestFindArbitrageOpportunitiesAdvanced::test_caching PASSED [  9%]
tests/dmarket/test_arbitrage_advanced.py::TestFindArbitrageOpportunitiesAdvanced::test_insufficient_items_for_arbitrage PASSED [ 10%]
tests/dmarket/test_arbitrage_advanced.py::TestArbitrageTraderFindProfitableItems::test_find_profitable_items_success PASSED [ 10%]
tests/dmarket/test_arbitrage_advanced.py::TestArbitrageTraderFindProfitableItems::test_find_profitable_items_no_suggested_price PASSED [ 10%]
tests/dmarket/test_arbitrage_advanced.py::TestArbitrageTraderFindProfitableItems::test_find_profitable_items_no_items_found PASSED [ 10%]
tests/dmarket/test_arbitrage_advanced.py::TestArbitrageTraderFindProfitableItems::test_find_profitable_items_api_error PASSED [ 10%]
tests/dmarket/test_arbitrage_advanced.py::TestArbitrageTraderFindProfitableItems::test_find_profitable_items_item_processing_error PASSED [ 10%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_init PASSED [ 10%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_get_item_sales_history_success PASSED [ 10%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_get_item_sales_history_empty PASSED [ 10%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_analyze_sales_volume_high PASSED [ 10%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_analyze_sales_volume_medium PASSED [ 10%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_analyze_sales_volume_low PASSED [ 10%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_estimate_time_to_sell_fast PASSED [ 10%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_estimate_time_to_sell_slow PASSED [ 10%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_analyze_price_trends_rising PASSED [ 10%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_analyze_price_trends_falling PASSED [ 10%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_analyze_price_trends_stable PASSED [ 10%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_evaluate_arbitrage_potential_excellent PASSED [ 11%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_evaluate_arbitrage_potential_poor PASSED [ 11%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestSalesAnalyzer::test_caching_works PASSED [ 11%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestEdgeCases::test_no_sales_history PASSED [ 11%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestEdgeCases::test_api_error_handling PASSED [ 11%]
tests/dmarket/test_arbitrage_sales_analysis.py::TestEdgeCases::test_invalid_price_format PASSED [ 11%]
tests/dmarket/test_arbitrage_scanner.py::test_arbitrage_scanner_initialization PASSED [ 11%]
tests/dmarket/test_arbitrage_scanner.py::test_arbitrage_scanner_without_client PASSED [ 11%]
tests/dmarket/test_arbitrage_scanner.py::test_cache_ttl_property PASSED  [ 11%]
tests/dmarket/test_arbitrage_scanner.py::test_get_cached_results_empty_cache PASSED [ 11%]
tests/dmarket/test_arbitrage_scanner.py::test_save_to_cache PASSED       [ 11%]
tests/dmarket/test_arbitrage_scanner.py::test_get_cached_results_valid_cache PASSED [ 11%]
tests/dmarket/test_arbitrage_scanner.py::test_get_cached_results_expired_cache PASSED [ 11%]
tests/dmarket/test_arbitrage_scanner.py::test_get_api_client_existing PASSED [ 11%]
tests/dmarket/test_arbitrage_scanner.py::test_get_api_client_create_new PASSED [ 11%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_game_with_cache PASSED [ 11%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_game_without_cache PASSED [ 11%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_game_boost_mode PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_game_pro_mode PASSED  [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_game_with_price_range PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_game_api_error PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_standardize_items_dmarket_format PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_standardize_items_trader_format PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_standardize_items_mixed_formats PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_multiple_games_success PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_multiple_games_empty_list PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_multiple_games_one_fails PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_check_user_balance_success PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_check_user_balance_api_error PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_get_level_config_boost PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_get_level_config_pro PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_get_level_config_invalid PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_arbitrage_levels_defined PASSED [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_game_ids_defined PASSED    [ 12%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_level_boost PASSED    [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_level_with_cache PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_level_filters_by_price_range PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_all_levels_success PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_all_levels_one_fails PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_find_best_opportunities_top_n PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_find_best_opportunities_min_level PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_find_best_opportunities_max_level PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_get_level_stats_initial PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_auto_trade_items_success PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_auto_trade_items_empty_list PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_auto_trade_items_insufficient_balance PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_auto_trade_items_max_trades_limit PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_analyze_item_success PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_analyze_item_no_profit PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_full_arbitrage_workflow PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_game_with_zero_max_items PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_standardize_items_empty_list PASSED [ 13%]
tests/dmarket/test_arbitrage_scanner.py::test_standardize_items_invalid_format PASSED [ 14%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_multiple_games_concurrent PASSED [ 14%]
tests/dmarket/test_arbitrage_scanner.py::test_liquidity_filter_enabled_by_default PASSED [ 14%]
tests/dmarket/test_arbitrage_scanner.py::test_liquidity_filter_can_be_disabled PASSED [ 14%]
tests/dmarket/test_arbitrage_scanner.py::test_liquidity_analyzer_initialized_when_enabled PASSED [ 14%]
tests/dmarket/test_arbitrage_scanner.py::test_liquidity_analyzer_not_initialized_when_disabled PASSED [ 14%]
tests/dmarket/test_arbitrage_scanner.py::test_analyze_item_filters_by_low_liquidity PASSED [ 14%]
tests/dmarket/test_arbitrage_scanner.py::test_analyze_item_passes_high_liquidity PASSED [ 14%]
tests/dmarket/test_arbitrage_scanner.py::test_analyze_item_filters_by_time_to_sell PASSED [ 14%]
tests/dmarket/test_arbitrage_scanner.py::test_analyze_item_without_liquidity_filter PASSED [ 14%]
tests/dmarket/test_arbitrage_scanner.py::test_scan_level_with_liquidity_filter PASSED [ 14%]
tests/dmarket/test_dmarket_api.py::TestDMarketAPIInitialization::test_init_with_valid_keys PASSED [ 14%]
tests/dmarket/test_dmarket_api.py::TestDMarketAPIInitialization::test_init_without_keys PASSED [ 14%]
tests/dmarket/test_dmarket_api.py::TestDMarketAPIInitialization::test_init_with_custom_settings PASSED [ 14%]
tests/dmarket/test_dmarket_api.py::TestDMarketAPIInitialization::test_secret_key_conversion_string PASSED [ 14%]
tests/dmarket/test_dmarket_api.py::TestDMarketAPIInitialization::test_secret_key_conversion_bytes PASSED [ 14%]
tests/dmarket/test_dmarket_api.py::TestContextManager::test_context_manager_enters_and_exits PASSED [ 14%]
tests/dmarket/test_dmarket_api.py::TestContextManager::test_client_creation PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestContextManager::test_client_reuse PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestContextManager::test_client_close PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestSignatureGeneration::test_generate_signature_returns_headers PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestSignatureGeneration::test_generate_signature_with_body PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestSignatureGeneration::test_generate_signature_without_auth PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestSignatureGeneration::test_generate_headers_alias PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestSignatureGeneration::test_generate_signature_fallback_to_hmac PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestSignatureGeneration::test_generate_signature_hmac_direct PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestCaching::test_get_cache_key_with_params PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestCaching::test_get_cache_key_different_params PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestCaching::test_get_cache_key_with_data PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestCaching::test_is_cacheable_balance PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestCaching::test_is_cacheable_market_items PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestCaching::test_is_cacheable_post_request PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestGetBalance::test_get_balance_success PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestGetBalance::test_get_balance_no_funds PASSED [ 15%]
tests/dmarket/test_dmarket_api.py::TestGetBalance::test_get_balance_without_api_keys PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestGetBalance::test_get_balance_api_error PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestGetMarketItems::test_get_market_items_success PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestGetMarketItems::test_get_market_items_with_filters PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestGetMarketItems::test_get_market_items_empty_response PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestBuyItem::test_buy_item_success PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestBuyItem::test_buy_item_insufficient_funds PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestSellItem::test_sell_item_success PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestSellItem::test_sell_item_invalid_price PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestGetAllMarketItems::test_get_all_market_items_single_page PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestGetAllMarketItems::test_get_all_market_items_multiple_pages PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestGetAllMarketItems::test_get_all_market_items_respects_max_limit PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestGetUserInventory::test_get_user_inventory_success PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestGetUserInventory::test_get_user_inventory_with_filters PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestCacheManagement::test_clear_cache PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestCacheManagement::test_clear_cache_for_endpoint PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestAccountMethods::test_get_user_profile_success PASSED [ 16%]
tests/dmarket/test_dmarket_api.py::TestAccountMethods::test_get_account_details_success PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestOfferManagement::test_list_user_offers_success PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestOfferManagement::test_create_offers_success PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestOfferManagement::test_update_offer_prices_success PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestOfferManagement::test_remove_offers_success PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestGetSuggestedPrice::test_get_suggested_price_success PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestGetSuggestedPrice::test_get_suggested_price_item_not_found PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestRequestMethod::test_request_get_success PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestRequestMethod::test_request_post_with_data PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestRequestMethod::test_request_http_429_with_retry_after PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestRequestMethod::test_request_http_500_retries PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestRequestMethod::test_request_http_400_error_dict PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestRequestMethod::test_request_network_error_retries PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestRequestMethod::test_request_max_retries_exceeded PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestRequestMethod::test_request_json_parse_error PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestRequestMethod::test_request_delete_method PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestRequestMethod::test_request_put_method PASSED [ 17%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_get_deposit_status_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_get_aggregated_prices_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_get_sales_history_aggregator_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_get_market_meta_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_get_user_targets_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_delete_targets_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_edit_offer_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_delete_offer_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_list_offers_by_title_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_list_market_items_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_create_targets_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_buy_offers_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_get_targets_by_title_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_list_user_inventory_api_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestHighLevelAPIMethods::test_get_closed_targets_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestAdditionalMarketplaceMethods::test_get_sales_history_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestAdditionalMarketplaceMethods::test_get_item_price_history_success PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestAdditionalMarketplaceMethods::test_get_item_price_history_different_periods PASSED [ 18%]
tests/dmarket/test_dmarket_api.py::TestAdditionalMarketplaceMethods::test_get_market_meta_csgo PASSED [ 19%]
tests/dmarket/test_dmarket_api.py::TestAdditionalMarketplaceMethods::test_get_market_meta_default_game PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestImports::test_base_game_filter_imported PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestImports::test_cs2_filter_imported PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestImports::test_dota2_filter_imported PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestImports::test_rust_filter_imported PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestImports::test_filter_factory_imported PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestImports::test_apply_filters_imported PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestFilterFactory::test_get_filter_csgo PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestFilterFactory::test_get_filter_dota2 PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestFilterFactory::test_get_filter_tf2 PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestFilterFactory::test_get_filter_rust PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestFilterFactory::test_get_filter_invalid_game PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestBaseGameFilter::test_base_filter_has_apply_filters PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestBaseGameFilter::test_base_filter_has_supported_filters PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestBaseGameFilter::test_price_filter_in_base PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestCS2Filter::test_cs2_filter_instantiation PASSED [ 19%]
tests/dmarket/test_game_filters.py::TestCS2Filter::test_cs2_filter_has_specific_filters PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestCS2Filter::test_cs2_filter_apply_filters PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestDota2Filter::test_dota2_filter_instantiation PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestDota2Filter::test_dota2_filter_has_specific_filters PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestRustFilter::test_rust_filter_instantiation PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestRustFilter::test_rust_filter_has_specific_filters PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestApplyFiltersToItems::test_apply_filters_empty_items PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestApplyFiltersToItems::test_apply_filters_no_filters PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestApplyFiltersToItems::test_apply_filters_price_filter PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestApplyFiltersToItems::test_apply_filters_different_games PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestApplyFiltersToItems::test_apply_filters_invalid_game PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestFilterCompatibility::test_all_filters_inherit_from_base PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestFilterCompatibility::test_all_filters_have_apply_method PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestFilterCompatibility::test_filter_factory_returns_correct_types PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestEdgeCases::test_filter_with_none_price PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestEdgeCases::test_filter_with_missing_price_key PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestEdgeCases::test_filter_with_zero_price PASSED [ 20%]
tests/dmarket/test_game_filters.py::TestEdgeCases::test_filter_with_invalid_price_format PASSED [ 21%]
tests/dmarket/test_game_filters.py::TestModuleExports::test_all_exports_defined PASSED [ 21%]
tests/dmarket/test_game_filters.py::TestModuleExports::test_no_extra_exports PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_price_anomalies_success PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_price_anomalies_empty_items PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_price_anomalies_filter_by_price PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_price_anomalies_csgo_filters PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_price_anomalies_sorts_by_profit PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_trending_items_success PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_trending_items_upward_trend PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_trending_items_recovery_trend PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_trending_items_no_items PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_mispriced_rare_items_success PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_mispriced_rare_items_csgo_traits PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_mispriced_rare_items_dota2_traits PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_mispriced_rare_items_price_filter PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_mispriced_rare_items_sorts_by_discount PASSED [ 21%]
tests/dmarket/test_intramarket_arbitrage.py::test_scan_for_intramarket_opportunities_success PASSED [ 22%]
tests/dmarket/test_intramarket_arbitrage.py::test_scan_for_intramarket_opportunities_multiple_games PASSED [ 22%]
tests/dmarket/test_intramarket_arbitrage.py::test_scan_for_intramarket_opportunities_selective PASSED [ 22%]
tests/dmarket/test_intramarket_arbitrage.py::test_scan_for_intramarket_opportunities_error_handling PASSED [ 22%]
tests/dmarket/test_intramarket_arbitrage.py::test_price_anomaly_type_enum PASSED [ 22%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_price_anomalies_tf2 PASSED [ 22%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_mispriced_rare_items_tf2 PASSED [ 22%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_trending_items_tf2 PASSED [ 22%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_price_anomalies_rust PASSED [ 22%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_mispriced_rare_items_rust PASSED [ 22%]
tests/dmarket/test_intramarket_arbitrage.py::test_find_trending_items_rust PASSED [ 22%]
tests/dmarket/test_intramarket_arbitrage.py::test_scan_for_intramarket_opportunities_all_games PASSED [ 22%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityMetrics::test_create_metrics PASSED [ 22%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_analyzer_initialization PASSED [ 22%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_analyze_high_liquidity_item PASSED [ 22%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_analyze_low_liquidity_item PASSED [ 22%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_filter_liquid_items PASSED [ 22%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_calculate_sales_per_week PASSED [ 22%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_calculate_avg_time_to_sell PASSED [ 23%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_calculate_price_stability PASSED [ 23%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_calculate_market_depth PASSED [ 23%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_calculate_liquidity_score PASSED [ 23%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_is_item_liquid PASSED [ 23%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_get_liquidity_description PASSED [ 23%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_empty_sales_history PASSED [ 23%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_api_error_handling PASSED [ 23%]
tests/dmarket/test_liquidity_analyzer.py::TestLiquidityAnalyzer::test_get_sales_history_pagination PASSED [ 23%]
tests/dmarket/test_market_analysis.py::TestExtractPriceFromItem::test_extract_price_with_suggested_price PASSED [ 23%]
tests/dmarket/test_market_analysis.py::TestExtractPriceFromItem::test_extract_price_with_price_field PASSED [ 23%]
tests/dmarket/test_market_analysis.py::TestExtractPriceFromItem::test_extract_price_with_cents PASSED [ 23%]
tests/dmarket/test_market_analysis.py::TestExtractPriceFromItem::test_extract_price_invalid PASSED [ 23%]
tests/dmarket/test_market_analysis.py::TestCalculatePopularityScore::test_calculate_score_with_sales PASSED [ 23%]
tests/dmarket/test_market_analysis.py::TestCalculatePopularityScore::test_calculate_score_zero_offers PASSED [ 23%]
tests/dmarket/test_market_analysis.py::TestCalculatePopularityScore::test_calculate_score_no_data PASSED [ 23%]
tests/dmarket/test_market_analysis.py::TestGetMarketDirection::test_direction_up PASSED [ 23%]
tests/dmarket/test_market_analysis.py::TestGetMarketDirection::test_direction_down PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestGetMarketDirection::test_direction_stable PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestGetMarketDirection::test_direction_empty PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestExtractTrendingCategories::test_extract_categories PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestExtractTrendingCategories::test_extract_categories_empty PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestCalculateMarketVolatilityLevel::test_high_volatility PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestCalculateMarketVolatilityLevel::test_low_volatility PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestCalculateMarketVolatilityLevel::test_empty_list PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestGenerateMarketRecommendations::test_generate_recommendations PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestGenerateMarketRecommendations::test_generate_recommendations_empty PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestAnalyzePriceChanges::test_analyze_basic PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestAnalyzePriceChanges::test_analyze_with_direction_up PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestAnalyzePriceChanges::test_analyze_api_error PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestAnalyzePriceChanges::test_analyze_empty_items PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestFindTrendingItems::test_find_trending_basic PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestFindTrendingItems::test_find_trending_min_sales_filter PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestFindTrendingItems::test_find_trending_api_error PASSED [ 24%]
tests/dmarket/test_market_analysis.py::TestAnalyzeMarketVolatility::test_analyze_volatility_basic PASSED [ 25%]
tests/dmarket/test_market_analysis.py::TestAnalyzeMarketVolatility::test_analyze_volatility_empty PASSED [ 25%]
tests/dmarket/test_market_analysis.py::TestGenerateMarketReport::test_generate_report_basic PASSED [ 25%]
tests/dmarket/test_market_analysis.py::TestGenerateMarketReport::test_generate_report_multiple_games PASSED [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_price_alert_initialization PASSED [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_price_alert_check_condition_below_true PASSED [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_price_alert_check_condition_below_false PASSED [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_price_alert_check_condition_above_true PASSED [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_price_alert_check_condition_above_false PASSED [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_price_alert_check_condition_equal PASSED [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_price_alert_reset PASSED [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_price_alert_multiple_checks_after_trigger PASSED [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_watcher_initialization PASSED [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_watcher_start_success PASSED [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_watcher_start_already_running PASSED [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_watcher_start_connection_failed PASSED [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_watcher_stop PASSED   [ 25%]
tests/dmarket/test_realtime_price_watcher.py::test_watcher_stop_not_running PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_watch_item_without_price PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_watch_item_with_price PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_unwatch_item PASSED   [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_unwatch_item_not_watched PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_add_price_alert PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_add_multiple_alerts_same_item PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_remove_price_alert PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_remove_nonexistent_alert PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_get_all_alerts PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_get_triggered_alerts_empty PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_get_triggered_alerts_with_triggers PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_reset_triggered_alerts PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_register_price_change_handler PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_register_global_price_change_handler PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_register_alert_handler PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_get_current_price_exists PASSED [ 26%]
tests/dmarket/test_realtime_price_watcher.py::test_get_current_price_not_exists PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_add_to_price_history PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_add_to_price_history_limit PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_get_price_history_all PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_get_price_history_with_limit PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_get_price_history_empty PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_get_item_metadata_exists PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_get_item_metadata_not_exists PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_subscribe_to_item_not_running PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_subscribe_to_item_success PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_subscribe_to_market_updates_not_running PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_subscribe_to_market_updates_success PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_fetch_item_price_success PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_fetch_item_price_no_items PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_fetch_item_price_api_error PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_process_price_change_no_change PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_process_price_change_with_handlers PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_process_price_change_handler_error PASSED [ 27%]
tests/dmarket/test_realtime_price_watcher.py::test_check_alerts_triggered PASSED [ 28%]
tests/dmarket/test_realtime_price_watcher.py::test_check_alerts_not_triggered PASSED [ 28%]
tests/dmarket/test_realtime_price_watcher.py::test_check_alerts_already_triggered PASSED [ 28%]
tests/dmarket/test_realtime_price_watcher.py::test_handle_market_update_success PASSED [ 28%]
tests/dmarket/test_realtime_price_watcher.py::test_handle_market_update_unwatched_item PASSED [ 28%]
tests/dmarket/test_realtime_price_watcher.py::test_handle_items_update_with_metadata PASSED [ 28%]
tests/dmarket/test_realtime_price_watcher.py::test_full_workflow_with_alert PASSED [ 28%]
tests/dmarket/test_realtime_price_watcher.py::test_full_workflow_price_changes PASSED [ 28%]
tests/dmarket/test_sales_history.py::TestHelperFunctions::test_calculate_median_odd_count PASSED [ 28%]
tests/dmarket/test_sales_history.py::TestHelperFunctions::test_calculate_median_even_count PASSED [ 28%]
tests/dmarket/test_sales_history.py::TestHelperFunctions::test_calculate_median_empty PASSED [ 28%]
tests/dmarket/test_sales_history.py::TestHelperFunctions::test_calculate_median_single PASSED [ 28%]
tests/dmarket/test_sales_history.py::TestHelperFunctions::test_calculate_std_dev PASSED [ 28%]
tests/dmarket/test_sales_history.py::TestHelperFunctions::test_calculate_std_dev_empty PASSED [ 28%]
tests/dmarket/test_sales_history.py::TestHelperFunctions::test_calculate_std_dev_single PASSED [ 28%]
tests/dmarket/test_sales_history.py::TestHelperFunctions::test_extract_price_from_item_sales_price PASSED [ 28%]
tests/dmarket/test_sales_history.py::TestHelperFunctions::test_extract_price_from_item_price_usd PASSED [ 28%]
tests/dmarket/test_sales_history.py::TestHelperFunctions::test_extract_price_from_item_no_price PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestHelperFunctions::test_extract_price_from_item_invalid_format PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestHelperFunctions::test_get_cache_file_path PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestCacheOperations::test_save_and_load_cache PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestCacheOperations::test_load_cache_expired PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestCacheOperations::test_load_cache_not_exists PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestGetItemSalesHistory::test_get_sales_history_success PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestGetItemSalesHistory::test_get_sales_history_empty PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestGetItemSalesHistory::test_get_sales_history_invalid_response PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestGetItemSalesHistory::test_get_sales_history_with_cache PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestDetectPriceAnomalies::test_detect_anomalies_found PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestDetectPriceAnomalies::test_detect_anomalies_none PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestDetectPriceAnomalies::test_detect_anomalies_no_data PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestCalculatePriceTrend::test_price_trend_up PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestCalculatePriceTrend::test_price_trend_down PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestCalculatePriceTrend::test_price_trend_stable PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestCalculatePriceTrend::test_price_trend_no_data PASSED [ 29%]
tests/dmarket/test_sales_history.py::TestCompatibilityFunctions::test_get_sales_history_success PASSED [ 30%]
tests/dmarket/test_sales_history.py::TestCompatibilityFunctions::test_get_sales_history_empty_items PASSED [ 30%]
tests/dmarket/test_sales_history.py::TestCompatibilityFunctions::test_analyze_sales_history_success PASSED [ 30%]
tests/dmarket/test_sales_history.py::TestCompatibilityFunctions::test_analyze_sales_history_no_data PASSED [ 30%]
tests/dmarket/test_sales_history.py::TestCompatibilityFunctions::test_execute_api_request PASSED [ 30%]
tests/dmarket/test_sales_history.py::TestCompatibilityFunctions::test_get_arbitrage_opportunities_with_sales_history PASSED [ 30%]
tests/dmarket/test_sales_history.py::TestEdgeCases::test_get_sales_history_api_error PASSED [ 30%]
tests/dmarket/test_sales_history.py::TestEdgeCases::test_invalid_period PASSED [ 30%]
tests/dmarket/test_schemas.py::TestBalanceResponse::test_valid_balance_response PASSED [ 30%]
tests/dmarket/test_schemas.py::TestBalanceResponse::test_get_usd_decimal PASSED [ 30%]
tests/dmarket/test_schemas.py::TestBalanceResponse::test_get_usd_decimal_zero PASSED [ 30%]
tests/dmarket/test_schemas.py::TestBalanceResponse::test_get_available_usd_decimal PASSED [ 30%]
tests/dmarket/test_schemas.py::TestBalanceResponse::test_extra_fields_allowed PASSED [ 30%]
tests/dmarket/test_schemas.py::TestMarketItemsResponse::test_valid_market_items_response PASSED [ 30%]
tests/dmarket/test_schemas.py::TestMarketItemsResponse::test_empty_objects_list PASSED [ 30%]
tests/dmarket/test_schemas.py::TestMarketItemsResponse::test_price_conversion PASSED [ 30%]
tests/dmarket/test_schemas.py::TestCreateTargetsResponse::test_valid_create_targets_response PASSED [ 30%]
tests/dmarket/test_schemas.py::TestCreateTargetsResponse::test_camel_case_alias PASSED [ 31%]
tests/dmarket/test_schemas.py::TestUserTargetsResponse::test_valid_user_targets_response PASSED [ 31%]
tests/dmarket/test_schemas.py::TestUserTargetsResponse::test_optional_cursor PASSED [ 31%]
tests/dmarket/test_schemas.py::TestBuyOffersResponse::test_valid_buy_offers_response PASSED [ 31%]
tests/dmarket/test_schemas.py::TestBuyOffersResponse::test_camel_case_aliases PASSED [ 31%]
tests/dmarket/test_schemas.py::TestAggregatedPricesResponse::test_valid_aggregated_prices_response PASSED [ 31%]
tests/dmarket/test_schemas.py::TestAggregatedPricesResponse::test_camel_case_conversion PASSED [ 31%]
tests/dmarket/test_schemas.py::TestSalesHistoryResponse::test_valid_sales_history_response PASSED [ 31%]
tests/dmarket/test_schemas.py::TestSalesHistoryResponse::test_empty_sales_list PASSED [ 31%]
tests/dmarket/test_schemas.py::TestValidationErrors::test_missing_required_field PASSED [ 31%]
tests/dmarket/test_schemas.py::TestValidationErrors::test_wrong_type_field PASSED [ 31%]
tests/dmarket/test_schemas.py::TestDecimalPrecision::test_decimal_precision_balance PASSED [ 31%]
tests/dmarket/test_schemas.py::TestDecimalPrecision::test_decimal_precision_small_values PASSED [ 31%]
tests/dmarket/test_schemas.py::TestDecimalPrecision::test_decimal_no_float_errors PASSED [ 31%]
tests/dmarket/test_schemas.py::TestBackwardCompatibility::test_new_fields_in_balance PASSED [ 31%]
tests/dmarket/test_schemas.py::TestBackwardCompatibility::test_missing_optional_fields PASSED [ 31%]
tests/dmarket/test_smart_market_finder.py::test_smart_market_finder_initialization PASSED [ 31%]
tests/dmarket/test_smart_market_finder.py::test_smart_market_finder_custom_settings PASSED [ 31%]
tests/dmarket/test_smart_market_finder.py::test_find_best_opportunities_success PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_find_best_opportunities_no_items PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_find_best_opportunities_api_error PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_find_underpriced_items_success PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_find_underpriced_items_no_results PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_determine_opportunity_type_underpriced PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_determine_opportunity_type_high_liquidity PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_calculate_confidence_score PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_calculate_liquidity_score PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_determine_risk_level_low PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_determine_risk_level_high PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_estimate_time_to_sell PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_find_best_deals PASSED   [ 32%]
tests/dmarket/test_smart_market_finder.py::test_find_quick_profits PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_market_opportunity_type_enum PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_market_opportunity_dataclass PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_find_target_opportunities_success PASSED [ 32%]
tests/dmarket/test_smart_market_finder.py::test_find_target_opportunities_no_spread PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_find_target_opportunities_api_error PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_find_quick_flip_opportunities_success PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_find_quick_flip_no_liquidity PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_get_market_items_with_aggregated_prices PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_get_market_items_with_aggregated_prices_cache PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_analyze_item_opportunity_underpriced PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_analyze_item_opportunity_no_suggested_price PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_analyze_item_opportunity_no_title PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_analyze_item_opportunity_zero_price PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_analyze_item_opportunity_with_aggregated PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_analyze_item_opportunity_exception_handling PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_generate_recommendation_default PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_generate_notes_low_liquidity PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_determine_opportunity_type_value_investment PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_determine_opportunity_type_target_opportunity PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_find_best_opportunities_filters_low_confidence PASSED [ 33%]
tests/dmarket/test_smart_market_finder.py::test_find_best_opportunities_filters_by_type PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_find_underpriced_items_with_discount PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_find_target_opportunities_no_aggregated_prices PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_find_target_opportunities_no_profit PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_find_quick_flip_filters_high_risk PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_find_quick_flip_sets_estimated_time PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_get_market_items_aggregated_prices_error PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_get_market_items_no_objects PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_get_market_items_exception PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_calculate_confidence_with_suggested_price PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_calculate_liquidity_max_cap PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_determine_risk_level_medium PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_estimate_time_to_sell_boundaries PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_find_underpriced_invalid_response PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_find_target_opportunities_empty_titles PASSED [ 34%]
tests/dmarket/test_smart_market_finder.py::test_find_best_opportunities_sorts_by_confidence PASSED [ 34%]
tests/dmarket/test_targets.py::test_target_manager_initialization PASSED [ 34%]
tests/dmarket/test_targets.py::test_create_target_success PASSED         [ 35%]
tests/dmarket/test_targets.py::test_create_target_invalid_price PASSED   [ 35%]
tests/dmarket/test_targets.py::test_create_target_invalid_amount PASSED  [ 35%]
tests/dmarket/test_targets.py::test_create_target_empty_title PASSED     [ 35%]
tests/dmarket/test_targets.py::test_create_target_with_attrs PASSED      [ 35%]
tests/dmarket/test_targets.py::test_get_user_targets_success PASSED      [ 35%]
tests/dmarket/test_targets.py::test_get_user_targets_empty PASSED        [ 35%]
tests/dmarket/test_targets.py::test_get_targets_by_title PASSED          [ 35%]
tests/dmarket/test_targets.py::test_delete_target_success PASSED         [ 35%]
tests/dmarket/test_targets.py::test_delete_target_not_found PASSED       [ 35%]
tests/dmarket/test_targets.py::test_delete_all_targets PASSED            [ 35%]
tests/dmarket/test_targets.py::test_get_target_statistics PASSED         [ 35%]
tests/dmarket/test_targets.py::test_get_closed_targets PASSED            [ 35%]
tests/dmarket/test_targets.py::test_create_smart_targets_basic PASSED    [ 35%]
tests/integration/test_api_validation.py::TestGetMarketItemsIntegration::test_valid_response_validates_successfully PASSED [ 35%]
tests/integration/test_api_validation.py::TestGetMarketItemsIntegration::test_invalid_response_sends_notification PASSED [ 35%]
tests/integration/test_api_validation.py::TestCreateTargetsIntegration::test_valid_create_targets_response PASSED [ 35%]
tests/integration/test_api_validation.py::TestGetUserTargetsIntegration::test_valid_user_targets_response PASSED [ 36%]
tests/integration/test_api_validation.py::TestBuyOffersIntegration::test_valid_buy_offers_response PASSED [ 36%]
tests/integration/test_api_validation.py::TestBuyOffersIntegration::test_missing_required_status_field PASSED [ 36%]
tests/integration/test_api_validation.py::TestAggregatedPricesIntegration::test_valid_aggregated_prices_response PASSED [ 36%]
tests/integration/test_api_validation.py::TestSalesHistoryIntegration::test_valid_sales_history_response PASSED [ 36%]
tests/integration/test_api_validation.py::TestNotifierIntegration::test_notifier_receives_validation_error_details PASSED [ 36%]
tests/integration/test_api_validation.py::TestNotifierIntegration::test_api_without_notifier_works_correctly PASSED [ 36%]
tests/integration/test_api_validation.py::TestBackwardCompatibility::test_invalid_response_returns_raw_data PASSED [ 36%]
tests/integration/test_api_validation.py::TestBackwardCompatibility::test_extra_fields_in_response_accepted PASSED [ 36%]
tests/integration/test_api_validation.py::TestDecoratorBehavior::test_decorator_does_not_modify_valid_response PASSED [ 36%]
tests/integration/test_api_validation.py::TestDecoratorBehavior::test_multiple_validation_errors_all_reported PASSED [ 36%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_get_balance_success PASSED [ 36%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_get_balance_rate_limit PASSED [ 36%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_get_balance_unauthorized PASSED [ 36%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_get_market_items_success PASSED [ 36%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_get_market_items_pagination PASSED [ 36%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_get_market_items_empty_result PASSED [ 36%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_create_targets_success PASSED [ 36%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_create_targets_validation_error PASSED [ 37%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_network_timeout PASSED [ 37%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_network_connection_error PASSED [ 37%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_server_error_retry PASSED [ 37%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_malformed_json_response PASSED [ 37%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_concurrent_requests PASSED [ 37%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIEdgeCasesHTTPX::test_very_large_response PASSED [ 37%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIEdgeCasesHTTPX::test_unicode_characters_in_response PASSED [ 37%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIEdgeCasesHTTPX::test_missing_optional_fields PASSED [ 37%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIEdgeCasesHTTPX::test_price_edge_cases PASSED [ 37%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIEdgeCasesHTTPX::test_rate_limit_with_multiple_retries PASSED [ 37%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIEdgeCasesHTTPX::test_api_version_compatibility PASSED [ 37%]
tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIEdgeCasesHTTPX::test_partial_response_handling PASSED [ 37%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerEdgeCases::test_scan_with_no_profitable_items PASSED [ 37%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerEdgeCases::test_scan_with_very_high_profit PASSED [ 37%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerEdgeCases::test_scan_with_zero_suggested_price PASSED [ 37%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerEdgeCases::test_scan_with_missing_suggested_price PASSED [ 37%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerEdgeCases::test_scan_with_invalid_price_format PASSED [ 38%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerEdgeCases::test_scan_all_levels_with_api_errors PASSED [ 38%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerEdgeCases::test_scan_with_extreme_price_ranges PASSED [ 38%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerEdgeCases::test_scan_with_concurrent_level_scans PASSED [ 38%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerEdgeCases::test_scan_with_rate_limit_recovery PASSED [ 38%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerEdgeCases::test_scan_with_partial_data PASSED [ 38%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerPerformance::test_scan_large_dataset PASSED [ 38%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerPerformance::test_scan_multiple_pages_performance PASSED [ 38%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerFiltering::test_filter_by_minimum_profit PASSED [ 38%]
tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerFiltering::test_filter_by_category PASSED [ 38%]
tests/integration/test_arbitrage_scanner_integration.py::test_scan_game_with_liquidity_filter_enabled PASSED [ 38%]
tests/integration/test_arbitrage_scanner_integration.py::test_scan_game_with_liquidity_filter_disabled PASSED [ 38%]
tests/integration/test_arbitrage_scanner_integration.py::test_scan_game_filtering_logic PASSED [ 38%]
tests/integration/test_dmarket_api_integration.py::TestDMarketAPIIntegration::test_get_balance_success PASSED [ 38%]
tests/integration/test_dmarket_api_integration.py::TestDMarketAPIIntegration::test_get_market_items_with_pagination PASSED [ 38%]
tests/integration/test_dmarket_api_integration.py::TestDMarketAPIIntegration::test_get_all_market_items_with_cursor PASSED [ 38%]
tests/integration/test_dmarket_api_integration.py::TestDMarketAPIIntegration::test_rate_limit_handling PASSED [ 38%]
tests/integration/test_dmarket_api_integration.py::TestDMarketAPIIntegration::test_network_error_retry PASSED [ 39%]
tests/integration/test_dmarket_api_integration.py::TestDMarketAPIIntegration::test_api_downtime_scenario PASSED [ 39%]
tests/integration/test_dmarket_api_integration.py::TestDMarketAPIIntegration::test_get_aggregated_prices SKIPPED [ 39%]
tests/integration/test_dmarket_api_integration.py::TestDMarketAPIIntegration::test_concurrent_api_requests PASSED [ 39%]
tests/integration/test_dmarket_api_integration.py::TestDMarketAPIEdgeCases::test_empty_market_items_response PASSED [ 39%]
tests/integration/test_dmarket_api_integration.py::TestDMarketAPIEdgeCases::test_malformed_response_handling PASSED [ 39%]
tests/integration/test_dmarket_api_integration.py::TestDMarketAPIEdgeCases::test_timeout_handling PASSED [ 39%]
tests/integration/test_dmarket_api_integration.py::TestDMarketAPIEdgeCases::test_authentication_failure PASSED [ 39%]
tests/integration/test_edge_cases.py::TestAPIDowntimeScenarios::test_extended_api_downtime PASSED [ 39%]
tests/integration/test_edge_cases.py::TestAPIDowntimeScenarios::test_intermittent_connectivity PASSED [ 39%]
tests/integration/test_edge_cases.py::TestAPIDowntimeScenarios::test_dns_resolution_failure PASSED [ 39%]
tests/integration/test_edge_cases.py::TestRateLimitScenarios::test_sustained_rate_limiting PASSED [ 39%]
tests/integration/test_edge_cases.py::TestRateLimitScenarios::test_varying_retry_after_values PASSED [ 39%]
tests/integration/test_edge_cases.py::TestRateLimitScenarios::test_rate_limit_without_retry_header PASSED [ 39%]
tests/integration/test_edge_cases.py::TestMalformedResponseScenarios::test_invalid_json_response PASSED [ 39%]
tests/integration/test_edge_cases.py::TestMalformedResponseScenarios::test_missing_required_fields PASSED [ 39%]
tests/integration/test_edge_cases.py::TestMalformedResponseScenarios::test_unexpected_response_structure PASSED [ 39%]
tests/integration/test_edge_cases.py::TestExtremeDataScenarios::test_very_large_market_response PASSED [ 40%]
tests/integration/test_edge_cases.py::TestExtremeDataScenarios::test_extreme_price_values PASSED [ 40%]
tests/integration/test_edge_cases.py::TestExtremeDataScenarios::test_unicode_in_item_names PASSED [ 40%]
tests/integration/test_edge_cases.py::TestTimeoutScenarios::test_read_timeout PASSED [ 40%]
tests/integration/test_edge_cases.py::TestTimeoutScenarios::test_write_timeout PASSED [ 40%]
tests/integration/test_edge_cases.py::TestTimeoutScenarios::test_connect_timeout PASSED [ 40%]
tests/integration/test_edge_cases.py::TestAuthenticationEdgeCases::test_expired_credentials PASSED [ 40%]
tests/integration/test_edge_cases.py::TestAuthenticationEdgeCases::test_invalid_signature PASSED [ 40%]
tests/integration/test_full_workflows.py::TestFullArbitrageWorkflow::test_complete_arbitrage_cycle PASSED [ 40%]
tests/integration/test_full_workflows.py::TestFullArbitrageWorkflow::test_multi_level_scan_workflow PASSED [ 40%]
tests/integration/test_full_workflows.py::TestFullArbitrageWorkflow::test_user_persistence_workflow PASSED [ 40%]
tests/integration/test_full_workflows.py::TestErrorRecoveryWorkflows::test_scan_with_partial_api_failure FAILED [ 40%]
tests/integration/test_full_workflows.py::TestErrorRecoveryWorkflows::test_database_transaction_rollback PASSED [ 40%]
tests/integration/test_full_workflows.py::TestConcurrentOperations::test_concurrent_user_creation FAILED [ 40%]
tests/integration/test_full_workflows.py::TestConcurrentOperations::test_concurrent_scans PASSED [ 40%]
tests/integration/test_full_workflows.py::TestCachingBehavior::test_api_response_caching PASSED [ 40%]
tests/integration/test_targets_edge_cases.py::TestTargetsEdgeCases::test_create_target_minimum_price FAILED [ 40%]
tests/integration/test_targets_edge_cases.py::TestTargetsEdgeCases::test_create_target_minimum_price ERROR [ 40%]

=================================== ERRORS ====================================
_ ERROR at teardown of TestTargetsEdgeCases.test_create_target_minimum_price __
.venv\Lib\site-packages\pytest_httpx\__init__.py:67: in httpx_mock
    mock._assert_options()
.venv\Lib\site-packages\pytest_httpx\_httpx_mock.py:319: in _assert_options
    assert not callbacks_not_executed, (
E   AssertionError: The following responses are mocked but not requested:
E     - Match POST request on https://api.dmarket.com/marketplace-api/v1/user-targets/create
E     
E     If this is on purpose, refer to https://github.com/Colin-b/pytest_httpx/blob/master/README.md#allow-to-register-more-responses-than-what-will-be-requested
E   assert not [<pytest_httpx._request_matcher._RequestMatcher object at 0x0000016179B0D610>]
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
INFO     src.utils.rate_limiter:rate_limiter.py:86     API (: True)
INFO     src.dmarket.dmarket_api:dmarket_api.py:213 Initialized DMarketAPI client [DRY-RUN] (authorized: yes, cache: enabled)
================================== FAILURES ===================================
________ TestErrorRecoveryWorkflows.test_scan_with_partial_api_failure ________
tests\integration\test_full_workflows.py:121: in test_scan_with_partial_api_failure
    opportunities = await scanner.scan_level(level="standard", game="csgo")
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\dmarket\arbitrage_scanner.py:1131: in scan_level
    items_response = await self.api_client.get_market_items(
src\dmarket\api_validator.py:114: in wrapper
    schema.model_validate(response_data)
src\dmarket\schemas.py:100: in validate_total
    return int(v) if v is not None else 0
           ^^^^^^
E   TypeError: int() argument must be a string, a bytes-like object or a real number, not 'dict'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
INFO     src.utils.rate_limiter:rate_limiter.py:86     API (: True)
INFO     src.dmarket.dmarket_api:dmarket_api.py:213 Initialized DMarketAPI client [DRY-RUN] (authorized: yes, cache: enabled)
------------------------------ Captured log call ------------------------------
DEBUG    src.dmarket.dmarket_api:dmarket_api.py:1431 \u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u0441 \u043c\u0430\u0440\u043a\u0435\u0442\u0430: game=a8db, limit=30, price_from=300, price_to=1000\nERROR    src.dmarket.dmarket_api:dmarket_api.py:1466 \u274c \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432: Server error\nTraceback (most recent call last):\n  File "D:\\Dmarket\\DMarket-Telegram-Bot\\DMarket-Telegram-Bot\\src\\dmarket\\dmarket_api.py", line 1438, in get_market_items\n    response = await self._request(\n               ^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Program Files\\Python311\\Lib\\unittest\\mock.py", line 2249, in _execute_mock_call\n    raise result\nhttpx.HTTPStatusError: Server error
___________ TestConcurrentOperations.test_concurrent_user_creation ____________
.venv\Lib\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
.venv\Lib\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
.venv\Lib\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:180: in execute
    self._adapt_connection._handle_exception(error)
.venv\Lib\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:340: in _handle_exception
    raise error
.venv\Lib\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:162: in execute
    self.await_(_cursor.execute(operation, parameters))
.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
.venv\Lib\site-packages\aiosqlite\cursor.py:40: in execute
    await self._execute(self._cursor.execute, sql, parameters)
.venv\Lib\site-packages\aiosqlite\cursor.py:32: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\aiosqlite\core.py:122: in _execute
    return await future
           ^^^^^^^^^^^^
.venv\Lib\site-packages\aiosqlite\core.py:105: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.IntegrityError: UNIQUE constraint failed: users.telegram_id

The above exception was the direct cause of the following exception:
tests\integration\test_full_workflows.py:154: in test_concurrent_user_creation
    users = await asyncio.gather(create_user(999), create_user(999), create_user(999))
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\integration\test_full_workflows.py:149: in create_user
    return await test_database.get_or_create_user(
src\utils\database.py:288: in get_or_create_user
    await session.execute(
.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py:449: in execute
    result = await greenlet_spawn(
.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\sqlalchemy\orm\session.py:2351: in execute
    return self._execute_internal(
.venv\Lib\site-packages\sqlalchemy\orm\session.py:2258: in _execute_internal
    result = conn.execute(
.venv\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
.venv\Lib\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
.venv\Lib\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
.venv\Lib\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
.venv\Lib\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
.venv\Lib\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
.venv\Lib\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
.venv\Lib\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
.venv\Lib\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:180: in execute
    self._adapt_connection._handle_exception(error)
.venv\Lib\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:340: in _handle_exception
    raise error
.venv\Lib\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:162: in execute
    self.await_(_cursor.execute(operation, parameters))
.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
.venv\Lib\site-packages\aiosqlite\cursor.py:40: in execute
    await self._execute(self._cursor.execute, sql, parameters)
.venv\Lib\site-packages\aiosqlite\cursor.py:32: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\aiosqlite\core.py:122: in _execute
    return await future
           ^^^^^^^^^^^^
.venv\Lib\site-packages\aiosqlite\core.py:105: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: users.telegram_id
E   [SQL: 
E                           INSERT INTO users (
E                               id, telegram_id, username, first_name,
E                               last_name, language_code, is_active,
E                               is_admin, created_at, updated_at,
E                               last_activity
E                           ) VALUES (
E                               ?, ?, ?, ?,
E                               ?, ?, ?,
E                               ?, ?, ?,
E                               ?
E                           )
E                       ]
E   [parameters: ('474916fd-753f-48af-a067-ce165d3de3a8', 999, 'user_999', None, None, 'en', True, False, datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc))]
E   (Background on this error at: https://sqlalche.me/e/20/gkpj)
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
DEBUG    aiosqlite:core.py:104 executing <function connect.<locals>.connector at 0x000001617A3909A0>
DEBUG    aiosqlite:core.py:106 operation <function connect.<locals>.connector at 0x000001617A3909A0> completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001617B4A3D30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001617A390E00>, deterministic=True)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001617B4A3D30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001617A390E00>, deterministic=True) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001617B4A3D30>, 'floor', 1, <built-in function floor>, deterministic=True)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001617B4A3D30>, 'floor', 1, <built-in function floor>, deterministic=True) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A31D740>, 'PRAGMA read_uncommitted', [])
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A31D740>, 'PRAGMA read_uncommitted', []) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A31D740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A31D740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A31D740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A31D740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000161768D1A40>, 'PRAGMA main.table_info("price_alerts")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000161768D1A40>, 'PRAGMA main.table_info("price_alerts")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000161768D1A40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x00000161768D1A40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000161768D1A40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000161768D1A40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2075C0>, 'PRAGMA temp.table_info("price_alerts")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2075C0>, 'PRAGMA temp.table_info("price_alerts")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2075C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2075C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2075C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2075C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A204C40>, 'PRAGMA main.table_info("command_log")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A204C40>, 'PRAGMA main.table_info("command_log")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A204C40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A204C40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A204C40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A204C40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A204340>, 'PRAGMA temp.table_info("command_log")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A204340>, 'PRAGMA temp.table_info("command_log")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A204340>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A204340>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A204340>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A204340>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2050C0>, 'PRAGMA main.table_info("events")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2050C0>, 'PRAGMA main.table_info("events")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2050C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2050C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2050C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2050C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000016179951840>, 'PRAGMA temp.table_info("events")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000016179951840>, 'PRAGMA temp.table_info("events")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000016179951840>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000016179951840>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000016179951840>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000016179951840>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2740>, 'PRAGMA main.table_info("market_data")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2740>, 'PRAGMA main.table_info("market_data")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B2740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B2740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3840>, 'PRAGMA temp.table_info("market_data")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3840>, 'PRAGMA temp.table_info("market_data")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B3840>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B3840>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3840>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3840>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1BC0>, 'PRAGMA main.table_info("market_data_cache")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1BC0>, 'PRAGMA main.table_info("market_data_cache")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1BC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1BC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1BC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1BC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B29C0>, 'PRAGMA temp.table_info("market_data_cache")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B29C0>, 'PRAGMA temp.table_info("market_data_cache")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B29C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B29C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B29C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B29C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B16C0>, 'PRAGMA main.table_info("targets")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B16C0>, 'PRAGMA main.table_info("targets")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B16C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B16C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B16C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B16C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B23C0>, 'PRAGMA temp.table_info("targets")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B23C0>, 'PRAGMA temp.table_info("targets")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B23C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B23C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B23C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B23C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2F40>, 'PRAGMA main.table_info("trade_history")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2F40>, 'PRAGMA main.table_info("trade_history")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B2F40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B2F40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2F40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2F40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B19C0>, 'PRAGMA temp.table_info("trade_history")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B19C0>, 'PRAGMA temp.table_info("trade_history")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B19C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B19C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B19C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B19C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1840>, 'PRAGMA main.table_info("trading_settings")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1840>, 'PRAGMA main.table_info("trading_settings")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1840>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1840>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1840>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1840>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0F40>, 'PRAGMA temp.table_info("trading_settings")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0F40>, 'PRAGMA temp.table_info("trading_settings")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B0F40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B0F40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0F40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0F40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1D40>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1D40>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1D40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1D40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1D40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1D40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1140>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1140>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1140>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1140>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1140>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1140>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0EC0>, 'PRAGMA main.table_info("user_settings")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0EC0>, 'PRAGMA main.table_info("user_settings")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B0EC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B0EC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0EC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0EC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1240>, 'PRAGMA temp.table_info("user_settings")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1240>, 'PRAGMA temp.table_info("user_settings")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1240>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1240>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1240>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1240>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2AC0>, 'PRAGMA main.table_info("scan_checkpoints")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2AC0>, 'PRAGMA main.table_info("scan_checkpoints")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B2AC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B2AC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2AC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2AC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B08C0>, 'PRAGMA temp.table_info("scan_checkpoints")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B08C0>, 'PRAGMA temp.table_info("scan_checkpoints")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B08C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B08C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B08C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B08C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2071C0>, '\nCREATE TABLE price_alerts (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36) NOT NULL, \n\titem_id VARCHAR(255), \n\tmarket_hash_name VARCHAR(500), \n\tgame VARCHAR(50), \n\ttarget_price FLOAT NOT NULL, \n\tcondition VARCHAR(20), \n\tis_active BOOLEAN, \n\ttriggered BOOLEAN, \n\ttriggered_at DATETIME, \n\tcreated_at DATETIME, \n\texpires_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2071C0>, '\nCREATE TABLE price_alerts (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36) NOT NULL, \n\titem_id VARCHAR(255), \n\tmarket_hash_name VARCHAR(500), \n\tgame VARCHAR(50), \n\ttarget_price FLOAT NOT NULL, \n\tcondition VARCHAR(20), \n\tis_active BOOLEAN, \n\ttriggered BOOLEAN, \n\ttriggered_at DATETIME, \n\tcreated_at DATETIME, \n\texpires_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2071C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2071C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A3D55C0>, 'CREATE INDEX ix_price_alerts_is_active ON price_alerts (is_active)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A3D55C0>, 'CREATE INDEX ix_price_alerts_is_active ON price_alerts (is_active)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A3D55C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A3D55C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A3D4E40>, 'CREATE INDEX ix_price_alerts_user_id ON price_alerts (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A3D4E40>, 'CREATE INDEX ix_price_alerts_user_id ON price_alerts (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A3D4E40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A3D4E40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000161768D1EC0>, '\nCREATE TABLE command_log (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36), \n\tcommand VARCHAR(100) NOT NULL, \n\tparameters JSON, \n\tsuccess BOOLEAN, \n\terror_message TEXT, \n\texecution_time_ms INTEGER, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000161768D1EC0>, '\nCREATE TABLE command_log (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36), \n\tcommand VARCHAR(100) NOT NULL, \n\tparameters JSON, \n\tsuccess BOOLEAN, \n\terror_message TEXT, \n\texecution_time_ms INTEGER, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000161768D1EC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000161768D1EC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A21DA40>, 'CREATE INDEX ix_command_log_command ON command_log (command)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A21DA40>, 'CREATE INDEX ix_command_log_command ON command_log (command)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A21DA40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A21DA40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A31CFC0>, 'CREATE INDEX ix_command_log_created_at ON command_log (created_at)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A31CFC0>, 'CREATE INDEX ix_command_log_created_at ON command_log (created_at)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A31CFC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A31CFC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A3D5840>, 'CREATE INDEX ix_command_log_user_id ON command_log (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A3D5840>, 'CREATE INDEX ix_command_log_user_id ON command_log (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A3D5840>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A3D5840>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000161768D0CC0>, '\nCREATE TABLE events (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36), \n\tevent_type VARCHAR(100) NOT NULL, \n\tevent_data JSON, \n\tsession_id VARCHAR(255), \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x00000161768D0CC0>, '\nCREATE TABLE events (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36), \n\tevent_type VARCHAR(100) NOT NULL, \n\tevent_data JSON, \n\tsession_id VARCHAR(255), \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000161768D0CC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x00000161768D0CC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A21F540>, 'CREATE INDEX ix_events_event_type ON events (event_type)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A21F540>, 'CREATE INDEX ix_events_event_type ON events (event_type)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A21F540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A21F540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A3D5A40>, 'CREATE INDEX ix_events_created_at ON events (created_at)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A3D5A40>, 'CREATE INDEX ix_events_created_at ON events (created_at)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A3D5A40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A3D5A40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2240>, 'CREATE INDEX ix_events_user_id ON events (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2240>, 'CREATE INDEX ix_events_user_id ON events (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2240>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2240>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000016176878DC0>, '\nCREATE TABLE market_data (\n\tid VARCHAR(36) NOT NULL, \n\titem_id VARCHAR(255) NOT NULL, \n\tgame VARCHAR(100) NOT NULL, \n\titem_name TEXT NOT NULL, \n\tprice_usd FLOAT NOT NULL, \n\tprice_change_24h FLOAT, \n\tvolume_24h INTEGER, \n\tmarket_cap FLOAT, \n\tdata_source VARCHAR(50), \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000016176878DC0>, '\nCREATE TABLE market_data (\n\tid VARCHAR(36) NOT NULL, \n\titem_id VARCHAR(255) NOT NULL, \n\tgame VARCHAR(100) NOT NULL, \n\titem_name TEXT NOT NULL, \n\tprice_usd FLOAT NOT NULL, \n\tprice_change_24h FLOAT, \n\tvolume_24h INTEGER, \n\tmarket_cap FLOAT, \n\tdata_source VARCHAR(50), \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000016176878DC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000016176878DC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0A40>, 'CREATE INDEX ix_market_data_item_id ON market_data (item_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0A40>, 'CREATE INDEX ix_market_data_item_id ON market_data (item_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0A40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0A40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0AC0>, 'CREATE INDEX ix_market_data_created_at ON market_data (created_at)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0AC0>, 'CREATE INDEX ix_market_data_created_at ON market_data (created_at)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0AC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0AC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B09C0>, 'CREATE INDEX ix_market_data_game ON market_data (game)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B09C0>, 'CREATE INDEX ix_market_data_game ON market_data (game)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B09C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B09C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0640>, '\nCREATE TABLE market_data_cache (\n\tid VARCHAR(36) NOT NULL, \n\tcache_key VARCHAR(500) NOT NULL, \n\tgame VARCHAR(50) NOT NULL, \n\titem_hash_name VARCHAR(500), \n\tdata_type VARCHAR(50) NOT NULL, \n\tdata JSON NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\texpires_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0640>, '\nCREATE TABLE market_data_cache (\n\tid VARCHAR(36) NOT NULL, \n\tcache_key VARCHAR(500) NOT NULL, \n\tgame VARCHAR(50) NOT NULL, \n\titem_hash_name VARCHAR(500), \n\tdata_type VARCHAR(50) NOT NULL, \n\tdata JSON NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\texpires_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0640>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0640>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2FC0>, 'CREATE UNIQUE INDEX ix_market_data_cache_cache_key ON market_data_cache (cache_key)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2FC0>, 'CREATE UNIQUE INDEX ix_market_data_cache_cache_key ON market_data_cache (cache_key)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2FC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2FC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0CC0>, 'CREATE INDEX ix_market_data_cache_expires_at ON market_data_cache (expires_at)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0CC0>, 'CREATE INDEX ix_market_data_cache_expires_at ON market_data_cache (expires_at)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0CC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0CC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0840>, 'CREATE INDEX ix_market_data_cache_game ON market_data_cache (game)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0840>, 'CREATE INDEX ix_market_data_cache_game ON market_data_cache (game)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0840>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0840>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0540>, '\nCREATE TABLE targets (\n\tid INTEGER NOT NULL, \n\tuser_id BIGINT NOT NULL, \n\ttarget_id VARCHAR(255) NOT NULL, \n\tgame VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500) NOT NULL, \n\tprice FLOAT NOT NULL, \n\tamount INTEGER NOT NULL, \n\tstatus VARCHAR(50), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME, \n\tattributes JSON, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0540>, '\nCREATE TABLE targets (\n\tid INTEGER NOT NULL, \n\tuser_id BIGINT NOT NULL, \n\ttarget_id VARCHAR(255) NOT NULL, \n\tgame VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500) NOT NULL, \n\tprice FLOAT NOT NULL, \n\tamount INTEGER NOT NULL, \n\tstatus VARCHAR(50), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME, \n\tattributes JSON, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3140>, 'CREATE INDEX ix_targets_user_id ON targets (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3140>, 'CREATE INDEX ix_targets_user_id ON targets (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3140>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3140>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B39C0>, 'CREATE UNIQUE INDEX ix_targets_target_id ON targets (target_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B39C0>, 'CREATE UNIQUE INDEX ix_targets_target_id ON targets (target_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B39C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B39C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0B40>, 'CREATE INDEX ix_targets_status ON targets (status)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0B40>, 'CREATE INDEX ix_targets_status ON targets (status)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0B40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0B40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B05C0>, 'CREATE INDEX ix_targets_game ON targets (game)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B05C0>, 'CREATE INDEX ix_targets_game ON targets (game)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B05C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B05C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B00C0>, '\nCREATE TABLE trade_history (\n\tid INTEGER NOT NULL, \n\tuser_id BIGINT NOT NULL, \n\ttrade_type VARCHAR(50) NOT NULL, \n\titem_title VARCHAR(500) NOT NULL, \n\tprice FLOAT NOT NULL, \n\tprofit FLOAT, \n\tgame VARCHAR(50) NOT NULL, \n\tstatus VARCHAR(50), \n\tcreated_at DATETIME NOT NULL, \n\tcompleted_at DATETIME, \n\ttrade_metadata JSON, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B00C0>, '\nCREATE TABLE trade_history (\n\tid INTEGER NOT NULL, \n\tuser_id BIGINT NOT NULL, \n\ttrade_type VARCHAR(50) NOT NULL, \n\titem_title VARCHAR(500) NOT NULL, \n\tprice FLOAT NOT NULL, \n\tprofit FLOAT, \n\tgame VARCHAR(50) NOT NULL, \n\tstatus VARCHAR(50), \n\tcreated_at DATETIME NOT NULL, \n\tcompleted_at DATETIME, \n\ttrade_metadata JSON, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B00C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B00C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B02C0>, 'CREATE INDEX ix_trade_history_status ON trade_history (status)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B02C0>, 'CREATE INDEX ix_trade_history_status ON trade_history (status)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B02C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B02C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0D40>, 'CREATE INDEX ix_trade_history_user_id ON trade_history (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0D40>, 'CREATE INDEX ix_trade_history_user_id ON trade_history (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0D40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0D40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B04C0>, '\nCREATE TABLE trading_settings (\n\tid INTEGER NOT NULL, \n\tuser_id BIGINT NOT NULL, \n\tmax_trade_value FLOAT NOT NULL, \n\tdaily_limit FLOAT NOT NULL, \n\tmin_profit_percent FLOAT NOT NULL, \n\tstrategy VARCHAR(50) NOT NULL, \n\tauto_trading_enabled BOOLEAN NOT NULL, \n\tgames_enabled JSON NOT NULL, \n\tnotifications_enabled BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B04C0>, '\nCREATE TABLE trading_settings (\n\tid INTEGER NOT NULL, \n\tuser_id BIGINT NOT NULL, \n\tmax_trade_value FLOAT NOT NULL, \n\tdaily_limit FLOAT NOT NULL, \n\tmin_profit_percent FLOAT NOT NULL, \n\tstrategy VARCHAR(50) NOT NULL, \n\tauto_trading_enabled BOOLEAN NOT NULL, \n\tgames_enabled JSON NOT NULL, \n\tnotifications_enabled BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B04C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B04C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B36C0>, 'CREATE UNIQUE INDEX ix_trading_settings_user_id ON trading_settings (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B36C0>, 'CREATE UNIQUE INDEX ix_trading_settings_user_id ON trading_settings (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B36C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B36C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3440>, '\nCREATE TABLE users (\n\tid VARCHAR(36) NOT NULL, \n\ttelegram_id BIGINT NOT NULL, \n\tusername VARCHAR(255), \n\tfirst_name VARCHAR(255), \n\tlast_name VARCHAR(255), \n\tlanguage_code VARCHAR(10), \n\tis_active BOOLEAN, \n\tis_admin BOOLEAN, \n\tis_banned BOOLEAN, \n\tdmarket_api_key_encrypted TEXT, \n\tdmarket_secret_key_encrypted TEXT, \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tlast_activity DATETIME, \n\tnotes TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3440>, '\nCREATE TABLE users (\n\tid VARCHAR(36) NOT NULL, \n\ttelegram_id BIGINT NOT NULL, \n\tusername VARCHAR(255), \n\tfirst_name VARCHAR(255), \n\tlast_name VARCHAR(255), \n\tlanguage_code VARCHAR(10), \n\tis_active BOOLEAN, \n\tis_admin BOOLEAN, \n\tis_banned BOOLEAN, \n\tdmarket_api_key_encrypted TEXT, \n\tdmarket_secret_key_encrypted TEXT, \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tlast_activity DATETIME, \n\tnotes TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2E40>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2E40>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2E40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2E40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B11C0>, 'CREATE INDEX ix_users_is_active ON users (is_active)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B11C0>, 'CREATE INDEX ix_users_is_active ON users (is_active)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B11C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B11C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B34C0>, 'CREATE INDEX ix_users_is_banned ON users (is_banned)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B34C0>, 'CREATE INDEX ix_users_is_banned ON users (is_banned)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B34C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B34C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B07C0>, '\nCREATE TABLE user_settings (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36) NOT NULL, \n\tdefault_game VARCHAR(50), \n\tnotifications_enabled BOOLEAN, \n\tprice_alerts_enabled BOOLEAN, \n\tarbitrage_alert_enabled BOOLEAN, \n\tmin_profit_percent FLOAT, \n\tpreferred_currency VARCHAR(10), \n\tlanguage VARCHAR(10), \n\ttimezone VARCHAR(50), \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B07C0>, '\nCREATE TABLE user_settings (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36) NOT NULL, \n\tdefault_game VARCHAR(50), \n\tnotifications_enabled BOOLEAN, \n\tprice_alerts_enabled BOOLEAN, \n\tarbitrage_alert_enabled BOOLEAN, \n\tmin_profit_percent FLOAT, \n\tpreferred_currency VARCHAR(10), \n\tlanguage VARCHAR(10), \n\ttimezone VARCHAR(50), \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B07C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B07C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B10C0>, 'CREATE INDEX ix_user_settings_user_id ON user_settings (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B10C0>, 'CREATE INDEX ix_user_settings_user_id ON user_settings (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B10C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B10C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0E40>, '\nCREATE TABLE scan_checkpoints (\n\tid INTEGER NOT NULL, \n\tscan_id UUID NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\toperation_type VARCHAR(50) NOT NULL, \n\tcursor TEXT, \n\tprocessed_items INTEGER, \n\ttotal_items INTEGER, \n\ttimestamp DATETIME NOT NULL, \n\textra_data JSON, \n\tstatus VARCHAR(20), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0E40>, '\nCREATE TABLE scan_checkpoints (\n\tid INTEGER NOT NULL, \n\tscan_id UUID NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\toperation_type VARCHAR(50) NOT NULL, \n\tcursor TEXT, \n\tprocessed_items INTEGER, \n\ttotal_items INTEGER, \n\ttimestamp DATETIME NOT NULL, \n\textra_data JSON, \n\tstatus VARCHAR(20), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0E40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0E40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3340>, 'CREATE INDEX ix_scan_checkpoints_user_id ON scan_checkpoints (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3340>, 'CREATE INDEX ix_scan_checkpoints_user_id ON scan_checkpoints (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3340>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3340>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3D40>, 'CREATE UNIQUE INDEX ix_scan_checkpoints_scan_id ON scan_checkpoints (scan_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3D40>, 'CREATE UNIQUE INDEX ix_scan_checkpoints_scan_id ON scan_checkpoints (scan_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3D40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3D40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3C40>, 'CREATE INDEX IF NOT EXISTS idx_users_telegram_id ON users(telegram_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3C40>, 'CREATE INDEX IF NOT EXISTS idx_users_telegram_id ON users(telegram_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3C40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3C40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3BC0>, 'CREATE INDEX IF NOT EXISTS idx_users_is_active ON users(is_active)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3BC0>, 'CREATE INDEX IF NOT EXISTS idx_users_is_active ON users(is_active)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3BC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3BC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B03C0>, 'CREATE INDEX IF NOT EXISTS idx_users_last_activity ON users(last_activity DESC)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B03C0>, 'CREATE INDEX IF NOT EXISTS idx_users_last_activity ON users(last_activity DESC)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B03C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B03C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3040>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_user_id ON command_log(user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3040>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_user_id ON command_log(user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3040>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3040>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3240>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_created_at ON command_log(created_at DESC)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3240>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_created_at ON command_log(created_at DESC)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3240>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3240>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B22C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_command ON command_log(command)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B22C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_command ON command_log(command)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B22C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B22C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B32C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_success ON command_log(success)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B32C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_success ON command_log(success)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B32C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B32C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3940>, 'CREATE INDEX IF NOT EXISTS idx_market_game ON market_data(game)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3940>, 'CREATE INDEX IF NOT EXISTS idx_market_game ON market_data(game)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3940>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3940>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B38C0>, 'CREATE INDEX IF NOT EXISTS idx_market_created_at ON market_data(created_at DESC)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B38C0>, 'CREATE INDEX IF NOT EXISTS idx_market_created_at ON market_data(created_at DESC)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B38C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B38C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1640>, 'CREATE INDEX IF NOT EXISTS idx_market_item_id ON market_data(item_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1640>, 'CREATE INDEX IF NOT EXISTS idx_market_item_id ON market_data(item_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1640>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1640>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2C40>, 'CREATE INDEX IF NOT EXISTS idx_trade_history_created_at ON trade_history(created_at DESC)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2C40>, 'CREATE INDEX IF NOT EXISTS idx_trade_history_created_at ON trade_history(created_at DESC)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2C40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2C40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0440>, 'CREATE INDEX IF NOT EXISTS idx_trade_history_status ON trade_history(status)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0440>, 'CREATE INDEX IF NOT EXISTS idx_trade_history_status ON trade_history(status)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0240>, 'CREATE INDEX IF NOT EXISTS idx_trade_history_user_id ON trade_history(user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0240>, 'CREATE INDEX IF NOT EXISTS idx_trade_history_user_id ON trade_history(user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0240>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0240>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B33C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_user_cmd ON command_log(user_id, command)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B33C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_user_cmd ON command_log(user_id, command)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B33C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B33C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0340>, 'CREATE INDEX IF NOT EXISTS idx_market_game_date ON market_data(game, created_at DESC)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0340>, 'CREATE INDEX IF NOT EXISTS idx_market_game_date ON market_data(game, created_at DESC)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0340>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0340>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0740>, 'PRAGMA journal_mode=WAL', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B0740>, 'PRAGMA journal_mode=WAL', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B0740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B0740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B0740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1B40>, 'PRAGMA synchronous=NORMAL', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1B40>, 'PRAGMA synchronous=NORMAL', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1B40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1B40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1A40>, 'PRAGMA cache_size=10000', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1A40>, 'PRAGMA cache_size=10000', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1A40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1A40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B17C0>, 'PRAGMA temp_store=MEMORY', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B17C0>, 'PRAGMA temp_store=MEMORY', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B17C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B17C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B18C0>, 'PRAGMA mmap_size=268435456', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B18C0>, 'PRAGMA mmap_size=268435456', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B18C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B18C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B18C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B18C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3B40>, 'PRAGMA page_size=4096', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B3B40>, 'PRAGMA page_size=4096', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3B40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B3B40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1CC0>, 'PRAGMA auto_vacuum=INCREMENTAL', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1CC0>, 'PRAGMA auto_vacuum=INCREMENTAL', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1CC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1CC0>) completed
DEBUG    src.utils.database:database.py:186 SQLite optimizations applied
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>) completed
INFO     src.utils.database:database.py:156 Database initialized successfully
------------------------------ Captured log call ------------------------------
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1E40>, 'SELECT 1', [])
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1E40>, 'SELECT 1', []) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1EC0>, 'SELECT 1', [])
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1EC0>, 'SELECT 1', []) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1F40>, 'SELECT 1', [])
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B1F40>, 'SELECT 1', []) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1E40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1E40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1EC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1EC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1F40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B1F40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1E40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1E40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1EC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1EC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1F40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B1F40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2140>, 'SELECT * FROM users WHERE telegram_id = ?', (999,))
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2140>, 'SELECT * FROM users WHERE telegram_id = ?', (999,)) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2440>, 'SELECT * FROM users WHERE telegram_id = ?', (999,))
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2440>, 'SELECT * FROM users WHERE telegram_id = ?', (999,)) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B27C0>, 'SELECT * FROM users WHERE telegram_id = ?', (999,))
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B27C0>, 'SELECT * FROM users WHERE telegram_id = ?', (999,)) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B2140>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B2140>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B2440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B2440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B27C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001617A2B27C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2140>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2140>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B27C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B27C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2940>, '\n                        INSERT INTO users (\n                            id, telegram_id, username, first_name,\n                            last_name, language_code, is_active,\n                            is_admin, created_at, updated_at,\n                            last_activity\n                        ) VALUES (\n                            ?, ?, ?, ?,\n                            ?, ?, ?,\n                            ?, ?, ?,\n                            ?\n                        )\n                    ', ('e7b30237-2411-40a7-8dc4-c79163bb5438', 999, 'user_999', None, None, 'en', True, False, datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc)))
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617A2B2940>, '\n                        INSERT INTO users (\n                            id, telegram_id, username, first_name,\n                            last_name, language_code, is_active,\n                            is_admin, created_at, updated_at,\n                            last_activity\n                        ) VALUES (\n                            ?, ?, ?, ?,\n                            ?, ?, ?,\n                            ?, ?, ?,\n                            ?\n                        )\n                    ', ('e7b30237-2411-40a7-8dc4-c79163bb5438', 999, 'user_999', None, None, 'en', True, False, datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc))) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617B596140>, '\n                        INSERT INTO users (\n                            id, telegram_id, username, first_name,\n                            last_name, language_code, is_active,\n                            is_admin, created_at, updated_at,\n                            last_activity\n                        ) VALUES (\n                            ?, ?, ?, ?,\n                            ?, ?, ?,\n                            ?, ?, ?,\n                            ?\n                        )\n                    ', ('474916fd-753f-48af-a067-ce165d3de3a8', 999, 'user_999', None, None, 'en', True, False, datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc)))
DEBUG    aiosqlite:core.py:109 returning exception UNIQUE constraint failed: users.telegram_id
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001617B5975C0>, '\n                        INSERT INTO users (\n                            id, telegram_id, username, first_name,\n                            last_name, language_code, is_active,\n                            is_admin, created_at, updated_at,\n                            last_activity\n                        ) VALUES (\n                            ?, ?, ?, ?,\n                            ?, ?, ?,\n                            ?, ?, ?,\n                            ?\n                        )\n                    ', ('f9c3e88b-ddb7-4885-8968-1bf1499baecf', 999, 'user_999', None, None, 'en', True, False, datetime.datetime(2025, 11, 25, 14, 59, 33, 773377, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 25, 14, 59, 33, 773377, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 25, 14, 59, 33, 773377, tzinfo=datetime.timezone.utc)))
DEBUG    aiosqlite:core.py:109 returning exception UNIQUE constraint failed: users.telegram_id
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2940>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001617A2B2940>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001617B4A3D30>) completed
---------------------------- Captured log teardown ----------------------------
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001617B4A3D30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001617B4A3D30>) completed
INFO     src.utils.database:database.py:226 Database connections closed
____________ TestTargetsEdgeCases.test_create_target_minimum_price ____________
tests\integration\test_targets_edge_cases.py:50: in test_create_target_minimum_price
    result = await mock_dmarket_api.create_targets(game="csgo", targets=targets)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\dmarket\api_validator.py:106: in wrapper
    response_data = await func(*args, **kwargs)
                          ^^^^^^^^^^^^^^^^^^^^^
E   TypeError: DMarketAPI.create_targets() got an unexpected keyword argument 'game'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
INFO     src.utils.rate_limiter:rate_limiter.py:86     API (: True)
INFO     src.dmarket.dmarket_api:dmarket_api.py:213 Initialized DMarketAPI client [DRY-RUN] (authorized: yes, cache: enabled)
============================ slowest 10 durations =============================
3.23s call     tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerEdgeCases::test_scan_all_levels_with_api_errors
2.26s call     tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerPerformance::test_scan_multiple_pages_performance
2.24s call     tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIEdgeCasesHTTPX::test_rate_limit_with_multiple_retries
1.03s call     tests/dmarket/test_market_analysis.py::TestGenerateMarketReport::test_generate_report_basic
1.02s call     tests/dmarket/test_market_analysis.py::TestGenerateMarketReport::test_generate_report_multiple_games
1.01s call     tests/dmarket/test_api_unified.py::test_handle_rate_limit
0.85s call     tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_malformed_json_response
0.84s call     tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_get_balance_unauthorized
0.75s call     tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIWithHTTPXMock::test_get_market_items_pagination
0.74s call     tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerEdgeCases::test_scan_with_no_profitable_items
=========================== short test summary info ===========================
SKIPPED [1] tests\integration\test_dmarket_api_integration.py:140: get_aggregated_prices method signature differs from expected
ERROR tests/integration/test_targets_edge_cases.py::TestTargetsEdgeCases::test_create_target_minimum_price - AssertionError: The following responses are mocked but not requested:
  - Match POST request on https://api.dmarket.com/marketplace-api/v1/user-targets/create
  
  If this is on purpose, refer to https://github.com/Colin-b/pytest_httpx/blob/master/README.md#allow-to-register-more-responses-than-what-will-be-requested
assert not [<pytest_httpx._request_matcher._RequestMatcher object at 0x0000016179B0D610>]
FAILED tests/integration/test_full_workflows.py::TestErrorRecoveryWorkflows::test_scan_with_partial_api_failure - TypeError: int() argument must be a string, a bytes-like object or a real number, not 'dict'
FAILED tests/integration/test_full_workflows.py::TestConcurrentOperations::test_concurrent_user_creation - sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: users.telegram_id
[SQL: 
                        INSERT INTO users (
                            id, telegram_id, username, first_name,
                            last_name, language_code, is_active,
                            is_admin, created_at, updated_at,
                            last_activity
                        ) VALUES (
                            ?, ?, ?, ?,
                            ?, ?, ?,
                            ?, ?, ?,
                            ?
                        )
                    ]
[parameters: ('474916fd-753f-48af-a067-ce165d3de3a8', 999, 'user_999', None, None, 'en', True, False, datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 25, 14, 59, 33, 772378, tzinfo=datetime.timezone.utc))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
FAILED tests/integration/test_targets_edge_cases.py::TestTargetsEdgeCases::test_create_target_minimum_price - TypeError: DMarketAPI.create_targets() got an unexpected keyword argument 'game'
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 4 failures !!!!!!!!!!!!!!!!!!!!!!!!!!
============= 3 failed, 701 passed, 1 skipped, 1 error in 44.30s ==============

# –ê–Ω–∞–ª–∏–∑ —Ç–µ—Å—Ç–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

> –î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞: 2026-01-20
>
> –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤: **11,573**
>
> –ü—Ä–æ–π–¥–µ–Ω–æ: **~10,000+** (87%+)
>
> –ü—Ä–æ–≤–∞–ª–µ–Ω–æ: **~46** —Ç–µ—Å—Ç–æ–≤
>
> –ü—Ä–æ–ø—É—â–µ–Ω–æ (skipped): **~70** —Ç–µ—Å—Ç–æ–≤
>
> –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞/–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: **~38** —Ç–µ—Å—Ç–æ–≤

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (FAILED)](#1-–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã-failed)
2. [–û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (ERROR)](#2-–æ—à–∏–±–∫–∏-–∏–º–ø–æ—Ä—Ç–∞-–∏-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏-error)
3. [–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (SKIPPED)](#3-–ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ-—Ç–µ—Å—Ç—ã-skipped)
4. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é](#4-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é)

---

## 1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (FAILED)

### 1.1 `tests/dmarket/scanner/test_cache.py`

**–§–∞–π–ª:** `tests/dmarket/scanner/test_cache.py`
**–¢–µ—Å—Ç:** `TestEdgeCases::test_zero_ttl_cache`
**–°—Ç—Ä–æ–∫–∞:** 600

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
AssertionError: assert None == [{'id': 'test'}]
```

**–ü—Ä–∏—á–∏–Ω–∞:** –¢–µ—Å—Ç –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –∫—ç—à —Å TTL=0 –≤–µ—Ä–Ω–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É, –Ω–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `None`.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Ç–µ—Å—Ç–∞ –∏–ª–∏ –ª–æ–≥–∏–∫—É –∫—ç—à–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ TTL=0.

---

### 1.2 `tests/utils/test_pool_monitor.py`

**–§–∞–π–ª:** `tests/utils/test_pool_monitor.py`
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤:** 15

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. `TypeError: PoolMonitor.__init__() got an unexpected keyword argument 'check_interval'`
2. `AttributeError: 'PoolMonitor' object has no attribute 'pools'. Did you mean: '_pools'?`
3. `AttributeError: 'PoolMonitor' object has no attribute 'set_max_connections'`
4. `AttributeError: 'PoolMonitor' object has no attribute 'start'`
5. `AttributeError: 'PoolMonitor' object has no attribute 'stop'`
6. `AttributeError: 'PoolMonitor' object has no attribute 'add_alert_handler'`
7. `AttributeError: 'PoolMonitor' object has no attribute 'alert_handlers'`

**–ü—Ä–∏—á–∏–Ω–∞:** API –∫–ª–∞—Å—Å–∞ `PoolMonitor` –∏–∑–º–µ–Ω–∏–ª—Å—è:
- –ê—Ç—Ä–∏–±—É—Ç `pools` –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ `_pools` (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π)
- –£–¥–∞–ª–µ–Ω—ã –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã: `start`, `stop`, `set_max_connections`, `add_alert_handler`
- –ò–∑–º–µ–Ω–∏–ª–∞—Å—å —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ `__init__`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–æ–≤—ã–º API `PoolMonitor`:
```python
# –ë—ã–ª–æ:
monitor = PoolMonitor(check_interval=30)
monitor.pools
monitor.start()
monitor.stop()

# –ù—É–∂–Ω–æ:
monitor = PoolMonitor()  # –±–µ–∑ check_interval
monitor._pools  # –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π getter
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è start/stop
```

---

### 1.3 `tests/utils/test_secrets_manager.py`

**–§–∞–π–ª:** `tests/utils/test_secrets_manager.py`
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤:** 17 (ERROR) + 1 (FAILED)

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. `TypeError: SecretsManager.__init__() missing 1 required positional argument: 'master_password'`
2. `TypeError: SecretsManager.__init__() got an unexpected keyword argument 'key_file'`

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–ª–∞—Å—Å `SecretsManager` —Ç–µ–ø–µ—Ä—å —Ç—Ä–µ–±—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `master_password`, –∞ –ø–∞—Ä–∞–º–µ—Ç—Ä `key_file` —É–¥–∞–ª–µ–Ω.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
# –ë—ã–ª–æ:
manager = SecretsManager()
manager = SecretsManager(key_file="path/to/key")

# –ù—É–∂–Ω–æ:
manager = SecretsManager(master_password="test_password")
```

---

### 1.4 `tests/telegram_bot/handlers/test_autopilot_handler.py`

**–§–∞–π–ª:** `tests/telegram_bot/handlers/test_autopilot_handler.py`
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤:** 11

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
ImportError: cannot import name 'AutopilotHandler' from 'src.telegram_bot.handlers.autopilot_handler'
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–ª–∞—Å—Å `AutopilotHandler` –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏–∑ –º–æ–¥—É–ª—è.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–ª–∞—Å—Å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Ñ–∞–π–ª–µ `src/telegram_bot/handlers/autopilot_handler.py`
2. –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –∫–ª–∞—Å—Å–∞ –≤ `__all__` –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –∏–º–ø–æ—Ä—Ç –≤ —Ç–µ—Å—Ç–∞—Ö

---

### 1.5 `tests/telegram_bot/handlers/test_advanced_orders_handler.py`

**–§–∞–π–ª:** `tests/telegram_bot/handlers/test_advanced_orders_handler.py`
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤:** 5

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. `assert None == 25.5` - –∫–ª—é—á `'price'` –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ `user_data`
2. `'AdvancedOrderHandler' object has no attribute 'confirm_order'`
3. `'AdvancedOrderHandler' object has no attribute 'show_active_orders'`
4. `'AdvancedOrderHandler' object has no attribute 'get_handlers'`

**–ü—Ä–∏—á–∏–Ω–∞:** API –∫–ª–∞—Å—Å–∞ `AdvancedOrderHandler` –∏–∑–º–µ–Ω–∏–ª—Å—è.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–æ–≤—ã–º API:
- –ò–∑–º–µ–Ω–∏—Ç—å –∫–ª—é—á `'price'` –Ω–∞ `'max_price'` –≤ —Ç–µ—Å—Ç–∞—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞

---

### 1.6 `tests/telegram_bot/handlers/test_callbacks.py`

**–§–∞–π–ª:** `tests/telegram_bot/handlers/test_callbacks.py`
**–¢–µ—Å—Ç:** `TestButtonCallbackHandler::test_routes_search_callback`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
TypeError: object MagicMock can't be used in 'await' expression
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–∫ –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è async –≤—ã–∑–æ–≤–∞.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
# –ë—ã–ª–æ:
mock_handler = MagicMock()

# –ù—É–∂–Ω–æ:
mock_handler = AsyncMock()
```

---

### 1.7 `tests/integration/test_api_with_httpx_mock.py`

**–§–∞–π–ª:** `tests/integration/test_api_with_httpx_mock.py`
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤:** 10 (ERROR) + 7 (FAILED)

**–ü—Ä–æ–±–ª–µ–º–∞:** HTTP –º–æ–∫–∏ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç - URL –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –∑–∞–º–æ–∫–∞–Ω–Ω—ã–º–∏.

**–ü—Ä–∏—á–∏–Ω–∞:** API endpoint'—ã –∏–∑–º–µ–Ω–∏–ª–∏—Å—å:
- –¢–µ—Å—Ç—ã –º–æ–∫–∞—é—Ç `https://api.dmarket.com/exchange/v1/market/items?gameId=csgo...`
- –†–µ–∞–ª—å–Ω—ã–π API –≤—ã–∑—ã–≤–∞–µ—Ç –¥—Ä—É–≥–∏–µ endpoint'—ã

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç—å URL –≤ –º–æ–∫–∞—Ö –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏—é `assert_all_requests_are_matched=False`:
```python
httpx_mock.add_response(
    url="https://api.dmarket.com/...",  # –û–±–Ω–æ–≤–∏—Ç—å URL
    json=mock_response
)
```

---

### 1.8 `tests/integration/test_dmarket_vcr.py`

**–§–∞–π–ª:** `tests/integration/test_dmarket_vcr.py`
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤:** 3

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. `assert 0.0 == 100.0` - –±–∞–ª–∞–Ω—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–∞–∫ 0.0 –≤–º–µ—Å—Ç–æ 100.0
2. `cannot import name 'DMarketAPIError' from 'src.utils.exceptions'`
3. `Failed: DID NOT RAISE <class 'src.utils.exceptions.RateLimitExceeded'>`

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ú–æ–∫ –±–∞–ª–∞–Ω—Å–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–µ–≤–µ—Ä–Ω–æ
- –ö–ª–∞—Å—Å `DMarketAPIError` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `exceptions.py`
- Rate limit –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
1. –û–±–Ω–æ–≤–∏—Ç—å –º–æ–∫ –¥–ª—è –±–∞–ª–∞–Ω—Å–∞
2. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è
3. –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç rate limit

---

### 1.9 `tests/e2e/test_complete_trading_cycle.py`

**–§–∞–π–ª:** `tests/e2e/test_complete_trading_cycle.py`
**–¢–µ—Å—Ç:** `TestWhitelistPriority::test_whitelist_items_get_lower_threshold`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
ImportError: cannot import name 'WhitelistConfig' from 'src.dmarket.whitelist_config'
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–ª–∞—Å—Å `WhitelistConfig` –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –∫–ª–∞—Å—Å–∞ –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç –≤ —Ç–µ—Å—Ç–µ.

---

### 1.10 `tests/e2e/test_steam_e2e.py`

**–§–∞–π–ª:** `tests/e2e/test_steam_e2e.py`
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤:** 2

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. `AssertionError: Should return at least one item after enhancement, got 0`
2. `RateLimitError: Rate limit exceeded`

**–ü—Ä–∏—á–∏–Ω–∞:** –¢–µ—Å—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ API Steam, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –º–æ–∫–∏ –¥–ª—è Steam API
- –ò–ª–∏ –ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ `@pytest.mark.skipif(no_steam_api)`

---

### 1.11 `tests/comprehensive/test_performance_load.py`

**–§–∞–π–ª:** `tests/comprehensive/test_performance_load.py`
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤:** 2

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. `RuntimeError: There is no current event loop in thread 'MainThread'`
2. `assert 0.1111... < 0.1`

**–ü—Ä–∏—á–∏–Ω–∞:**
- Event loop –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è async —Ç–µ—Å—Ç–∞
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
# –î–æ–±–∞–≤–∏—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
@pytest.mark.asyncio
async def test_throughput_under_load():
    ...
```

---

### 1.12 `tests/ml/test_*.py`

**–§–∞–π–ª—ã:**
- `tests/ml/test_balance_adapter.py`
- `tests/ml/test_enhanced_predictor.py`
- `tests/ml/test_price_predictor.py`
- `tests/ml/test_trade_classifier.py`

**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤:** 7

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. `assert 'Insufficient balance' in 'Price $15.00 exceeds max position $5.00'` - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
2. `assert '2.1.0' == '2.0.0'` - –≤–µ—Ä—Å–∏—è –∏–∑–º–µ–Ω–∏–ª–∞—Å—å
3. `assert '1.1.0' == '1.0.0'` - –≤–µ—Ä—Å–∏—è –∏–∑–º–µ–Ω–∏–ª–∞—Å—å
4. `TradeSignal.SKIP` –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–µ–º—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤

**–ü—Ä–∏—á–∏–Ω–∞:** –õ–æ–≥–∏–∫–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∏ –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–∏—Ç—å –æ–∂–∏–¥–∞–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ç–µ—Å—Ç–∞—Ö
- –û–±–Ω–æ–≤–∏—Ç—å –æ–∂–∏–¥–∞–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏: `'2.0.0'` ‚Üí `'2.1.0'`, `'1.0.0'` ‚Üí `'1.1.0'`
- –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏–∫—É trade classifier —Ç–µ—Å—Ç–æ–≤

---

### 1.13 `tests/performance/test_performance_suite.py`

**–§–∞–π–ª:** `tests/performance/test_performance_suite.py`
**–¢–µ—Å—Ç:** `test_cache_stampede_prevention`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
Failed: Timeout (>120.0s) from pytest-timeout.
```

**–ü—Ä–∏—á–∏–Ω–∞:** –¢–µ—Å—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ (>120 —Å–µ–∫—É–Ω–¥).

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –£–º–µ–Ω—å—à–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –≤ —Ç–µ—Å—Ç–µ
- –£–≤–µ–ª–∏—á–∏—Ç—å timeout
- –ò–ª–∏ –ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ `@pytest.mark.slow`

---

## 2. –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (ERROR)

### 2.1 –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏ MCP

**–§–∞–π–ª:** `tests/unit/test_mcp_server.py`
**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤:** 18

**–ü—Ä–∏—á–∏–Ω–∞:** MCP –º–æ–¥—É–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MCP –º–æ–¥—É–ª—å –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã skipped.

---

### 2.2 –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∞—è n8n –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–§–∞–π–ª—ã:**
- `tests/unit/api/test_n8n_integration.py`
- `tests/integration/test_n8n_workflows.py`
- `tests/e2e/test_complete_arbitrage_flow.py`

**–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–µ—Å—Ç–æ–≤:** ~12

**–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏—è `get_async_session` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `src.utils.database`.

**–†–µ—à–µ–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `get_async_session` –∏–ª–∏ –ø–æ–º–µ—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –∫–∞–∫ skipped.

---

## 3. –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (SKIPPED)

### 3.1 –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ fixture'—ã

**–§–∞–π–ª:** `tests/dmarket/api/test_auth.py`

| –¢–µ—Å—Ç | –ü—Ä–∏—á–∏–Ω–∞ |
|------|---------|
| –°—Ç—Ä–æ–∫–∏ 408, 425, 440 | `Fixture targets_mixin not defined` |
| –°—Ç—Ä–æ–∫–∏ 456, 475, 494 | `Fixture trading_mixin not defined` |
| –°—Ç—Ä–æ–∫–∏ 513, 534 | `Fixture auth_mixin not defined` |

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ fixture'—ã –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ç–µ—Å—Ç—ã.

---

### 3.2 –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ API –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–§–∞–π–ª:** `tests/dmarket/api/test_inventory.py`

| –°—Ç—Ä–æ–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ |
|--------|---------|
| 446 | `sync_inventory()` doesn't accept `'game'` parameter |
| 559 | `deposit_assets()` doesn't accept `'metadata'` parameter |

**–†–µ—à–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –∏–ª–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤.

---

### 3.3 –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã

**–§–∞–π–ª:** `tests/comprehensive/test_dmarket_coverage.py`

| –ö–ª–∞—Å—Å/–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ü—Ä–∏—á–∏–Ω–∞ |
|------------------|---------|
| `SupportedGame` | –ù–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è |
| `DMarketItem` | –ù–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è |
| `LEVELS` | –ù–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω |

---

## 4. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (FAILED —Ç–µ—Å—Ç—ã)

1. **`test_cache.py`** - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É TTL=0
2. **`test_pool_monitor.py`** - –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ 15 —Ç–µ—Å—Ç–æ–≤ –ø–æ–¥ –Ω–æ–≤–æ–µ API
3. **`test_secrets_manager.py`** - –¥–æ–±–∞–≤–∏—Ç—å `master_password` –≤–æ –≤—Å–µ —Ç–µ—Å—Ç—ã
4. **`test_autopilot_handler.py`** - –∏—Å–ø—Ä–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç `AutopilotHandler`
5. **`test_advanced_orders_handler.py`** - –æ–±–Ω–æ–≤–∏—Ç—å API —Ç–µ—Å—Ç–æ–≤

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤ (ERROR —Ç–µ—Å—Ç—ã)

1. **n8n –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `get_async_session`
2. **–ò—Å–∫–ª—é—á–µ–Ω–∏—è** - –¥–æ–±–∞–≤–∏—Ç—å `DMarketAPIError` –≤ `exceptions.py`
3. **WhitelistConfig** - –¥–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ç–µ—Å—Ç—ã (SKIPPED)

1. –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ fixture'–∞–º–∏
2. –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã API –≤ —Ç–µ—Å—Ç–∞—Ö inventory

---

## –§–∞–π–ª—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Å–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞)

| –§–∞–π–ª | –ü—Ä–æ–±–ª–µ–º | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|------|---------|-----------|
| `tests/utils/test_pool_monitor.py` | 15 FAILED | üî¥ –í—ã—Å–æ–∫–∏–π |
| `tests/utils/test_secrets_manager.py` | 17 ERROR + 1 FAILED | üî¥ –í—ã—Å–æ–∫–∏–π |
| `tests/telegram_bot/handlers/test_autopilot_handler.py` | 11 ERROR | üî¥ –í—ã—Å–æ–∫–∏–π |
| `tests/integration/test_api_with_httpx_mock.py` | 10 ERROR + 7 FAILED | üî¥ –í—ã—Å–æ–∫–∏–π |
| `tests/telegram_bot/handlers/test_advanced_orders_handler.py` | 5 FAILED | üü° –°—Ä–µ–¥–Ω–∏–π |
| `tests/ml/test_trade_classifier.py` | 4 FAILED | üü° –°—Ä–µ–¥–Ω–∏–π |
| `tests/integration/test_dmarket_vcr.py` | 3 FAILED | üü° –°—Ä–µ–¥–Ω–∏–π |
| `tests/e2e/test_steam_e2e.py` | 2 FAILED | üü° –°—Ä–µ–¥–Ω–∏–π |
| `tests/comprehensive/test_performance_load.py` | 2 FAILED | üü° –°—Ä–µ–¥–Ω–∏–π |
| `tests/ml/test_balance_adapter.py` | 1 FAILED | üü¢ –ù–∏–∑–∫–∏–π |
| `tests/ml/test_enhanced_predictor.py` | 1 FAILED | üü¢ –ù–∏–∑–∫–∏–π |
| `tests/ml/test_price_predictor.py` | 1 FAILED | üü¢ –ù–∏–∑–∫–∏–π |
| `tests/dmarket/scanner/test_cache.py` | 1 FAILED | üü¢ –ù–∏–∑–∫–∏–π |
| `tests/telegram_bot/handlers/test_callbacks.py` | 1 FAILED | üü¢ –ù–∏–∑–∫–∏–π |
| `tests/e2e/test_complete_trading_cycle.py` | 1 FAILED | üü¢ –ù–∏–∑–∫–∏–π |
| `tests/performance/test_performance_suite.py` | 1 FAILED (timeout) | üü¢ –ù–∏–∑–∫–∏–π |

---

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
pytest tests/ --tb=short -q --timeout=60

# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
pytest tests/ --tb=line -q --timeout=60 --lf

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
pytest tests/utils/test_pool_monitor.py -v

# –ó–∞–ø—É—Å–∫ –±–µ–∑ timeout –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
pytest tests/performance/ -v --timeout=0
```

---

## 5. ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (21 —è–Ω–≤–∞—Ä—è 2026)

### –°—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ |
|---------|-----|-------|
| **–ü—Ä–æ–π–¥–µ–Ω–æ** | ~10,000 | **8,527+** |
| **–ü—Ä–æ–≤–∞–ª–µ–Ω–æ** | ~46 | **0** |
| **–ü—Ä–æ–ø—É—â–µ–Ω–æ** | ~70 | **~73** (–æ–∂–∏–¥–∞–µ–º—ã–µ, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏) |
| **–û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞** | ~38 | **0** (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º n8n/mcp) |

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. ‚úÖ **`tests/e2e/test_steam_e2e.py`**
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å –ø–∞—Ç—á–∞: `src.dmarket.steam_api.get_steam_price` ‚Üí `src.dmarket.steam_arbitrage_enhancer.get_steam_price`
   - –ú–æ–∫ —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—ã–∑–æ–≤—ã Steam API

2. ‚úÖ **`tests/test_ascii_docstrings.py`**
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ keyboards: `parent.parent.parent` ‚Üí `parent.parent`
   - –¢–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç `src/telegram_bot/keyboards`

### ‚úÖ –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ä–∞–Ω–µ–µ (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ)

3. ‚úÖ **`tests/utils/test_pool_monitor.py`** - –í—Å–µ 15 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç
   - –¢–µ—Å—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–¥ –Ω–æ–≤–æ–µ API `PoolMonitor`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_pools` –≤–º–µ—Å—Ç–æ `pools`

4. ‚úÖ **`tests/utils/test_secrets_manager.py`** - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
   - –î–æ–±–∞–≤–ª–µ–Ω `master_password` –≤–æ –≤—Å–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

5. ‚úÖ **`tests/telegram_bot/handlers/test_autopilot_handler.py`** - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–∞ `AutopilotHandler`

6. ‚úÖ **`tests/telegram_bot/handlers/test_advanced_orders_handler.py`** - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–º–µ–Ω–∞ –º–µ—Ç–æ–¥–æ–≤ –∏ –∫–ª—é—á–∏

7. ‚úÖ **`tests/dmarket/scanner/test_cache.py`** - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ TTL=0

8. ‚úÖ **`tests/ml/test_balance_adapter.py`** - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
9. ‚úÖ **`tests/ml/test_trade_classifier.py`** - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
10. ‚úÖ **`tests/integration/test_api_with_httpx_mock.py`** - –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (1 skipped)

### ‚è≠Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (–æ–∂–∏–¥–∞–µ–º–æ)

–°–ª–µ–¥—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

- `tests/unit/test_mcp_server.py` - MCP –º–æ–¥—É–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- `tests/integration/test_n8n_workflows.py` - n8n –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- `tests/web_dashboard/test_app.py` - FastAPI –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- `tests/performance/test_benchmarks.py` - pytest-benchmark –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)
python -m pytest tests/ --timeout=60 -q --tb=no \
  --ignore=tests/unit/test_mcp_server.py \
  --ignore=tests/mcp_server/ \
  --ignore=tests/integration/test_n8n_workflows.py \
  --ignore=tests/unit/api/test_n8n_integration.py \
  --ignore=tests/e2e/test_complete_arbitrage_flow.py

# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (—Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏)
python -m pytest tests/utils/ tests/dmarket/ tests/telegram_bot/ \
  --timeout=30 -q --tb=no
```

---

*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 21 —è–Ω–≤–∞—Ä—è 2026*
*–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–º —Ç–µ—Å—Ç–æ–≤*

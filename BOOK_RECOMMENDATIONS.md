# üìö –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏–∑ –∫–Ω–∏–≥: –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 15 –¥–µ–∫–∞–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å**: –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω, –æ–∂–∏–¥–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
**–°–≤—è–∑–∞–Ω —Å**: [PROJECT_ROADMAP.md](../PROJECT_ROADMAP.md)

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞](#—Ç–µ–∫—É—â–∏–π-—Å—Ç–∞—Ç—É—Å-–ø—Ä–æ–µ–∫—Ç–∞)
3. [–ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤](#–ø–æ—Ä—è–¥–æ–∫-–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤)
4. [–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É–ª—É—á—à–µ–Ω–∏–π](#–∫–∞—Ç–µ–≥–æ—Ä–∏–∏-—É–ª—É—á—à–µ–Ω–∏–π)
5. [–î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#–¥–µ—Ç–∞–ª—å–Ω—ã–π-–ø–ª–∞–Ω-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
6. [–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è](#–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏-–∏-–ø–æ—Ä—è–¥–æ–∫-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
7. [–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞](#–º–µ—Ç—Ä–∏–∫–∏-—É—Å–ø–µ—Ö–∞)

---

## üìå –û–±–∑–æ—Ä

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ DMarket Telegram Bot, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –∞–Ω–∞–ª–∏–∑–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∫–Ω–∏–≥ –ø–æ:

- ü§ñ –†–∞–∑—Ä–∞–±–æ—Ç–∫–µ Telegram –±–æ—Ç–æ–≤
- üêç –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –Ω–∞ Python
- üìà –¢–æ—Ä–≥–æ–≤—ã–º –±–æ—Ç–∞–º –∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–º—É —Ç—Ä–µ–π–¥–∏–Ω–≥—É
- üîÑ CI/CD –∏ DevOps –ø—Ä–∞–∫—Ç–∏–∫–∞–º
- üìä Git –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –≤–µ—Ä—Å–∏—è–º–∏

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –í—Å–µ–≥–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ | ~50 |
| –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ | ~70% |
| –¢—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è | ~20% |
| –ù–æ–≤—ã–µ –∏–¥–µ–∏ –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è | ~10% |

---

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

> **–í–∞–∂–Ω–æ**: –≠—Ç–∏ —É–ª—É—á—à–µ–Ω–∏—è –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ü–û–°–õ–ï –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞.

### –ê–∫—Ç–∏–≤–Ω–∞—è —Ñ–∞–∑–∞: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (R-—Å–µ—Ä–∏—è)

| –ó–∞–¥–∞—á–∞ | –§–∞–π–ª | –°—Ç—Ä–æ–∫ | –°—Ç–∞—Ç—É—Å | –ß–∞—Å—ã |
|--------|------|-------|--------|------|
| R-1 | `dmarket_api.py` | 3239 | ‚úÖ –§–∞–∑–∞ 1 | - |
| R-2 | `arbitrage_scanner.py` | 2127 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | - |
| R-3 | `arbitrage.py` | 1728 | üî≤ –û–∂–∏–¥–∞–µ—Ç | 6-8 |
| R-4 | `notifier.py` | 1489 | üî≤ –û–∂–∏–¥–∞–µ—Ç | 4-6 |
| R-5 | `keyboards.py` | 1467 | üî≤ –û–∂–∏–¥–∞–µ—Ç | 4-6 |
| R-6 | `smart_notifier.py` | 1324 | üî≤ –û–∂–∏–¥–∞–µ—Ç | 3-5 |
| R-7 | `game_filter_handlers.py` | 1195 | üî≤ –û–∂–∏–¥–∞–µ—Ç | 3-4 |
| R-8 | `targets.py` | 1140 | üî≤ –û–∂–∏–¥–∞–µ—Ç | 3-4 |

**–ò—Ç–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞**: ~24-37 —á–∞—Å–æ–≤

### –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞: –ö–Ω–∏–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

–≠—Ç–∏ –∑–∞–¥–∞—á–∏ –Ω–∞—á–Ω—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è R-3 —á–µ—Ä–µ–∑ R-8.

---

## üéØ –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤

### –ò–µ—Ä–∞—Ä—Ö–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```
1. üîß –†–ï–§–ê–ö–¢–û–†–ò–ù–ì (R-3 ‚Üí R-8)     ‚Üê –¢–µ–∫—É—â–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
        ‚Üì
2. üìã ROADMAP P1 –∑–∞–¥–∞—á–∏           ‚Üê –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ
   - P1-11: MyPy baseline
   - P1-22: Backtesting
   - P1-23: Portfolio management
        ‚Üì
3. üìö –ö–ù–ò–ñ–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø           ‚Üê –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
   - B-1: CLI Interface (—Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å P2-19)
   - B-2: OpenTelemetry (—Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å P2-23)
   - B-3: Web Dashboard
   - ...
        ‚Üì
4. üìã ROADMAP P2/P3 –∑–∞–¥–∞—á–∏        ‚Üê –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ
```

### –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤

1. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–≤—ã–π** ‚Äî –∏–Ω–∞—á–µ –Ω–æ–≤—ã–µ —Ñ–∏—á–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –≤ "–≥—Ä—è–∑–Ω—ã–π" –∫–æ–¥
2. **ROADMAP P1** ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è production
3. **–ö–Ω–∏–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è** ‚Äî –ø–æ–≤—ã—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ DX
4. **ROADMAP P2/P3** ‚Äî nice-to-have —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

---

## üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É–ª—É—á—à–µ–Ω–∏–π

### üü¢ –ö–∞—Ç–µ–≥–æ—Ä–∏—è A: –ë—ã—Å—Ç—Ä—ã–µ –ø–æ–±–µ–¥—ã (2-8 —á–∞—Å–æ–≤)

–í—ã—Å–æ–∫–∏–π ROI, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º.

| ID | –£–ª—É—á—à–µ–Ω–∏–µ | –ß–∞—Å—ã | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|----|-----------|------|----------|
| B-A1 | CLI Interface (Click/Typer) | 8-12 | Trading Bots –∫–Ω–∏–≥–∞ |
| B-A2 | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ Git hooks | 2-4 | Git –∫–Ω–∏–≥–∞ |
| B-A3 | Issue templates —É–ª—É—á—à–µ–Ω–∏—è | 1-2 | GitHub –∫–Ω–∏–≥–∞ |
| B-A4 | Makefile —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è | 2-3 | DevOps –∫–Ω–∏–≥–∞ |

### üü° –ö–∞—Ç–µ–≥–æ—Ä–∏—è B: –°—Ä–µ–¥–Ω–∏–µ –∑–∞–¥–∞—á–∏ (10-25 —á–∞—Å–æ–≤)

–°—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è, —Ç—Ä–µ–±—É—é—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

| ID | –£–ª—É—á—à–µ–Ω–∏–µ | –ß–∞—Å—ã | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|----|-----------|------|----------|
| B-B1 | Backtesting –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è | 15-20 | Trading –∫–Ω–∏–≥–∞ |
| B-B2 | Telegram Web Apps | 20-30 | Telegram –∫–Ω–∏–≥–∞ |
| B-B3 | OpenTelemetry —Ç—Ä–µ–π—Å–∏–Ω–≥ | 10-15 | DevOps –∫–Ω–∏–≥–∞ |
| B-B4 | Feature flags —Å–∏—Å—Ç–µ–º–∞ | 8-12 | CI/CD –∫–Ω–∏–≥–∞ |

### üî¥ –ö–∞—Ç–µ–≥–æ—Ä–∏—è C: –ö—Ä—É–ø–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã (30+ —á–∞—Å–æ–≤)

–¢—Ä–µ–±—É—é—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤, –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

| ID | –£–ª—É—á—à–µ–Ω–∏–µ | –ß–∞—Å—ã | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|----|-----------|------|----------|
| B-C1 | Kubernetes + Helm | 30-40 | DevOps –∫–Ω–∏–≥–∞ |
| B-C2 | ML —Ü–µ–Ω–æ–≤—ã–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è | 40-60 | Trading –∫–Ω–∏–≥–∞ |
| B-C3 | Cross-platform –∞—Ä–±–∏—Ç—Ä–∞–∂ | 30-40 | Trading –∫–Ω–∏–≥–∞ |
| B-C4 | Full-stack Web Dashboard | 40-50 | Telegram –∫–Ω–∏–≥–∞ |

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

### B-A1: CLI Interface (Click/Typer)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –í—ã—Å–æ–∫–∏–π
**–í—Ä–µ–º—è**: 8-12 —á–∞—Å–æ–≤
**–°–æ–≤–ø–∞–¥–∞–µ—Ç —Å**: ROADMAP P2-19
**–°—Ç–∞—Ç—É—Å**: üî≤ –û–∂–∏–¥–∞–µ—Ç

#### –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º –±–µ–∑ Telegram.

#### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

- ‚ùå CLI –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Telegram –∏–ª–∏ Python API

#### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

```
src/cli/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ CLI
‚îú‚îÄ‚îÄ commands/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ scan.py          # –ö–æ–º–∞–Ω–¥—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ targets.py       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞—Ä–≥–µ—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ balance.py       # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ stats.py         # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îî‚îÄ‚îÄ utils/
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ output.py         # Rich —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
    ‚îî‚îÄ‚îÄ progress.py       # Progress bars
```

#### –®–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–®–∞–≥ 1** (2-3—á): –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

   ```bash
   pip install typer[all] rich
   ```

   ```python
   # src/cli/main.py
   import typer
   from rich.console import Console

   app = typer.Typer(help="DMarket Bot CLI")
   console = Console()

   @app.command()
   def scan(
       level: str = typer.Option("standard", help="–£—Ä–æ–≤–µ–Ω—å –∞—Ä–±–∏—Ç—Ä–∞–∂–∞"),
       game: str = typer.Option("csgo", help="–ò–≥—Ä–∞")
   ):
       """–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä–±–∏—Ç—Ä–∞–∂–∞."""
       console.print(f"[green]–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ {level} –¥–ª—è {game}...[/green]")
       # ... –ª–æ–≥–∏–∫–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

   if __name__ == "__main__":
       app()
   ```

2. **–®–∞–≥ 2** (3-4—á): –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
   - `dmarket scan` ‚Äî —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä–±–∏—Ç—Ä–∞–∂–∞
   - `dmarket balance` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
   - `dmarket targets list/create/delete` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞—Ä–≥–µ—Ç–∞–º–∏
   - `dmarket config show/set` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

3. **–®–∞–≥ 3** (2-3—á): Rich –≤—ã–≤–æ–¥ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å
   - Progress bars –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - –¢–∞–±–ª–∏—Ü—ã –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ

4. **–®–∞–≥ 4** (1-2—á): –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã
   - README –¥–ª—è CLI
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–∞–Ω–¥
   - `--help` –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

```bash
# –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
dmarket scan --level=boost --game=csgo
dmarket balance
dmarket targets list --status=active
dmarket targets create "AK-47 | Redline" --price=8.50
dmarket stats --period=7d
```

#### –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- [ ] –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ >80%
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è CLI –≤ docs/

---

### B-A2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ Git Hooks

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –í—ã—Å–æ–∫–∏–π
**–í—Ä–µ–º—è**: 2-4 —á–∞—Å–∞
**–°—Ç–∞—Ç—É—Å**: üî≤ –û–∂–∏–¥–∞–µ—Ç

#### –¶–µ–ª—å

–£–ª—É—á—à–∏—Ç—å pre-commit hooks –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞.

#### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

```yaml
# .pre-commit-config.yaml (—Ç–µ–∫—É—â–∏–π)
repos:
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.8.6
    hooks:
      - id: ruff
        args: [--fix]
      - id: ruff-format
```

#### –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å

```yaml
# .pre-commit-config.yaml (—É–ª—É—á—à–µ–Ω–Ω—ã–π)
repos:
  # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.8.6
    hooks:
      - id: ruff
        args: [--fix]
      - id: ruff-format

  # –ù–û–í–û–ï: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
  - repo: https://github.com/Yelp/detect-secrets
    rev: v1.4.0
    hooks:
      - id: detect-secrets
        args: ['--baseline', '.secrets.baseline']

  # –ù–û–í–û–ï: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–º–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–π
  - repo: https://github.com/commitizen-tools/commitizen
    rev: v3.13.0
    hooks:
      - id: commitizen
        stages: [commit-msg]

  # –ù–û–í–û–ï: –ü—Ä–æ–≤–µ—Ä–∫–∞ Markdown
  - repo: https://github.com/igorshubovych/markdownlint-cli
    rev: v0.38.0
    hooks:
      - id: markdownlint
        args: [--fix]

  # –ù–û–í–û–ï: –ü—Ä–æ–≤–µ—Ä–∫–∞ YAML
  - repo: https://github.com/adrienverge/yamllint
    rev: v1.33.0
    hooks:
      - id: yamllint
        args: [-c, .yamllint.yml]

  # –ù–û–í–û–ï: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
  - repo: https://github.com/PyCQA/bandit
    rev: 1.7.6
    hooks:
      - id: bandit
        args: [-c, pyproject.toml, -r, src/]
```

#### –®–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–®–∞–≥ 1** (1—á): –î–æ–±–∞–≤–∏—Ç—å detect-secrets

   ```bash
   detect-secrets scan > .secrets.baseline
   ```

2. **–®–∞–≥ 2** (0.5—á): –ù–∞—Å—Ç—Ä–æ–∏—Ç—å commitizen

   ```toml
   # pyproject.toml
   [tool.commitizen]
   name = "cz_conventional_commits"
   version = "1.0.0"
   tag_format = "v$version"
   ```

3. **–®–∞–≥ 3** (1—á): –î–æ–±–∞–≤–∏—Ç—å markdownlint –∏ yamllint
   - –°–æ–∑–¥–∞—Ç—å `.markdownlint.json`
   - –°–æ–∑–¥–∞—Ç—å `.yamllint.yml`

4. **–®–∞–≥ 4** (0.5—á): –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

   ```bash
   pre-commit run --all-files
   ```

#### –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- [ ] –í—Å–µ hooks –ø—Ä–æ—Ö–æ–¥—è—Ç –Ω–∞ —Ç–µ–∫—É—â–µ–º –∫–æ–¥–µ
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] CI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

---

### B-A3: Issue Templates —É–ª—É—á—à–µ–Ω–∏—è

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –°—Ä–µ–¥–Ω–∏–π
**–í—Ä–µ–º—è**: 1-2 —á–∞—Å–∞
**–°—Ç–∞—Ç—É—Å**: üî≤ –û–∂–∏–¥–∞–µ—Ç

#### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–ë–∞–∑–æ–≤—ã–µ issue templates —Å—É—â–µ—Å—Ç–≤—É—é—Ç.

#### –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å

```
.github/
‚îú‚îÄ‚îÄ ISSUE_TEMPLATE/
‚îÇ   ‚îú‚îÄ‚îÄ bug_report.yml         # –£–ª—É—á—à–∏—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ feature_request.yml    # –£–ª—É—á—à–∏—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ refactoring.yml        # –ù–û–í–û–ï
‚îÇ   ‚îú‚îÄ‚îÄ performance.yml        # –ù–û–í–û–ï
‚îÇ   ‚îî‚îÄ‚îÄ config.yml
‚îú‚îÄ‚îÄ PULL_REQUEST_TEMPLATE.md   # –£–ª—É—á—à–∏—Ç—å
‚îî‚îÄ‚îÄ CODEOWNERS                 # –ù–û–í–û–ï
```

#### –ù–æ–≤—ã–π template: refactoring.yml

```yaml
name: üîß –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
description: –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É –∫–æ–¥–∞
title: "[REFACTOR] "
labels: ["refactoring", "code-quality"]
body:
  - type: dropdown
    id: module
    attributes:
      label: –ú–æ–¥—É–ª—å
      options:
        - src/dmarket/
        - src/telegram_bot/
        - src/utils/
        - tests/
    validations:
      required: true

  - type: textarea
    id: current-state
    attributes:
      label: –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
      placeholder: –û–ø–∏—à–∏—Ç–µ —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–æ–º
    validations:
      required: true

  - type: textarea
    id: proposed-changes
    attributes:
      label: –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
      placeholder: –û–ø–∏—à–∏—Ç–µ —á—Ç–æ –∏ –∫–∞–∫ —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å
    validations:
      required: true

  - type: input
    id: estimated-hours
    attributes:
      label: –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ (—á–∞—Å—ã)
      placeholder: "–Ω–∞–ø—Ä–∏–º–µ—Ä: 4-6"
```

---

### B-B1: Backtesting –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í—ã—Å–æ–∫–∏–π
**–í—Ä–µ–º—è**: 15-20 —á–∞—Å–æ–≤
**–°–≤—è–∑–∞–Ω —Å**: ROADMAP P1-22 (Backtesting —Å–∏—Å—Ç–µ–º–∞)
**–°—Ç–∞—Ç—É—Å**: üî≤ –û–∂–∏–¥–∞–µ—Ç P1-22

#### –¶–µ–ª—å

–î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ –æ—Ç—á—ë—Ç–∞–º–∏.

#### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è P1-22 (Backtesting —Å–∏—Å—Ç–µ–º–∞)
- matplotlib –∏–ª–∏ plotly –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- Jinja2 –¥–ª—è HTML –æ—Ç—á—ë—Ç–æ–≤

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/backtesting/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ engine.py           # –°—É—â–µ—Å—Ç–≤—É–µ—Ç (P1-22)
‚îú‚îÄ‚îÄ strategies.py       # –°—É—â–µ—Å—Ç–≤—É–µ—Ç (P1-22)
‚îú‚îÄ‚îÄ visualization/      # –ù–û–í–û–ï
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ charts.py       # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ reports.py      # HTML/PDF –æ—Ç—á—ë—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ templates/
‚îÇ       ‚îú‚îÄ‚îÄ report.html
‚îÇ       ‚îî‚îÄ‚îÄ styles.css
‚îî‚îÄ‚îÄ analytics/          # –ù–û–í–û–ï
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ metrics.py      # –ú–µ—Ç—Ä–∏–∫–∏ (Sharpe, Sortino, etc.)
    ‚îî‚îÄ‚îÄ comparisons.py  # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
```

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ì—Ä–∞—Ñ–∏–∫–∏ –ø—Ä–∏–±—ã–ª–∏**
   - –ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –ø—Ä–∏–±—ã–ª—å –ø–æ –≤—Ä–µ–º–µ–Ω–∏
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
   - Drawdown –∞–Ω–∞–ª–∏–∑

2. **Heatmaps**
   - –ü—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏/—á–∞—Å–∞–º
   - –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å –æ–±—ä—ë–º–∞–º–∏ —Ä—ã–Ω–∫–∞

3. **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã**
   - Win rate, profit factor
   - Sharpe/Sortino ratio
   - Maximum drawdown

4. **HTML –æ—Ç—á—ë—Ç—ã**
   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ (Plotly)
   - –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF

#### –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞

```python
# src/backtesting/visualization/charts.py
import plotly.graph_objects as go
from plotly.subplots import make_subplots

class BacktestVisualizer:
    """–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞."""

    def __init__(self, results: BacktestResults):
        self.results = results

    def create_equity_curve(self) -> go.Figure:
        """–°–æ–∑–¥–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫ —ç–∫–≤–∏—Ç–∏."""
        fig = go.Figure()

        fig.add_trace(go.Scatter(
            x=self.results.dates,
            y=self.results.cumulative_pnl,
            mode='lines',
            name='Equity Curve',
            line=dict(color='green', width=2)
        ))

        fig.update_layout(
            title='Equity Curve',
            xaxis_title='Date',
            yaxis_title='Cumulative P&L ($)',
            template='plotly_dark'
        )

        return fig

    def create_drawdown_chart(self) -> go.Figure:
        """–°–æ–∑–¥–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–æ—Å–∞–¥–æ–∫."""
        # ...

    def generate_html_report(self, output_path: str) -> None:
        """–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å HTML –æ—Ç—á—ë—Ç."""
        # ...
```

#### –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- [ ] 5+ —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- [ ] HTML –æ—Ç—á—ë—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram (–æ—Ç–ø—Ä–∞–≤–∫–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤)
- [ ] –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã—Ç–∏–µ >80%

---

### B-B2: Telegram Web Apps

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π
**–í—Ä–µ–º—è**: 20-30 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: üî≤ –û–∂–∏–¥–∞–µ—Ç

#### –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–Ω—É—Ç—Ä–∏ Telegram –¥–ª—è:

- –î–∞—à–±–æ—Ä–¥ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∞—Ä–±–∏—Ç—Ä–∞–∂–∞

#### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Frontend**: React/Vue + Telegram Web Apps SDK
- **Backend**: FastAPI endpoint –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
- **–•–æ—Å—Ç–∏–Ω–≥**: Cloudflare Pages –∏–ª–∏ Vercel

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
webapp/
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ArbitrageList.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Settings.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Charts.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useTelegram.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useApi.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.tsx
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.ts
‚îÇ
‚îî‚îÄ‚îÄ backend/
    ‚îî‚îÄ‚îÄ src/webapp_api/
        ‚îú‚îÄ‚îÄ __init__.py
        ‚îú‚îÄ‚îÄ main.py           # FastAPI app
        ‚îú‚îÄ‚îÄ routes/
        ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.py
        ‚îÇ   ‚îú‚îÄ‚îÄ arbitrage.py
        ‚îÇ   ‚îî‚îÄ‚îÄ settings.py
        ‚îî‚îÄ‚îÄ auth.py           # Telegram auth validation
```

#### –§–∞–∑—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–§–∞–∑–∞ 1** (8-10—á): –ë–∞–∑–æ–≤—ã–π –¥–∞—à–±–æ—Ä–¥

- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–ª–∞–Ω—Å–∞
- –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–¥–µ–ª–æ–∫
- Telegram Web Apps –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–§–∞–∑–∞ 2** (8-10—á): –ê—Ä–±–∏—Ç—Ä–∞–∂ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
- –§–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

**–§–∞–∑–∞ 3** (4-6—á): –ù–∞—Å—Ç—Ä–æ–π–∫–∏

- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–∞–º–∏

---

### B-B3: OpenTelemetry —Ç—Ä–µ–π—Å–∏–Ω–≥

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π
**–í—Ä–µ–º—è**: 10-15 —á–∞—Å–æ–≤
**–°–æ–≤–ø–∞–¥–∞–µ—Ç —Å**: ROADMAP P2-23 (Observability)
**–°—Ç–∞—Ç—É—Å**: üî≤ –û–∂–∏–¥–∞–µ—Ç

#### –¶–µ–ª—å

–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —Ç—Ä–µ–π—Å–∏–Ω–≥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

#### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

- ‚úÖ Prometheus –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ Sentry error tracking
- ‚ùå Distributed tracing –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

#### –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å

```python
# src/utils/tracing.py
from opentelemetry import trace
from opentelemetry.sdk.trace import TracerProvider
from opentelemetry.sdk.trace.export import BatchSpanProcessor
from opentelemetry.exporter.otlp.proto.grpc.trace_exporter import OTLPSpanExporter
from opentelemetry.instrumentation.httpx import HTTPXClientInstrumentation
from opentelemetry.instrumentation.sqlalchemy import SQLAlchemyInstrumentor

def setup_tracing(service_name: str = "dmarket-bot"):
    """–ù–∞—Å—Ç—Ä–æ–∏—Ç—å OpenTelemetry —Ç—Ä–µ–π—Å–∏–Ω–≥."""
    provider = TracerProvider()

    # –≠–∫—Å–ø–æ—Ä—Ç –≤ Jaeger/Tempo
    otlp_exporter = OTLPSpanExporter(
        endpoint=os.getenv("OTEL_EXPORTER_OTLP_ENDPOINT", "localhost:4317")
    )
    provider.add_span_processor(BatchSpanProcessor(otlp_exporter))

    trace.set_tracer_provider(provider)

    # Auto-instrumentation
    HTTPXClientInstrumentation().instrument()
    SQLAlchemyInstrumentor().instrument()

    return trace.get_tracer(service_name)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
tracer = setup_tracing()

async def scan_arbitrage(level: str, game: str):
    with tracer.start_as_current_span("scan_arbitrage") as span:
        span.set_attribute("level", level)
        span.set_attribute("game", game)

        # ... –ª–æ–≥–∏–∫–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

        span.set_attribute("opportunities_found", len(results))
        return results
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

```yaml
# docker-compose.yml (–¥–æ–±–∞–≤–∏—Ç—å)
services:
  jaeger:
    image: jaegertracing/all-in-one:latest
    ports:
      - "16686:16686"  # UI
      - "4317:4317"    # OTLP gRPC
    environment:
      - COLLECTOR_OTLP_ENABLED=true
```

---

### B-B4: Feature Flags —Å–∏—Å—Ç–µ–º–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –ù–∏–∑–∫–∏–π
**–í—Ä–µ–º—è**: 8-12 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: üî≤ –û–∂–∏–¥–∞–µ—Ç

#### –¶–µ–ª—å

–í–Ω–µ–¥—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É feature flags –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ü—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç**: JSON/YAML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
2. **–°—Ä–µ–¥–Ω–∏–π –≤–∞—Ä–∏–∞–Ω—Ç**: Redis + –∞–¥–º–∏–Ω–∫–∞
3. **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π**: LaunchDarkly/Unleash –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

```python
# src/utils/feature_flags.py
from pydantic import BaseModel
import yaml

class FeatureFlags(BaseModel):
    """Feature flags –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è."""

    # –ê—Ä–±–∏—Ç—Ä–∞–∂
    ultra_level_enabled: bool = False
    cross_platform_arbitrage: bool = False

    # UI
    web_app_enabled: bool = False
    advanced_charts: bool = False

    # Experimental
    ml_predictions: bool = False
    auto_trading: bool = False

    @classmethod
    def load(cls, path: str = "config/features.yaml") -> "FeatureFlags":
        """–ó–∞–≥—Ä—É–∑–∏—Ç—å flags –∏–∑ —Ñ–∞–π–ª–∞."""
        with open(path) as f:
            data = yaml.safe_load(f)
        return cls(**data)

# Singleton
_flags: FeatureFlags | None = None

def get_flags() -> FeatureFlags:
    global _flags
    if _flags is None:
        _flags = FeatureFlags.load()
    return _flags

# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä
def feature_flag(flag_name: str):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è feature-gated —Ñ—É–Ω–∫—Ü–∏–π."""
    def decorator(func):
        async def wrapper(*args, **kwargs):
            flags = get_flags()
            if not getattr(flags, flag_name, False):
                raise FeatureDisabledError(flag_name)
            return await func(*args, **kwargs)
        return wrapper
    return decorator

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
@feature_flag("ultra_level_enabled")
async def scan_ultra_level():
    """–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ultra —É—Ä–æ–≤–Ω—è (feature-gated)."""
    # ...
```

---

### B-C1: Kubernetes + Helm

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –ù–∏–∑–∫–∏–π (–¥–ª—è production)
**–í—Ä–µ–º—è**: 30-40 —á–∞—Å–æ–≤
**–°–æ–≤–ø–∞–¥–∞–µ—Ç —Å**: ROADMAP P2-10
**–°—Ç–∞—Ç—É—Å**: üî≤ –û–∂–∏–¥–∞–µ—Ç

#### –¶–µ–ª—å

–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –¥–ª—è –¥–µ–ø–ª–æ—è –≤ Kubernetes.

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
k8s/
‚îú‚îÄ‚îÄ base/
‚îÇ   ‚îú‚îÄ‚îÄ deployment.yaml
‚îÇ   ‚îú‚îÄ‚îÄ service.yaml
‚îÇ   ‚îú‚îÄ‚îÄ configmap.yaml
‚îÇ   ‚îú‚îÄ‚îÄ secret.yaml
‚îÇ   ‚îî‚îÄ‚îÄ kustomization.yaml
‚îú‚îÄ‚îÄ overlays/
‚îÇ   ‚îú‚îÄ‚îÄ dev/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ kustomization.yaml
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ patch-replicas.yaml
‚îÇ   ‚îú‚îÄ‚îÄ staging/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ production/
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ helm/
    ‚îî‚îÄ‚îÄ dmarket-bot/
        ‚îú‚îÄ‚îÄ Chart.yaml
        ‚îú‚îÄ‚îÄ values.yaml
        ‚îú‚îÄ‚îÄ templates/
        ‚îÇ   ‚îú‚îÄ‚îÄ deployment.yaml
        ‚îÇ   ‚îú‚îÄ‚îÄ service.yaml
        ‚îÇ   ‚îú‚îÄ‚îÄ ingress.yaml
        ‚îÇ   ‚îú‚îÄ‚îÄ hpa.yaml
        ‚îÇ   ‚îî‚îÄ‚îÄ ...
        ‚îî‚îÄ‚îÄ charts/
            ‚îú‚îÄ‚îÄ postgresql/
            ‚îî‚îÄ‚îÄ redis/
```

#### –§–∞–∑—ã

**–§–∞–∑–∞ 1** (10-12—á): Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã

- Deployment, Service, ConfigMap, Secret
- Kustomize –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π

**–§–∞–∑–∞ 2** (12-15—á): Helm Chart

- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- Sub-charts –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- values.yaml –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–§–∞–∑–∞ 3** (8-10—á): CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- GitHub Actions –¥–ª—è –¥–µ–ø–ª–æ—è
- ArgoCD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- Rollback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

---

### B-C2: ML —Ü–µ–Ω–æ–≤—ã–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –ù–∏–∑–∫–∏–π (–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)
**–í—Ä–µ–º—è**: 40-60 —á–∞—Å–æ–≤
**–°–æ–≤–ø–∞–¥–∞–µ—Ç —Å**: ROADMAP P3-1
**–°—Ç–∞—Ç—É—Å**: üî≤ –û–∂–∏–¥–∞–µ—Ç (–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)

#### –¶–µ–ª—å

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ML –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω –∏ —É–ª—É—á—à–µ–Ω–∏—è –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –≠—Ç–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞. –£—Å–ø–µ—Ö –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω.

#### –ü–æ–¥—Ö–æ–¥

1. **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö** (10-15—á)
   - –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Ü–µ–Ω—ã (sales_history)
   - –û–±—ä—ë–º—ã —Ç–æ—Ä–≥–æ–≤
   - –í–Ω–µ—à–Ω–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã (–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–≥—Ä—ã, —Ç—É—Ä–Ω–∏—Ä—ã)

2. **Feature Engineering** (8-10—á)
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (SMA, EMA, RSI)
   - Lag features
   - Seasonal patterns

3. **–ú–æ–¥–µ–ª–∏** (15-20—á)
   - Baseline: Linear Regression
   - –£–ª—É—á—à–µ–Ω–∏–µ: Random Forest, XGBoost
   - Advanced: LSTM/Transformer (–µ—Å–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö)

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** (10-15—á)
   - API endpoint –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ arbitrage_scanner
   - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –û—Å—Ç–æ—Ä–æ–∂–Ω–æ

‚ö†Ô∏è **–†–∏—Å–∫–∏:**

- –†—ã–Ω–æ–∫ –∏–≥—Ä–æ–≤—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- Overfitting –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏–≥—Ä–µ –¥–µ–ª–∞—é—Ç –º–æ–¥–µ–ª—å —É—Å—Ç–∞—Ä–µ–≤—à–µ–π

---

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```mermaid
graph TD
    R[–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ R-3‚ÜíR-8] --> P1[ROADMAP P1-22, P1-23]
    P1 --> BA1[B-A1: CLI Interface]
    P1 --> BA2[B-A2: Git Hooks]
    BA1 --> BB1[B-B1: Backtesting Viz]
    R --> BB2[B-B2: Telegram Web Apps]
    BB1 --> BC2[B-C2: ML Predictions]
    BB2 --> BC1[B-C1: Kubernetes]
    BA2 --> BB3[B-B3: OpenTelemetry]
```

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫

| –ü–æ—Ä—è–¥–æ–∫ | –ó–∞–¥–∞—á–∞ | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç | –û—Ü–µ–Ω–∫–∞ |
|---------|--------|------------|--------|
| 1 | R-3 ‚Üí R-8 | ‚Äî | 24-37—á |
| 2 | P1-22 Backtesting | R-—Å–µ—Ä–∏—è | 15-20—á |
| 3 | P1-23 Portfolio | R-—Å–µ—Ä–∏—è | 12-16—á |
| 4 | B-A1 CLI | ‚Äî | 8-12—á |
| 5 | B-A2 Git Hooks | ‚Äî | 2-4—á |
| 6 | B-B1 Backtesting Viz | P1-22 | 15-20—á |
| 7 | B-B3 OpenTelemetry | ‚Äî | 10-15—á |
| 8 | B-B2 Web Apps | R-—Å–µ—Ä–∏—è | 20-30—á |
| 9 | B-C1 Kubernetes | ‚Äî | 30-40—á |
| 10 | B-C2 ML | P1-22, –¥–∞–Ω–Ω—ã–µ | 40-60—á |

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ

| –ú–µ—Ç—Ä–∏–∫–∞ | –¢–µ–∫—É—â–µ–µ | –¶–µ–ª—å | –ü–æ—Å–ª–µ –∫–Ω–∏–∂–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π |
|---------|---------|------|-------------------------|
| Test Coverage | ~25% | 80% | 85%+ |
| MyPy Errors | 885 | <100 | 0 |
| CLI Commands | 0 | ‚Äî | 10+ |
| Response Time | ‚Äî | <2s | <1s |
| Deployment Time | ‚Äî | ‚Äî | <5min |

### –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ

- [ ] CLI –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- [ ] Backtesting —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] OpenTelemetry —Ç—Ä–µ–π—Å–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –í—Å–µ hooks –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã

### –ü–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–µ–π

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (R-—Å–µ—Ä–∏—è) –∑–∞–≤–µ—Ä—à—ë–Ω
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞—á–∏
- [ ] –°–æ–∑–¥–∞—Ç—å feature branch: `feature/book-{id}`
- [ ] –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã

### –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] MyPy –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Ruff –±–µ–∑ warnings
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] PR —Å–æ–∑–¥–∞–Ω –∏ –æ–¥–æ–±—Ä–µ–Ω
- [ ] –ó–∞–¥–∞—á–∞ –æ—Ç–º–µ—á–µ–Ω–∞ –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ

---

## üìö –°—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

### –ö–Ω–∏–≥–∏-–∏—Å—Ç–æ—á–Ω–∏–∫–∏

1. **Telegram Bot Development** ‚Äî Interactive UI, Web Apps
2. **Python Automation Cookbook** ‚Äî CLI, scheduling
3. **Building Trading Bots** ‚Äî Backtesting, visualization
4. **DevOps with Kubernetes** ‚Äî K8s, Helm, observability
5. **Git –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤** ‚Äî Hooks, workflows

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [PROJECT_ROADMAP.md](../PROJECT_ROADMAP.md) ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π roadmap
- [ARCHITECTURE.md](ARCHITECTURE.md) ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [CONTRIBUTING.md](CONTRIBUTING.md) ‚Äî –ì–∞–π–¥ –ø–æ –∫–æ–Ω—Ç—Ä–∏–±—É—Ü–∏–∏
- [testing_guide.md](testing_guide.md) ‚Äî –ì–∞–π–¥ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 15 –¥–µ–∫–∞–±—Ä—è 2025
**–ê–≤—Ç–æ—Ä**: GitHub Copilot
**–°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞**: ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π

============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-9.0.2, pluggy-1.6.0
rootdir: D:\DMarket-Telegram-Bot-main
configfile: pyproject.toml
testpaths: tests
plugins: anyio-4.12.0, Faker-38.2.0, hypothesis-6.148.7, asyncio-1.3.0, cov-7.0.0, httpx-0.36.0, mock-3.15.1, recording-0.13.4, xdist-3.8.0, typeguard-4.4.2
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collected 2590 items

tests\analytics\test_backtesting.py ...........................          [  1%]
tests\contracts\test_account_contracts.py .......                        [  1%]
tests\contracts\test_inventory_contracts.py ..............               [  1%]
tests\contracts\test_market_contracts.py ..........                      [  2%]
tests\contracts\test_targets_contracts.py ............                   [  2%]
tests\core\test_api_error_handling_core.py ..............                [  3%]
tests\core\test_arbitrage_core.py ...............................        [  4%]
tests\core\test_dmarket_api_core.py .........................            [  5%]
tests\core\test_handlers_core.py ............                            [  5%]
tests\core\test_keyboards_core.py ..................                     [  6%]
tests\core\test_logging_core.py ..........                               [  6%]
tests\core\test_models_core.py ........                                  [  7%]
tests\core\test_utils_core.py ......................................     [  8%]
tests\dmarket\filters\test_game_filters.py ............................. [  9%]
...................                                                      [ 10%]
tests\dmarket\scanner\test_levels.py ................................    [ 11%]
tests\dmarket\test_advanced_filters.py ................................. [ 13%]
....                                                                     [ 13%]
tests\dmarket\test_api_unified.py ..........                             [ 13%]
tests\dmarket\test_arbitrage.py ........................................ [ 15%]
..................................................                       [ 17%]
tests\dmarket\test_arbitrage_additional.py ...................           [ 17%]
tests\dmarket\test_arbitrage_advanced.py ...........                     [ 18%]
tests\dmarket\test_arbitrage_sales_analysis.py .................         [ 18%]
tests\dmarket\test_arbitrage_scanner.py ................................ [ 20%]
.........................                                                [ 21%]
tests\dmarket\test_arbitrage_scanner_extended.py ....................... [ 22%]
..................................                                       [ 23%]
tests\dmarket\test_auto_seller.py .....................................  [ 24%]
tests\dmarket\test_backtester.py ..................................      [ 26%]
tests\dmarket\test_dmarket_api.py ...................................... [ 27%]
.............................................                            [ 29%]
tests\dmarket\test_game_filters.py ...................................   [ 30%]
tests\dmarket\test_hft_mode.py .......................                   [ 31%]
tests\dmarket\test_intramarket_arbitrage.py ..........................   [ 32%]
tests\dmarket\test_liquidity_analyzer.py ...............                 [ 33%]
tests\dmarket\test_market_analysis.py .............................      [ 34%]
tests\dmarket\test_portfolio_manager.py ................................ [ 35%]
...........                                                              [ 35%]
tests\dmarket\test_realtime_price_watcher.py ........................... [ 36%]
.............................                                            [ 38%]
tests\dmarket\test_sales_history.py ..................................   [ 39%]
tests\dmarket\test_schemas.py .........................                  [ 40%]
tests\dmarket\test_smart_market_finder.py .............................. [ 41%]
......................                                                   [ 42%]
tests\dmarket\test_targets.py ...............                            [ 42%]
tests\dmarket\test_vcr_example.py ...........                            [ 43%]
tests\e2e\test_user_flow.py .                                            [ 43%]
tests\integration\test_api_validation.py ..............                  [ 43%]
tests\integration\test_api_with_httpx_mock.py ....................       [ 44%]
tests\integration\test_arbitrage_edge_cases.py ..............            [ 45%]
tests\integration\test_arbitrage_scanner_integration.py ...              [ 45%]
tests\integration\test_dmarket_api_integration.py ............           [ 45%]
tests\integration\test_edge_cases.py .................                   [ 46%]
tests\integration\test_full_workflows.py ........                        [ 46%]
tests\integration\test_targets_edge_cases.py .................           [ 47%]
tests\models\test_target.py .........................                    [ 48%]
tests\models\test_user.py ..............................                 [ 49%]
tests\portfolio\test_portfolio.py ...............................        [ 50%]
tests\property_based\test_arbitrage_properties.py ..............         [ 51%]
tests\scripts\test_backup_database.py ...................                [ 52%]
tests\scripts\test_generate_changelog.py .................               [ 52%]
tests\scripts\test_safe_migrate.py .................                     [ 53%]
tests\telegram_bot\handlers\test_arbitrage_callback_impl.py .....        [ 53%]
tests\telegram_bot\handlers\test_auto_sell_handler.py .................. [ 54%]
.........                                                                [ 54%]
tests\telegram_bot\handlers\test_callbacks.py .......................... [ 55%]
.                                                                        [ 55%]
tests\telegram_bot\handlers\test_commands.py ......................      [ 56%]
tests\telegram_bot\handlers\test_dmarket_handlers.py ..........          [ 56%]
tests\telegram_bot\handlers\test_dmarket_status.py ........              [ 57%]
tests\telegram_bot\handlers\test_error_handlers.py ........              [ 57%]
tests\telegram_bot\handlers\test_market_alerts_handler.py .............. [ 57%]
..........                                                               [ 58%]
tests\telegram_bot\handlers\test_market_analysis_handler.py ........F... [ 58%]
...F....                                                                 [ 59%]
tests\telegram_bot\handlers\test_scanner_handler.py .................... [ 59%]
.................                                                        [ 60%]
tests\telegram_bot\handlers\test_target_handler.py ..................... [ 61%]
...                                                                      [ 61%]
tests\telegram_bot\test_bot_commands.py ....                             [ 61%]
tests\telegram_bot\test_constants_and_basic_commands.py FF.F........     [ 62%]
tests\telegram_bot\test_dependencies.py .........................        [ 63%]
tests\telegram_bot\test_game_filter_handlers.py ........................ [ 64%]
.................                                                        [ 64%]
tests\telegram_bot\test_intramarket_handler.py ....FFF...                [ 65%]
tests\telegram_bot\test_keyboards.py .............................       [ 66%]
tests\telegram_bot\test_liquidity_settings_handler.py .................. [ 66%]
..                                                                       [ 66%]
tests\telegram_bot\test_notification_queue.py ...                        [ 67%]
tests\telegram_bot\test_notifier.py .................................... [ 68%]
F..F...                                                                  [ 68%]
tests\telegram_bot\test_notifier_alerts.py F....                         [ 68%]
tests\telegram_bot\test_pagination.py ....................F.             [ 69%]
tests\telegram_bot\test_price_alerts_handler.py ........................ [ 70%]
..........                                                               [ 71%]
tests\telegram_bot\test_sales_analysis_handlers.py ..........            [ 71%]
tests\telegram_bot\test_scanner_handler.py .............                 [ 71%]
tests\telegram_bot\test_settings_handlers.py ........................    [ 72%]
tests\telegram_bot\test_webhook_handler.py ....................          [ 73%]
tests\telegram_bot\utils\test_error_handler.py ......................... [ 74%]
.............                                                            [ 75%]
tests\telegram_bot\utils\test_formatters.py .................            [ 75%]
tests\test_ci_smoke.py .......                                           [ 76%]
tests\test_competition.py .............                                  [ 76%]
tests\test_config.py .............                                       [ 77%]
tests\test_containers.py ................                                [ 77%]
tests\test_crash_notif.py FFFFF                                          [ 77%]
tests\test_crash_notifications.py FFF.FF.                                [ 78%]
tests\test_crash_notifications_simple.py FFFFF                           [ 78%]
tests\test_database.py ....................                              [ 79%]
tests\test_dmarket_api_circuit_breaker.py ..                             [ 79%]
tests\test_keyboards.py FFFFFF.F..F.                                     [ 79%]
tests\test_liquidity_rules.py ......................................     [ 81%]
tests\test_main.py ..FFFF..............F.                                [ 81%]
tests\test_pagination.py .........                                       [ 82%]
tests\test_performance.py ............................                   [ 83%]
tests\test_sqlite_fallback.py ....................                       [ 84%]
tests\test_targets.py ..FF.FF..FFFFFF...F...FFFFF..FFFFFFFFF..FFFFFFFF.. [ 86%]
......                                                                   [ 86%]
tests\unit\dmarket\test_market_models.py ...............                 [ 86%]
tests\utils\test_analytics_extended.py ................................  [ 88%]
tests\utils\test_api_error_handling.py ....                              [ 88%]
tests\utils\test_audit_logger.py ..........                              [ 88%]
tests\utils\test_database_caching.py ............                        [ 89%]
tests\utils\test_discord_notifier.py .....................               [ 89%]
tests\utils\test_feature_flags.py .......                                [ 90%]
tests\utils\test_health_monitor.py .............................         [ 91%]
tests\utils\test_json_utils.py ..........................                [ 92%]
tests\utils\test_market_analyzer.py ...........                          [ 92%]
tests\utils\test_market_visualizer.py ...........                        [ 93%]
tests\utils\test_memory_cache.py .........................               [ 94%]
tests\utils\test_prometheus_exporter.py ..........                       [ 94%]
tests\utils\test_rate_limiter.py ..................................      [ 95%]
tests\utils\test_redis_cache.py ............                             [ 96%]
tests\utils\test_retry_decorator.py ...........                          [ 96%]
tests\utils\test_sentry_breadcrumbs.py ...............                   [ 97%]
tests\utils\test_user_rate_limiter.py ...................                [ 98%]
tests\utils\test_websocket_client.py ................................... [ 99%]
..............                                                           [ 99%]
C:\Users\west2\AppData\Roaming\Python\Python311\site-packages\coverage\report_core.py:113: CoverageWarning: Couldn't parse 'src\dependency_injector\providers.pyx': No source for code: 'src\dependency_injector\providers.pyx'. (couldnt-parse); see https://coverage.readthedocs.io/en/7.12.0/messages.html#warning-couldnt-parse
  coverage._warn(msg, slug="couldnt-parse")
tests\web_dashboard\test_app.py .                                        [100%]

================================== FAILURES ===================================
______________________ test_show_trending_items_results _______________________
tests\telegram_bot\handlers\test_market_analysis_handler.py:367: in test_show_trending_items_results
    await show_trending_items_results(mock_callback_query, mock_context, "csgo")
src\telegram_bot\handlers\market_analysis_handler.py:529: in show_trending_items_results
    pagination_keyboard = create_pagination_keyboard(
E   TypeError: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
__________________ test_handle_pagination_analysis_prev_page __________________
tests\telegram_bot\handlers\test_market_analysis_handler.py:472: in test_handle_pagination_analysis_prev_page
    await handle_pagination_analysis(mock_update, mock_context)
src\telegram_bot\handlers\market_analysis_handler.py:397: in handle_pagination_analysis
    await show_trending_items_results(query, context, game)
src\telegram_bot\handlers\market_analysis_handler.py:529: in show_trending_items_results
    pagination_keyboard = create_pagination_keyboard(
E   TypeError: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
____________________________ test_env_path_defined ____________________________
tests\telegram_bot\test_constants_and_basic_commands.py:39: in test_env_path_defined
    assert isinstance(ENV_PATH, str)
E   AssertionError: assert False
E    +  where False = isinstance(WindowsPath('.env'), str)
_______________________ test_user_profiles_file_defined _______________________
tests\telegram_bot\test_constants_and_basic_commands.py:46: in test_user_profiles_file_defined
    assert isinstance(USER_PROFILES_FILE, str)
E   AssertionError: assert False
E    +  where False = isinstance(WindowsPath('data/user_profiles.json'), str)
________________________ test_arbitrage_modes_defined _________________________
tests\telegram_bot\test_constants_and_basic_commands.py:75: in test_arbitrage_modes_defined
    assert "auto" in ARBITRAGE_MODES
E   AssertionError: assert 'auto' in {'advanced': '\U0001f3c6 \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439 ($30-$100)', 'boost': '\U0001f680 \u0420\u0430\u0437\u0433\u043e\u043d \u0431\u0430\u043b\u0430\u043d\u0441\u0430 ($0.5-$3)', 'medium': '\U0001f48e \u0421\u0440\u0435\u0434\u043d\u0438\u0439 ($10-$30)', 'pro': '\U0001f451 \u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b ($100+)', ...}
_________ TestHandleIntramarketCallback.test_handle_anomaly_callback __________
tests\telegram_bot\test_intramarket_handler.py:239: in test_handle_anomaly_callback
    await handle_intramarket_callback(update, context)
src\utils\exceptions.py:613: in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:455: in handle_intramarket_callback
    await display_results_with_pagination(
src\utils\exceptions.py:613: in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:191: in display_results_with_pagination
    pagination_keyboard = create_pagination_keyboard(
E   TypeError: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
ERROR    src.telegram_bot.handlers.intramarket_arbitrage_handler.display_results_with_pagination:exceptions.py:633 ═хюсЁрсюЄрээюх шёъы■ўхэшх т display_results_with_pagination: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\utils\exceptions.py", line 613, in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\intramarket_arbitrage_handler.py", line 191, in display_results_with_pagination
    pagination_keyboard = create_pagination_keyboard(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
ERROR    src.telegram_bot.handlers.intramarket_arbitrage_handler.handle_intramarket_callback:exceptions.py:633 ═хюсЁрсюЄрээюх шёъы■ўхэшх т handle_intramarket_callback: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\utils\exceptions.py", line 613, in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\intramarket_arbitrage_handler.py", line 455, in handle_intramarket_callback
    await display_results_with_pagination(
  File "D:\DMarket-Telegram-Bot-main\src\utils\exceptions.py", line 613, in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\intramarket_arbitrage_handler.py", line 191, in display_results_with_pagination
    pagination_keyboard = create_pagination_keyboard(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
__________ TestHandleIntramarketCallback.test_handle_trend_callback ___________
tests\telegram_bot\test_intramarket_handler.py:306: in test_handle_trend_callback
    await handle_intramarket_callback(update, context)
src\utils\exceptions.py:613: in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:455: in handle_intramarket_callback
    await display_results_with_pagination(
src\utils\exceptions.py:613: in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:191: in display_results_with_pagination
    pagination_keyboard = create_pagination_keyboard(
E   TypeError: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
ERROR    src.telegram_bot.handlers.intramarket_arbitrage_handler.display_results_with_pagination:exceptions.py:633 ═хюсЁрсюЄрээюх шёъы■ўхэшх т display_results_with_pagination: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\utils\exceptions.py", line 613, in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\intramarket_arbitrage_handler.py", line 191, in display_results_with_pagination
    pagination_keyboard = create_pagination_keyboard(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
ERROR    src.telegram_bot.handlers.intramarket_arbitrage_handler.handle_intramarket_callback:exceptions.py:633 ═хюсЁрсюЄрээюх шёъы■ўхэшх т handle_intramarket_callback: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\utils\exceptions.py", line 613, in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\intramarket_arbitrage_handler.py", line 455, in handle_intramarket_callback
    await display_results_with_pagination(
  File "D:\DMarket-Telegram-Bot-main\src\utils\exceptions.py", line 613, in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\intramarket_arbitrage_handler.py", line 191, in display_results_with_pagination
    pagination_keyboard = create_pagination_keyboard(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
___________ TestHandleIntramarketCallback.test_handle_rare_callback ___________
tests\telegram_bot\test_intramarket_handler.py:364: in test_handle_rare_callback
    await handle_intramarket_callback(update, context)
src\utils\exceptions.py:613: in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:455: in handle_intramarket_callback
    await display_results_with_pagination(
src\utils\exceptions.py:613: in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:191: in display_results_with_pagination
    pagination_keyboard = create_pagination_keyboard(
E   TypeError: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
ERROR    src.telegram_bot.handlers.intramarket_arbitrage_handler.display_results_with_pagination:exceptions.py:633 ═хюсЁрсюЄрээюх шёъы■ўхэшх т display_results_with_pagination: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\utils\exceptions.py", line 613, in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\intramarket_arbitrage_handler.py", line 191, in display_results_with_pagination
    pagination_keyboard = create_pagination_keyboard(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
ERROR    src.telegram_bot.handlers.intramarket_arbitrage_handler.handle_intramarket_callback:exceptions.py:633 ═хюсЁрсюЄрээюх шёъы■ўхэшх т handle_intramarket_callback: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\utils\exceptions.py", line 613, in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\intramarket_arbitrage_handler.py", line 455, in handle_intramarket_callback
    await display_results_with_pagination(
  File "D:\DMarket-Telegram-Bot-main\src\utils\exceptions.py", line 613, in async_wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\intramarket_arbitrage_handler.py", line 191, in display_results_with_pagination
    pagination_keyboard = create_pagination_keyboard(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
__________________ test_check_all_alerts_daily_limit_reached __________________
tests\telegram_bot\test_notifier.py:871: in test_check_all_alerts_daily_limit_reached
    await check_all_alerts(mock_api, mock_bot)
src\telegram_bot\notifications\checker.py:277: in check_all_alerts
    result = await notifier_module.check_price_alert(api, alert)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\telegram_bot\notifications\checker.py:113: in check_price_alert
    item_id = alert["item_id"]
              ^^^^^^^^^^^^^^^^
E   KeyError: 'item_id'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
DEBUG    src.telegram_bot.notifications.storage:storage.py:102 ╬яютх∙хэш  єёях°эю ёюїЁрэхэ√ т Їрщы
__________________ test_check_all_alerts_exception_handling ___________________
tests\telegram_bot\test_notifier.py:966: in test_check_all_alerts_exception_handling
    await check_all_alerts(mock_api, mock_bot)
src\telegram_bot\notifications\checker.py:277: in check_all_alerts
    result = await notifier_module.check_price_alert(api, alert)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Program Files\Python311\Lib\unittest\mock.py:2240: in _execute_mock_call
    raise effect
E   Exception: Test error
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
DEBUG    src.telegram_bot.notifications.storage:storage.py:102 ╬яютх∙хэш  єёях°эю ёюїЁрэхэ√ т Їрщы
_________________ test_check_all_alerts_with_triggered_alert __________________
tests\telegram_bot\test_notifier_alerts.py:77: in test_check_all_alerts_with_triggered_alert
    assert mock_bot.send_message.called
E   AssertionError: assert False
E    +  where False = <AsyncMock name='mock.send_message' id='2175388792528'>.called
E    +    where <AsyncMock name='mock.send_message' id='2175388792528'> = <AsyncMock id='2175390201040'>.send_message
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
________________________ test_get_pagination_keyboard _________________________
tests\telegram_bot\test_pagination.py:320: in test_get_pagination_keyboard
    keyboard = pagination_manager.get_pagination_keyboard(user_id, prefix="test")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\telegram_bot\pagination.py:316: in get_pagination_keyboard
    return create_pagination_keyboard(
E   TypeError: create_pagination_keyboard() got an unexpected keyword argument 'with_nums'
__________ TestCrashNotifications.test_send_crash_notification_basic __________
tests\test_crash_notif.py:57: in test_send_crash_notification_basic
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
___ TestCrashNotifications.test_send_crash_notification_with_long_traceback ___
tests\test_crash_notif.py:90: in test_send_crash_notification_with_long_traceback
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
______ TestCrashNotifications.test_send_crash_notification_without_queue ______
tests\test_crash_notif.py:118: in test_send_crash_notification_without_queue
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
__________ TestCrashNotifications.test_crash_notification_formatting __________
tests\test_crash_notif.py:148: in test_crash_notification_formatting
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
__________ TestCrashNotifications.test_crash_notification_priorities __________
tests\test_crash_notif.py:174: in test_crash_notification_priorities
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
__________ TestCrashNotifications.test_send_crash_notification_basic __________
tests\test_crash_notifications.py:59: in test_send_crash_notification_basic
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
___ TestCrashNotifications.test_send_crash_notification_with_long_traceback ___
tests\test_crash_notifications.py:90: in test_send_crash_notification_with_long_traceback
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
______ TestCrashNotifications.test_send_crash_notification_without_queue ______
tests\test_crash_notifications.py:116: in test_send_crash_notification_without_queue
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
__________ TestCrashNotifications.test_crash_notification_formatting __________
tests\test_crash_notifications.py:168: in test_crash_notification_formatting
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
__________ TestCrashNotifications.test_crash_notification_priorities __________
tests\test_crash_notifications.py:194: in test_crash_notification_priorities
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
__________ TestCrashNotifications.test_send_crash_notification_basic __________
tests\test_crash_notifications_simple.py:57: in test_send_crash_notification_basic
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
___ TestCrashNotifications.test_send_crash_notification_with_long_traceback ___
tests\test_crash_notifications_simple.py:89: in test_send_crash_notification_with_long_traceback
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
______ TestCrashNotifications.test_send_crash_notification_without_queue ______
tests\test_crash_notifications_simple.py:118: in test_send_crash_notification_without_queue
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
__________ TestCrashNotifications.test_crash_notification_formatting __________
tests\test_crash_notifications_simple.py:149: in test_crash_notification_formatting
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
__________ TestCrashNotifications.test_crash_notification_priorities __________
tests\test_crash_notifications_simple.py:176: in test_crash_notification_priorities
    await send_crash_notification(
E   TypeError: send_crash_notification() got an unexpected keyword argument 'traceback_text'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
_________________________ test_get_arbitrage_keyboard _________________________
tests\test_keyboards.py:32: in test_get_arbitrage_keyboard
    assert len(keyboard.inline_keyboard) == 5
E   AssertionError: assert 4 == 5
E    +  where 4 = len(((InlineKeyboardButton(callback_data='arb_scan', text='\U0001f50d \u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c'), InlineKeyboardButton(callback_data='arb_game',...on(callback_data='arb_auto', text='\U0001f916 \u0410\u0432\u0442\u043e-\u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436'),), (InlineKeyboardButton(callback_data='back', text='\u25c0\ufe0f \u041d\u0430\u0437\u0430\u0434'),)))
E    +    where ((InlineKeyboardButton(callback_data='arb_scan', text='\U0001f50d \u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c'), InlineKeyboardButton(callback_data='arb_game',...on(callback_data='arb_auto', text='\U0001f916 \u0410\u0432\u0442\u043e-\u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436'),), (InlineKeyboardButton(callback_data='back', text='\u25c0\ufe0f \u041d\u0430\u0437\u0430\u0434'),)) = InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='arb_scan', text='\U0001f50d \u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c'), InlineKey...n(callback_data='arb_auto', text='\U0001f916 \u0410\u0432\u0442\u043e-\u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436'),), (InlineKeyboardButton(callback_data='back', text='\u25c0\ufe0f \u041d\u0430\u0437\u0430\u0434'),))).inline_keyboard
______________________ test_get_game_selection_keyboard _______________________
tests\test_keyboards.py:69: in test_get_game_selection_keyboard
    assert len(keyboard.inline_keyboard) == 5
E   AssertionError: assert 3 == 5
E    +  where 3 = len(((InlineKeyboardButton(callback_data='game_csgo', text='\U0001f52b CS2'), InlineKeyboardButton(callback_data='game_dota2', text...Button(callback_data='game_rust', text='\U0001f3e0 Rust')), (InlineKeyboardButton(callback_data='arbitrage', text='\u25c0\ufe0f \u041d\u0430\u0437\u0430\u0434'),)))
E    +    where ((InlineKeyboardButton(callback_data='game_csgo', text='\U0001f52b CS2'), InlineKeyboardButton(callback_data='game_dota2', text...Button(callback_data='game_rust', text='\U0001f3e0 Rust')), (InlineKeyboardButton(callback_data='arbitrage', text='\u25c0\ufe0f \u041d\u0430\u0437\u0430\u0434'),)) = InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='game_csgo', text='\U0001f52b CS2'), InlineKeyboardBu...utton(callback_data='game_rust', text='\U0001f3e0 Rust')), (InlineKeyboardButton(callback_data='arbitrage', text='\u25c0\ufe0f \u041d\u0430\u0437\u0430\u0434'),))).inline_keyboard
______________________ test_get_auto_arbitrage_keyboard _______________________
tests\test_keyboards.py:118: in test_get_auto_arbitrage_keyboard
    assert "auto_start:boost_low" in callback_data
E   AssertionError: assert 'auto_start:boost_low' in ['auto_arb_start', 'auto_arb_stop', 'auto_arb_settings', 'auto_arb_status', 'auto_arb_history', 'arbitrage']
_____________________ test_get_back_to_arbitrage_keyboard _____________________
tests\test_keyboards.py:144: in test_get_back_to_arbitrage_keyboard
    assert "эрчрф" in button.text.lower() or "тхЁэєЄ№" in button.text.lower()
E   AssertionError: assert ('\u043d\u0430\u0437\u0430\u0434' in '\u25c0\ufe0f \u043a \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436\u0443' or '\u0432\u0435\u0440\u043d\u0443\u0442\u044c' in '\u25c0\ufe0f \u043a \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436\u0443')
E    +  where '\u25c0\ufe0f \u043a \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436\u0443' = <built-in method lower of str object at 0x000001FA56D5D4C0>()
E    +    where <built-in method lower of str object at 0x000001FA56D5D4C0> = '\u25c0\ufe0f \u041a \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436\u0443'.lower
E    +      where '\u25c0\ufe0f \u041a \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436\u0443' = InlineKeyboardButton(callback_data='arbitrage', text='\u25c0\ufe0f \u041a \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436\u0443').text
E    +  and   '\u25c0\ufe0f \u043a \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436\u0443' = <built-in method lower of str object at 0x000001FA56D5D4C0>()
E    +    where <built-in method lower of str object at 0x000001FA56D5D4C0> = '\u25c0\ufe0f \u041a \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436\u0443'.lower
E    +      where '\u25c0\ufe0f \u041a \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436\u0443' = InlineKeyboardButton(callback_data='arbitrage', text='\u25c0\ufe0f \u041a \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436\u0443').text
_________________________ test_get_main_menu_keyboard _________________________
tests\test_keyboards.py:163: in test_get_main_menu_keyboard
    assert "search" in callback_data
E   AssertionError: assert 'search' in ['arbitrage', 'targets', 'balance', 'inventory', 'analytics', 'alerts', ...]
_________________________ test_get_settings_keyboard __________________________
tests\test_keyboards.py:187: in test_get_settings_keyboard
    assert "back_to_main" in callback_data
E   AssertionError: assert 'back_to_main' in ['settings_language', 'settings_notify', 'settings_api', 'settings_risk', 'settings_limits', 'settings_games', ...]
___________________________ test_get_games_keyboard ___________________________
tests\test_keyboards.py:222: in test_get_games_keyboard
    assert any("back" in cb.lower() for cb in callback_data)
E   assert False
E    +  where False = any(<generator object test_get_games_keyboard.<locals>.<genexpr> at 0x000001FA7FD3C4A0>)
________________________ test_get_pagination_keyboard _________________________
tests\test_keyboards.py:263: in test_get_pagination_keyboard
    keyboard = get_pagination_keyboard(
E   TypeError: get_pagination_keyboard() got an unexpected keyword argument 'items_per_page'
_______ TestApplication.test_initialize_sets_all_components_on_success ________
tests\test_main.py:106: in test_initialize_sets_all_components_on_success
    await app.initialize()
src\main.py:146: in initialize
    register_all_handlers(self.bot)
src\telegram_bot\register_all_handlers.py:89: in register_all_handlers
    register_alerts_handlers(application)
src\telegram_bot\handlers\market_alerts_handler.py:917: in register_alerts_handlers
    register_notification_handlers(application)
src\telegram_bot\notifications\handlers.py:475: in register_notification_handlers
    run_alerts_checker(
E   TypeError: run_alerts_checker() got an unexpected keyword argument 'interval'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.main:main.py:53 Loading configuration...
INFO     src.main:main.py:64 Configuration loaded successfully
INFO     src.main:main.py:65 Debug mode: False
INFO     src.main:main.py:66 Testing mode: True
INFO     src.main:main.py:100 Initializing DMarket API...
INFO     src.main:main.py:123 Initializing Telegram Bot...
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:42 ═рўрыю ЁхушёЄЁрЎшш юсЁрсюЄўшъют сюЄр...
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:60 ┴рчют√х ъюьрэф√ чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:65 Callback-юсЁрсюЄўшъш чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:75 ╬сЁрсюЄўшъш ЄхъёЄют√ї ёююс∙хэшщ чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:82 Scanner юсЁрсюЄўшъш чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.notifications.storage:storage.py:79 ╟руЁєцхэю 1 яЁюЇшыхщ яюы№чютрЄхыхщ ё юяютх∙хэш ьш
INFO     src.telegram_bot.notifications.storage:storage.py:79 ╟руЁєцхэю 1 яЁюЇшыхщ яюы№чютрЄхыхщ ё юяютх∙хэш ьш
ERROR    src.main:main.py:203 Failed to initialize application: run_alerts_checker() got an unexpected keyword argument 'interval'
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\main.py", line 146, in initialize
    register_all_handlers(self.bot)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\register_all_handlers.py", line 89, in register_all_handlers
    register_alerts_handlers(application)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\market_alerts_handler.py", line 917, in register_alerts_handlers
    register_notification_handlers(application)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\notifications\handlers.py", line 475, in register_notification_handlers
    run_alerts_checker(
TypeError: run_alerts_checker() got an unexpected keyword argument 'interval'
__ TestApplication.test_initialize_with_production_mode_initializes_database __
tests\test_main.py:132: in test_initialize_with_production_mode_initializes_database
    await app.initialize()
src\main.py:146: in initialize
    register_all_handlers(self.bot)
src\telegram_bot\register_all_handlers.py:89: in register_all_handlers
    register_alerts_handlers(application)
src\telegram_bot\handlers\market_alerts_handler.py:917: in register_alerts_handlers
    register_notification_handlers(application)
src\telegram_bot\notifications\handlers.py:475: in register_notification_handlers
    run_alerts_checker(
E   TypeError: run_alerts_checker() got an unexpected keyword argument 'interval'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.main:main.py:53 Loading configuration...
INFO     src.main:main.py:64 Configuration loaded successfully
INFO     src.main:main.py:65 Debug mode: False
INFO     src.main:main.py:66 Testing mode: False
WARNING  src.utils.sentry_integration:sentry_integration.py:49 Sentry DSN not configured. Error tracking disabled. Set SENTRY_DSN environment variable to enable.
INFO     src.main:main.py:79 Sentry initialized for production environment
INFO     src.main:main.py:83 Initializing database...
INFO     src.main:main.py:89 Database initialized successfully
INFO     src.main:main.py:97 StateManager initialized
INFO     src.main:main.py:100 Initializing DMarket API...
INFO     src.main:main.py:116 DMarket API connected. Balance: $100.50
INFO     src.main:main.py:123 Initializing Telegram Bot...
INFO     src.utils.state_manager:state_manager.py:438 Shutdown callback registered
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:42 ═рўрыю ЁхушёЄЁрЎшш юсЁрсюЄўшъют сюЄр...
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:60 ┴рчют√х ъюьрэф√ чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:65 Callback-юсЁрсюЄўшъш чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:75 ╬сЁрсюЄўшъш ЄхъёЄют√ї ёююс∙хэшщ чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:82 Scanner юсЁрсюЄўшъш чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.notifications.storage:storage.py:79 ╟руЁєцхэю 1 яЁюЇшыхщ яюы№чютрЄхыхщ ё юяютх∙хэш ьш
INFO     src.telegram_bot.notifications.storage:storage.py:79 ╟руЁєцхэю 1 яЁюЇшыхщ яюы№чютрЄхыхщ ё юяютх∙хэш ьш
ERROR    src.main:main.py:203 Failed to initialize application: run_alerts_checker() got an unexpected keyword argument 'interval'
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\main.py", line 146, in initialize
    register_all_handlers(self.bot)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\register_all_handlers.py", line 89, in register_all_handlers
    register_alerts_handlers(application)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\market_alerts_handler.py", line 917, in register_alerts_handlers
    register_notification_handlers(application)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\notifications\handlers.py", line 475, in register_notification_handlers
    run_alerts_checker(
TypeError: run_alerts_checker() got an unexpected keyword argument 'interval'
___ TestApplication.test_initialize_in_production_mode_tests_api_connection ___
tests\test_main.py:156: in test_initialize_in_production_mode_tests_api_connection
    await app.initialize()
src\main.py:146: in initialize
    register_all_handlers(self.bot)
src\telegram_bot\register_all_handlers.py:89: in register_all_handlers
    register_alerts_handlers(application)
src\telegram_bot\handlers\market_alerts_handler.py:917: in register_alerts_handlers
    register_notification_handlers(application)
src\telegram_bot\notifications\handlers.py:475: in register_notification_handlers
    run_alerts_checker(
E   TypeError: run_alerts_checker() got an unexpected keyword argument 'interval'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.main:main.py:53 Loading configuration...
INFO     src.main:main.py:64 Configuration loaded successfully
INFO     src.main:main.py:65 Debug mode: False
INFO     src.main:main.py:66 Testing mode: False
WARNING  src.utils.sentry_integration:sentry_integration.py:49 Sentry DSN not configured. Error tracking disabled. Set SENTRY_DSN environment variable to enable.
INFO     src.main:main.py:79 Sentry initialized for production environment
INFO     src.main:main.py:83 Initializing database...
DEBUG    aiosqlite:core.py:104 executing <function connect.<locals>.connector at 0x000001FA01B9BD80>
DEBUG    aiosqlite:core.py:106 operation <function connect.<locals>.connector at 0x000001FA01B9BD80> completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001FA0235DF30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001FA7EDE5580>, deterministic=True)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001FA0235DF30>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001FA7EDE5580>, deterministic=True) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001FA0235DF30>, 'floor', 1, <built-in function floor>, deterministic=True)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001FA0235DF30>, 'floor', 1, <built-in function floor>, deterministic=True) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F82C0>, 'PRAGMA read_uncommitted', [])
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F82C0>, 'PRAGMA read_uncommitted', []) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F82C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F82C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F82C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F82C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA020A5540>, 'PRAGMA main.table_info("price_alerts")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA020A5540>, 'PRAGMA main.table_info("price_alerts")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA020A5540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA020A5540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA020A5540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA020A5540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8440>, 'PRAGMA temp.table_info("price_alerts")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8440>, 'PRAGMA temp.table_info("price_alerts")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F81C0>, 'PRAGMA main.table_info("command_log")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F81C0>, 'PRAGMA main.table_info("command_log")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F81C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F81C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F81C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F81C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01A8BD40>, 'PRAGMA temp.table_info("command_log")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01A8BD40>, 'PRAGMA temp.table_info("command_log")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA01A8BD40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA01A8BD40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01A8BD40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01A8BD40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8540>, 'PRAGMA main.table_info("events")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8540>, 'PRAGMA main.table_info("events")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01A88EC0>, 'PRAGMA temp.table_info("events")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01A88EC0>, 'PRAGMA temp.table_info("events")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA01A88EC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA01A88EC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01A88EC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01A88EC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F88C0>, 'PRAGMA main.table_info("market_data")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F88C0>, 'PRAGMA main.table_info("market_data")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F88C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F88C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F88C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F88C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01A8BBC0>, 'PRAGMA temp.table_info("market_data")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01A8BBC0>, 'PRAGMA temp.table_info("market_data")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA01A8BBC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA01A8BBC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01A8BBC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01A8BBC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F80C0>, 'PRAGMA main.table_info("market_data_cache")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F80C0>, 'PRAGMA main.table_info("market_data_cache")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F80C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F80C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F80C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F80C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F73C0>, 'PRAGMA temp.table_info("market_data_cache")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F73C0>, 'PRAGMA temp.table_info("market_data_cache")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F73C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F73C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F73C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F73C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6CC0>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6CC0>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F6CC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F6CC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6CC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6CC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F59C0>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F59C0>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F59C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F59C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F59C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F59C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F51C0>, 'PRAGMA main.table_info("user_settings")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F51C0>, 'PRAGMA main.table_info("user_settings")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F51C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F51C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F51C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F51C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5940>, 'PRAGMA temp.table_info("user_settings")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5940>, 'PRAGMA temp.table_info("user_settings")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F5940>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F5940>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5940>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5940>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5E40>, 'PRAGMA main.table_info("audit_logs")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5E40>, 'PRAGMA main.table_info("audit_logs")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F5E40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F5E40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5E40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5E40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5440>, 'PRAGMA temp.table_info("audit_logs")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5440>, 'PRAGMA temp.table_info("audit_logs")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F5440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F5440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01A8B940>, '\nCREATE TABLE price_alerts (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36) NOT NULL, \n\titem_id VARCHAR(255), \n\tmarket_hash_name VARCHAR(500), \n\tgame VARCHAR(50), \n\ttarget_price FLOAT NOT NULL, \n\tcondition VARCHAR(20), \n\tis_active BOOLEAN, \n\ttriggered BOOLEAN, \n\ttriggered_at DATETIME, \n\tcreated_at DATETIME, \n\texpires_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01A8B940>, '\nCREATE TABLE price_alerts (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36) NOT NULL, \n\titem_id VARCHAR(255), \n\tmarket_hash_name VARCHAR(500), \n\tgame VARCHAR(50), \n\ttarget_price FLOAT NOT NULL, \n\tcondition VARCHAR(20), \n\tis_active BOOLEAN, \n\ttriggered BOOLEAN, \n\ttriggered_at DATETIME, \n\tcreated_at DATETIME, \n\texpires_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01A8B940>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01A8B940>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023FB9C0>, 'CREATE INDEX ix_price_alerts_user_id ON price_alerts (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023FB9C0>, 'CREATE INDEX ix_price_alerts_user_id ON price_alerts (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023FB9C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023FB9C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F83C0>, 'CREATE INDEX ix_price_alerts_is_active ON price_alerts (is_active)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F83C0>, 'CREATE INDEX ix_price_alerts_is_active ON price_alerts (is_active)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F83C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F83C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01429D40>, '\nCREATE TABLE command_log (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36), \n\tcommand VARCHAR(100) NOT NULL, \n\tparameters JSON, \n\tsuccess BOOLEAN, \n\terror_message TEXT, \n\texecution_time_ms INTEGER, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01429D40>, '\nCREATE TABLE command_log (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36), \n\tcommand VARCHAR(100) NOT NULL, \n\tparameters JSON, \n\tsuccess BOOLEAN, \n\terror_message TEXT, \n\texecution_time_ms INTEGER, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01429D40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01429D40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8AC0>, 'CREATE INDEX ix_command_log_created_at ON command_log (created_at)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8AC0>, 'CREATE INDEX ix_command_log_created_at ON command_log (created_at)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8AC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8AC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8240>, 'CREATE INDEX ix_command_log_user_id ON command_log (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8240>, 'CREATE INDEX ix_command_log_user_id ON command_log (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8240>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8240>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8740>, 'CREATE INDEX ix_command_log_command ON command_log (command)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8740>, 'CREATE INDEX ix_command_log_command ON command_log (command)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA034730C0>, '\nCREATE TABLE events (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36), \n\tevent_type VARCHAR(100) NOT NULL, \n\tevent_data JSON, \n\tsession_id VARCHAR(255), \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA034730C0>, '\nCREATE TABLE events (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36), \n\tevent_type VARCHAR(100) NOT NULL, \n\tevent_data JSON, \n\tsession_id VARCHAR(255), \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA034730C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA034730C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8140>, 'CREATE INDEX ix_events_created_at ON events (created_at)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8140>, 'CREATE INDEX ix_events_created_at ON events (created_at)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8140>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8140>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023FB7C0>, 'CREATE INDEX ix_events_user_id ON events (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023FB7C0>, 'CREATE INDEX ix_events_user_id ON events (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023FB7C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023FB7C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8F40>, 'CREATE INDEX ix_events_event_type ON events (event_type)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8F40>, 'CREATE INDEX ix_events_event_type ON events (event_type)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8F40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8F40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01A8B6C0>, '\nCREATE TABLE market_data (\n\tid VARCHAR(36) NOT NULL, \n\titem_id VARCHAR(255) NOT NULL, \n\tgame VARCHAR(100) NOT NULL, \n\titem_name TEXT NOT NULL, \n\tprice_usd FLOAT NOT NULL, \n\tprice_change_24h FLOAT, \n\tvolume_24h INTEGER, \n\tmarket_cap FLOAT, \n\tdata_source VARCHAR(50), \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01A8B6C0>, '\nCREATE TABLE market_data (\n\tid VARCHAR(36) NOT NULL, \n\titem_id VARCHAR(255) NOT NULL, \n\tgame VARCHAR(100) NOT NULL, \n\titem_name TEXT NOT NULL, \n\tprice_usd FLOAT NOT NULL, \n\tprice_change_24h FLOAT, \n\tvolume_24h INTEGER, \n\tmarket_cap FLOAT, \n\tdata_source VARCHAR(50), \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01A8B6C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01A8B6C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6040>, 'CREATE INDEX ix_market_data_game ON market_data (game)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6040>, 'CREATE INDEX ix_market_data_game ON market_data (game)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6040>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6040>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F55C0>, 'CREATE INDEX ix_market_data_created_at ON market_data (created_at)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F55C0>, 'CREATE INDEX ix_market_data_created_at ON market_data (created_at)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F55C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F55C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4440>, 'CREATE INDEX ix_market_data_item_id ON market_data (item_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4440>, 'CREATE INDEX ix_market_data_item_id ON market_data (item_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F9040>, '\nCREATE TABLE market_data_cache (\n\tid VARCHAR(36) NOT NULL, \n\tcache_key VARCHAR(500) NOT NULL, \n\tgame VARCHAR(50) NOT NULL, \n\titem_hash_name VARCHAR(500), \n\tdata_type VARCHAR(50) NOT NULL, \n\tdata JSON NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\texpires_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F9040>, '\nCREATE TABLE market_data_cache (\n\tid VARCHAR(36) NOT NULL, \n\tcache_key VARCHAR(500) NOT NULL, \n\tgame VARCHAR(50) NOT NULL, \n\titem_hash_name VARCHAR(500), \n\tdata_type VARCHAR(50) NOT NULL, \n\tdata JSON NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\texpires_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F9040>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F9040>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F47C0>, 'CREATE INDEX ix_market_data_cache_game ON market_data_cache (game)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F47C0>, 'CREATE INDEX ix_market_data_cache_game ON market_data_cache (game)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F47C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F47C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4140>, 'CREATE INDEX ix_market_data_cache_expires_at ON market_data_cache (expires_at)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4140>, 'CREATE INDEX ix_market_data_cache_expires_at ON market_data_cache (expires_at)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4140>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4140>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5D40>, 'CREATE UNIQUE INDEX ix_market_data_cache_cache_key ON market_data_cache (cache_key)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5D40>, 'CREATE UNIQUE INDEX ix_market_data_cache_cache_key ON market_data_cache (cache_key)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5D40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5D40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4640>, '\nCREATE TABLE users (\n\tid VARCHAR(36) NOT NULL, \n\ttelegram_id BIGINT NOT NULL, \n\tusername VARCHAR(255), \n\tfirst_name VARCHAR(255), \n\tlast_name VARCHAR(255), \n\tlanguage_code VARCHAR(10), \n\tis_active BOOLEAN, \n\tis_admin BOOLEAN, \n\tis_banned BOOLEAN, \n\tdmarket_api_key_encrypted TEXT, \n\tdmarket_secret_key_encrypted TEXT, \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tlast_activity DATETIME, \n\tnotes TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4640>, '\nCREATE TABLE users (\n\tid VARCHAR(36) NOT NULL, \n\ttelegram_id BIGINT NOT NULL, \n\tusername VARCHAR(255), \n\tfirst_name VARCHAR(255), \n\tlast_name VARCHAR(255), \n\tlanguage_code VARCHAR(10), \n\tis_active BOOLEAN, \n\tis_admin BOOLEAN, \n\tis_banned BOOLEAN, \n\tdmarket_api_key_encrypted TEXT, \n\tdmarket_secret_key_encrypted TEXT, \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tlast_activity DATETIME, \n\tnotes TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4640>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4640>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F40C0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F40C0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F40C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F40C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F75C0>, 'CREATE INDEX ix_users_is_active ON users (is_active)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F75C0>, 'CREATE INDEX ix_users_is_active ON users (is_active)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F75C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F75C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5CC0>, 'CREATE INDEX ix_users_is_banned ON users (is_banned)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5CC0>, 'CREATE INDEX ix_users_is_banned ON users (is_banned)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5CC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5CC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5AC0>, '\nCREATE TABLE user_settings (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36) NOT NULL, \n\tdefault_game VARCHAR(50), \n\tnotifications_enabled BOOLEAN, \n\tprice_alerts_enabled BOOLEAN, \n\tarbitrage_alert_enabled BOOLEAN, \n\tmin_profit_percent FLOAT, \n\tpreferred_currency VARCHAR(10), \n\tlanguage VARCHAR(10), \n\ttimezone VARCHAR(50), \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5AC0>, '\nCREATE TABLE user_settings (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36) NOT NULL, \n\tdefault_game VARCHAR(50), \n\tnotifications_enabled BOOLEAN, \n\tprice_alerts_enabled BOOLEAN, \n\tarbitrage_alert_enabled BOOLEAN, \n\tmin_profit_percent FLOAT, \n\tpreferred_currency VARCHAR(10), \n\tlanguage VARCHAR(10), \n\ttimezone VARCHAR(50), \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5AC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5AC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6440>, 'CREATE INDEX ix_user_settings_user_id ON user_settings (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6440>, 'CREATE INDEX ix_user_settings_user_id ON user_settings (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F61C0>, '\nCREATE TABLE audit_logs (\n\tid INTEGER NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tuser_id BIGINT, \n\tusername VARCHAR(255), \n\tip_address VARCHAR(45), \n\taction VARCHAR(255) NOT NULL, \n\tresource_type VARCHAR(50), \n\tresource_id VARCHAR(255), \n\tdetails JSON, \n\told_value TEXT, \n\tnew_value TEXT, \n\tsuccess VARCHAR(10) NOT NULL, \n\terror_message TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F61C0>, '\nCREATE TABLE audit_logs (\n\tid INTEGER NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tuser_id BIGINT, \n\tusername VARCHAR(255), \n\tip_address VARCHAR(45), \n\taction VARCHAR(255) NOT NULL, \n\tresource_type VARCHAR(50), \n\tresource_id VARCHAR(255), \n\tdetails JSON, \n\told_value TEXT, \n\tnew_value TEXT, \n\tsuccess VARCHAR(10) NOT NULL, \n\terror_message TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F61C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F61C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6240>, 'CREATE INDEX ix_audit_logs_resource_id ON audit_logs (resource_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6240>, 'CREATE INDEX ix_audit_logs_resource_id ON audit_logs (resource_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6240>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6240>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F44C0>, 'CREATE INDEX ix_audit_logs_user_id ON audit_logs (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F44C0>, 'CREATE INDEX ix_audit_logs_user_id ON audit_logs (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F44C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F44C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F46C0>, 'CREATE INDEX ix_audit_logs_event_type ON audit_logs (event_type)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F46C0>, 'CREATE INDEX ix_audit_logs_event_type ON audit_logs (event_type)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F46C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F46C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F69C0>, 'CREATE INDEX ix_audit_logs_timestamp ON audit_logs (timestamp)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F69C0>, 'CREATE INDEX ix_audit_logs_timestamp ON audit_logs (timestamp)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F69C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F69C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F62C0>, 'CREATE INDEX IF NOT EXISTS idx_users_telegram_id ON users(telegram_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F62C0>, 'CREATE INDEX IF NOT EXISTS idx_users_telegram_id ON users(telegram_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F62C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F62C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5F40>, 'CREATE INDEX IF NOT EXISTS idx_users_is_active ON users(is_active)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5F40>, 'CREATE INDEX IF NOT EXISTS idx_users_is_active ON users(is_active)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5F40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5F40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F66C0>, 'CREATE INDEX IF NOT EXISTS idx_users_last_activity ON users(last_activity DESC)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F66C0>, 'CREATE INDEX IF NOT EXISTS idx_users_last_activity ON users(last_activity DESC)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F66C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F66C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5A40>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_user_id ON command_log(user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5A40>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_user_id ON command_log(user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5A40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5A40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6640>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_created_at ON command_log(created_at DESC)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6640>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_created_at ON command_log(created_at DESC)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6640>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6640>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F63C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_command ON command_log(command)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F63C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_command ON command_log(command)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F63C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F63C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6BC0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_success ON command_log(success)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6BC0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_success ON command_log(success)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6BC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6BC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5840>, 'CREATE INDEX IF NOT EXISTS idx_market_game ON market_data(game)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5840>, 'CREATE INDEX IF NOT EXISTS idx_market_game ON market_data(game)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5840>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5840>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4DC0>, 'CREATE INDEX IF NOT EXISTS idx_market_created_at ON market_data(created_at DESC)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4DC0>, 'CREATE INDEX IF NOT EXISTS idx_market_created_at ON market_data(created_at DESC)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4DC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4DC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F50C0>, 'CREATE INDEX IF NOT EXISTS idx_market_item_id ON market_data(item_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F50C0>, 'CREATE INDEX IF NOT EXISTS idx_market_item_id ON market_data(item_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F50C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F50C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F58C0>, 'CREATE INDEX IF NOT EXISTS idx_trade_history_created_at ON trade_history(created_at DESC)', ())
DEBUG    aiosqlite:core.py:109 returning exception no such table: main.trade_history
DEBUG    src.utils.database:database.py:220 Index creation skipped: CREATE INDEX IF NOT EXISTS idx_trade_history_created_at ON trade_history(created_at DESC) - (sqlite3.OperationalError) no such table: main.trade_history
[SQL: CREATE INDEX IF NOT EXISTS idx_trade_history_created_at ON trade_history(created_at DESC)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F53C0>, 'CREATE INDEX IF NOT EXISTS idx_trade_history_status ON trade_history(status)', ())
DEBUG    aiosqlite:core.py:109 returning exception no such table: main.trade_history
DEBUG    src.utils.database:database.py:220 Index creation skipped: CREATE INDEX IF NOT EXISTS idx_trade_history_status ON trade_history(status) - (sqlite3.OperationalError) no such table: main.trade_history
[SQL: CREATE INDEX IF NOT EXISTS idx_trade_history_status ON trade_history(status)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5640>, 'CREATE INDEX IF NOT EXISTS idx_trade_history_user_id ON trade_history(user_id)', ())
DEBUG    aiosqlite:core.py:109 returning exception no such table: main.trade_history
DEBUG    src.utils.database:database.py:220 Index creation skipped: CREATE INDEX IF NOT EXISTS idx_trade_history_user_id ON trade_history(user_id) - (sqlite3.OperationalError) no such table: main.trade_history
[SQL: CREATE INDEX IF NOT EXISTS idx_trade_history_user_id ON trade_history(user_id)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4EC0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_user_cmd ON command_log(user_id, command)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4EC0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_user_cmd ON command_log(user_id, command)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4EC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4EC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4E40>, 'CREATE INDEX IF NOT EXISTS idx_market_game_date ON market_data(game, created_at DESC)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4E40>, 'CREATE INDEX IF NOT EXISTS idx_market_game_date ON market_data(game, created_at DESC)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4E40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4E40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4FC0>, 'PRAGMA journal_mode=WAL', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4FC0>, 'PRAGMA journal_mode=WAL', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F4FC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F4FC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4FC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4FC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4F40>, 'PRAGMA synchronous=NORMAL', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4F40>, 'PRAGMA synchronous=NORMAL', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4F40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4F40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F57C0>, 'PRAGMA cache_size=10000', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F57C0>, 'PRAGMA cache_size=10000', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F57C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F57C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F56C0>, 'PRAGMA temp_store=MEMORY', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F56C0>, 'PRAGMA temp_store=MEMORY', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F56C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F56C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F52C0>, 'PRAGMA mmap_size=268435456', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F52C0>, 'PRAGMA mmap_size=268435456', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F52C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F52C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F52C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F52C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5B40>, 'PRAGMA page_size=4096', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5B40>, 'PRAGMA page_size=4096', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5B40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5B40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5EC0>, 'PRAGMA auto_vacuum=INCREMENTAL', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5EC0>, 'PRAGMA auto_vacuum=INCREMENTAL', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5EC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5EC0>) completed
DEBUG    src.utils.database:database.py:186 SQLite optimizations applied
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001FA0235DF30>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001FA0235DF30>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001FA0235DF30>) completed
INFO     src.utils.database:database.py:156 Database initialized successfully
INFO     src.main:main.py:89 Database initialized successfully
INFO     src.main:main.py:97 StateManager initialized
INFO     src.main:main.py:100 Initializing DMarket API...
INFO     src.main:main.py:116 DMarket API connected. Balance: $100.00
INFO     src.main:main.py:123 Initializing Telegram Bot...
INFO     src.utils.state_manager:state_manager.py:438 Shutdown callback registered
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:42 ═рўрыю ЁхушёЄЁрЎшш юсЁрсюЄўшъют сюЄр...
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:60 ┴рчют√х ъюьрэф√ чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:65 Callback-юсЁрсюЄўшъш чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:75 ╬сЁрсюЄўшъш ЄхъёЄют√ї ёююс∙хэшщ чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:82 Scanner юсЁрсюЄўшъш чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.notifications.storage:storage.py:79 ╟руЁєцхэю 1 яЁюЇшыхщ яюы№чютрЄхыхщ ё юяютх∙хэш ьш
INFO     src.telegram_bot.notifications.storage:storage.py:79 ╟руЁєцхэю 1 яЁюЇшыхщ яюы№чютрЄхыхщ ё юяютх∙хэш ьш
ERROR    src.main:main.py:203 Failed to initialize application: run_alerts_checker() got an unexpected keyword argument 'interval'
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\main.py", line 146, in initialize
    register_all_handlers(self.bot)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\register_all_handlers.py", line 89, in register_all_handlers
    register_alerts_handlers(application)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\market_alerts_handler.py", line 917, in register_alerts_handlers
    register_notification_handlers(application)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\notifications\handlers.py", line 475, in register_notification_handlers
    run_alerts_checker(
TypeError: run_alerts_checker() got an unexpected keyword argument 'interval'
_____ TestApplication.test_initialize_continues_when_api_connection_fails _____
tests\test_main.py:179: in test_initialize_continues_when_api_connection_fails
    await app.initialize()
src\main.py:146: in initialize
    register_all_handlers(self.bot)
src\telegram_bot\register_all_handlers.py:89: in register_all_handlers
    register_alerts_handlers(application)
src\telegram_bot\handlers\market_alerts_handler.py:917: in register_alerts_handlers
    register_notification_handlers(application)
src\telegram_bot\notifications\handlers.py:475: in register_notification_handlers
    run_alerts_checker(
E   TypeError: run_alerts_checker() got an unexpected keyword argument 'interval'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.main:main.py:53 Loading configuration...
INFO     src.main:main.py:64 Configuration loaded successfully
INFO     src.main:main.py:65 Debug mode: False
INFO     src.main:main.py:66 Testing mode: False
WARNING  src.utils.sentry_integration:sentry_integration.py:49 Sentry DSN not configured. Error tracking disabled. Set SENTRY_DSN environment variable to enable.
INFO     src.main:main.py:79 Sentry initialized for production environment
INFO     src.main:main.py:83 Initializing database...
DEBUG    aiosqlite:core.py:104 executing <function connect.<locals>.connector at 0x000001FA0239E700>
DEBUG    aiosqlite:core.py:106 operation <function connect.<locals>.connector at 0x000001FA0239E700> completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001FA0235E3E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001FA02137600>, deterministic=True)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001FA0235E3E0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x000001FA02137600>, deterministic=True) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001FA0235E3E0>, 'floor', 1, <built-in function floor>, deterministic=True)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x000001FA0235E3E0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EB1C0>, 'PRAGMA read_uncommitted', [])
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EB1C0>, 'PRAGMA read_uncommitted', []) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023EB1C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023EB1C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EB1C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EB1C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01A8BD40>, 'PRAGMA main.table_info("price_alerts")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA01A8BD40>, 'PRAGMA main.table_info("price_alerts")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA01A8BD40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA01A8BD40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01A8BD40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA01A8BD40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EB040>, 'PRAGMA temp.table_info("price_alerts")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EB040>, 'PRAGMA temp.table_info("price_alerts")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023EB040>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023EB040>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EB040>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EB040>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8740>, 'PRAGMA main.table_info("command_log")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8740>, 'PRAGMA main.table_info("command_log")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8540>, 'PRAGMA temp.table_info("command_log")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8540>, 'PRAGMA temp.table_info("command_log")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023FB7C0>, 'PRAGMA main.table_info("events")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023FB7C0>, 'PRAGMA main.table_info("events")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023FB7C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023FB7C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023FB7C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023FB7C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8140>, 'PRAGMA temp.table_info("events")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8140>, 'PRAGMA temp.table_info("events")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8140>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8140>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8140>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8140>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8F40>, 'PRAGMA main.table_info("market_data")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8F40>, 'PRAGMA main.table_info("market_data")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8F40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8F40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8F40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8F40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8D40>, 'PRAGMA temp.table_info("market_data")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8D40>, 'PRAGMA temp.table_info("market_data")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8D40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8D40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8D40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8D40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023FB8C0>, 'PRAGMA main.table_info("market_data_cache")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023FB8C0>, 'PRAGMA main.table_info("market_data_cache")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023FB8C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023FB8C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023FB8C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023FB8C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023FBBC0>, 'PRAGMA temp.table_info("market_data_cache")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023FBBC0>, 'PRAGMA temp.table_info("market_data_cache")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023FBBC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023FBBC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023FBBC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023FBBC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F9040>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F9040>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F9040>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F9040>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F9040>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F9040>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03446440>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03446440>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA03446440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA03446440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03446440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03446440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8240>, 'PRAGMA main.table_info("user_settings")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8240>, 'PRAGMA main.table_info("user_settings")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8240>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023F8240>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8240>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8240>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03445EC0>, 'PRAGMA temp.table_info("user_settings")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03445EC0>, 'PRAGMA temp.table_info("user_settings")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA03445EC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA03445EC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03445EC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03445EC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03446E40>, 'PRAGMA main.table_info("audit_logs")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03446E40>, 'PRAGMA main.table_info("audit_logs")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA03446E40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA03446E40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03446E40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03446E40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA034468C0>, 'PRAGMA temp.table_info("audit_logs")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA034468C0>, 'PRAGMA temp.table_info("audit_logs")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA034468C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA034468C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA034468C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA034468C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8440>, '\nCREATE TABLE price_alerts (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36) NOT NULL, \n\titem_id VARCHAR(255), \n\tmarket_hash_name VARCHAR(500), \n\tgame VARCHAR(50), \n\ttarget_price FLOAT NOT NULL, \n\tcondition VARCHAR(20), \n\tis_active BOOLEAN, \n\ttriggered BOOLEAN, \n\ttriggered_at DATETIME, \n\tcreated_at DATETIME, \n\texpires_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8440>, '\nCREATE TABLE price_alerts (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36) NOT NULL, \n\titem_id VARCHAR(255), \n\tmarket_hash_name VARCHAR(500), \n\tgame VARCHAR(50), \n\ttarget_price FLOAT NOT NULL, \n\tcondition VARCHAR(20), \n\tis_active BOOLEAN, \n\ttriggered BOOLEAN, \n\ttriggered_at DATETIME, \n\tcreated_at DATETIME, \n\texpires_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA034461C0>, 'CREATE INDEX ix_price_alerts_user_id ON price_alerts (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA034461C0>, 'CREATE INDEX ix_price_alerts_user_id ON price_alerts (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA034461C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA034461C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA034446C0>, 'CREATE INDEX ix_price_alerts_is_active ON price_alerts (is_active)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA034446C0>, 'CREATE INDEX ix_price_alerts_is_active ON price_alerts (is_active)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA034446C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA034446C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8AC0>, '\nCREATE TABLE command_log (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36), \n\tcommand VARCHAR(100) NOT NULL, \n\tparameters JSON, \n\tsuccess BOOLEAN, \n\terror_message TEXT, \n\texecution_time_ms INTEGER, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8AC0>, '\nCREATE TABLE command_log (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36), \n\tcommand VARCHAR(100) NOT NULL, \n\tparameters JSON, \n\tsuccess BOOLEAN, \n\terror_message TEXT, \n\texecution_time_ms INTEGER, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8AC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8AC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03446FC0>, 'CREATE INDEX ix_command_log_created_at ON command_log (created_at)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03446FC0>, 'CREATE INDEX ix_command_log_created_at ON command_log (created_at)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03446FC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03446FC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EB6C0>, 'CREATE INDEX ix_command_log_user_id ON command_log (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EB6C0>, 'CREATE INDEX ix_command_log_user_id ON command_log (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EB6C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EB6C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EBBC0>, 'CREATE INDEX ix_command_log_command ON command_log (command)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EBBC0>, 'CREATE INDEX ix_command_log_command ON command_log (command)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EBBC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EBBC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8E40>, '\nCREATE TABLE events (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36), \n\tevent_type VARCHAR(100) NOT NULL, \n\tevent_data JSON, \n\tsession_id VARCHAR(255), \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F8E40>, '\nCREATE TABLE events (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36), \n\tevent_type VARCHAR(100) NOT NULL, \n\tevent_data JSON, \n\tsession_id VARCHAR(255), \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8E40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F8E40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EB7C0>, 'CREATE INDEX ix_events_created_at ON events (created_at)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EB7C0>, 'CREATE INDEX ix_events_created_at ON events (created_at)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EB7C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EB7C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA034464C0>, 'CREATE INDEX ix_events_user_id ON events (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA034464C0>, 'CREATE INDEX ix_events_user_id ON events (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA034464C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA034464C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023E8240>, 'CREATE INDEX ix_events_event_type ON events (event_type)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023E8240>, 'CREATE INDEX ix_events_event_type ON events (event_type)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023E8240>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023E8240>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03444AC0>, '\nCREATE TABLE market_data (\n\tid VARCHAR(36) NOT NULL, \n\titem_id VARCHAR(255) NOT NULL, \n\tgame VARCHAR(100) NOT NULL, \n\titem_name TEXT NOT NULL, \n\tprice_usd FLOAT NOT NULL, \n\tprice_change_24h FLOAT, \n\tvolume_24h INTEGER, \n\tmarket_cap FLOAT, \n\tdata_source VARCHAR(50), \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03444AC0>, '\nCREATE TABLE market_data (\n\tid VARCHAR(36) NOT NULL, \n\titem_id VARCHAR(255) NOT NULL, \n\tgame VARCHAR(100) NOT NULL, \n\titem_name TEXT NOT NULL, \n\tprice_usd FLOAT NOT NULL, \n\tprice_change_24h FLOAT, \n\tvolume_24h INTEGER, \n\tmarket_cap FLOAT, \n\tdata_source VARCHAR(50), \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03444AC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03444AC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA034450C0>, 'CREATE INDEX ix_market_data_game ON market_data (game)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA034450C0>, 'CREATE INDEX ix_market_data_game ON market_data (game)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA034450C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA034450C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03446640>, 'CREATE INDEX ix_market_data_created_at ON market_data (created_at)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03446640>, 'CREATE INDEX ix_market_data_created_at ON market_data (created_at)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03446640>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03446640>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03447B40>, 'CREATE INDEX ix_market_data_item_id ON market_data (item_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03447B40>, 'CREATE INDEX ix_market_data_item_id ON market_data (item_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03447B40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03447B40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03445040>, '\nCREATE TABLE market_data_cache (\n\tid VARCHAR(36) NOT NULL, \n\tcache_key VARCHAR(500) NOT NULL, \n\tgame VARCHAR(50) NOT NULL, \n\titem_hash_name VARCHAR(500), \n\tdata_type VARCHAR(50) NOT NULL, \n\tdata JSON NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\texpires_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03445040>, '\nCREATE TABLE market_data_cache (\n\tid VARCHAR(36) NOT NULL, \n\tcache_key VARCHAR(500) NOT NULL, \n\tgame VARCHAR(50) NOT NULL, \n\titem_hash_name VARCHAR(500), \n\tdata_type VARCHAR(50) NOT NULL, \n\tdata JSON NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\texpires_at DATETIME NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03445040>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03445040>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023E8140>, 'CREATE INDEX ix_market_data_cache_game ON market_data_cache (game)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023E8140>, 'CREATE INDEX ix_market_data_cache_game ON market_data_cache (game)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023E8140>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023E8140>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EAFC0>, 'CREATE INDEX ix_market_data_cache_expires_at ON market_data_cache (expires_at)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EAFC0>, 'CREATE INDEX ix_market_data_cache_expires_at ON market_data_cache (expires_at)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EAFC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EAFC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EBA40>, 'CREATE UNIQUE INDEX ix_market_data_cache_cache_key ON market_data_cache (cache_key)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EBA40>, 'CREATE UNIQUE INDEX ix_market_data_cache_cache_key ON market_data_cache (cache_key)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EBA40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EBA40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03447340>, '\nCREATE TABLE users (\n\tid VARCHAR(36) NOT NULL, \n\ttelegram_id BIGINT NOT NULL, \n\tusername VARCHAR(255), \n\tfirst_name VARCHAR(255), \n\tlast_name VARCHAR(255), \n\tlanguage_code VARCHAR(10), \n\tis_active BOOLEAN, \n\tis_admin BOOLEAN, \n\tis_banned BOOLEAN, \n\tdmarket_api_key_encrypted TEXT, \n\tdmarket_secret_key_encrypted TEXT, \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tlast_activity DATETIME, \n\tnotes TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA03447340>, '\nCREATE TABLE users (\n\tid VARCHAR(36) NOT NULL, \n\ttelegram_id BIGINT NOT NULL, \n\tusername VARCHAR(255), \n\tfirst_name VARCHAR(255), \n\tlast_name VARCHAR(255), \n\tlanguage_code VARCHAR(10), \n\tis_active BOOLEAN, \n\tis_admin BOOLEAN, \n\tis_banned BOOLEAN, \n\tdmarket_api_key_encrypted TEXT, \n\tdmarket_secret_key_encrypted TEXT, \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tlast_activity DATETIME, \n\tnotes TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03447340>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA03447340>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6CC0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6CC0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6CC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F6CC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F55C0>, 'CREATE INDEX ix_users_is_active ON users (is_active)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F55C0>, 'CREATE INDEX ix_users_is_active ON users (is_active)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F55C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F55C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F61C0>, 'CREATE INDEX ix_users_is_banned ON users (is_banned)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F61C0>, 'CREATE INDEX ix_users_is_banned ON users (is_banned)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F61C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F61C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EBAC0>, '\nCREATE TABLE user_settings (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36) NOT NULL, \n\tdefault_game VARCHAR(50), \n\tnotifications_enabled BOOLEAN, \n\tprice_alerts_enabled BOOLEAN, \n\tarbitrage_alert_enabled BOOLEAN, \n\tmin_profit_percent FLOAT, \n\tpreferred_currency VARCHAR(10), \n\tlanguage VARCHAR(10), \n\ttimezone VARCHAR(50), \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023EBAC0>, '\nCREATE TABLE user_settings (\n\tid VARCHAR(36) NOT NULL, \n\tuser_id VARCHAR(36) NOT NULL, \n\tdefault_game VARCHAR(50), \n\tnotifications_enabled BOOLEAN, \n\tprice_alerts_enabled BOOLEAN, \n\tarbitrage_alert_enabled BOOLEAN, \n\tmin_profit_percent FLOAT, \n\tpreferred_currency VARCHAR(10), \n\tlanguage VARCHAR(10), \n\ttimezone VARCHAR(50), \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EBAC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023EBAC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4640>, 'CREATE INDEX ix_user_settings_user_id ON user_settings (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4640>, 'CREATE INDEX ix_user_settings_user_id ON user_settings (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4640>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4640>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5940>, '\nCREATE TABLE audit_logs (\n\tid INTEGER NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tuser_id BIGINT, \n\tusername VARCHAR(255), \n\tip_address VARCHAR(45), \n\taction VARCHAR(255) NOT NULL, \n\tresource_type VARCHAR(50), \n\tresource_id VARCHAR(255), \n\tdetails JSON, \n\told_value TEXT, \n\tnew_value TEXT, \n\tsuccess VARCHAR(10) NOT NULL, \n\terror_message TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5940>, '\nCREATE TABLE audit_logs (\n\tid INTEGER NOT NULL, \n\ttimestamp DATETIME NOT NULL, \n\tevent_type VARCHAR(50) NOT NULL, \n\tseverity VARCHAR(20) NOT NULL, \n\tuser_id BIGINT, \n\tusername VARCHAR(255), \n\tip_address VARCHAR(45), \n\taction VARCHAR(255) NOT NULL, \n\tresource_type VARCHAR(50), \n\tresource_id VARCHAR(255), \n\tdetails JSON, \n\told_value TEXT, \n\tnew_value TEXT, \n\tsuccess VARCHAR(10) NOT NULL, \n\terror_message TEXT, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5940>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5940>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5E40>, 'CREATE INDEX ix_audit_logs_resource_id ON audit_logs (resource_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5E40>, 'CREATE INDEX ix_audit_logs_resource_id ON audit_logs (resource_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5E40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5E40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4440>, 'CREATE INDEX ix_audit_logs_user_id ON audit_logs (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4440>, 'CREATE INDEX ix_audit_logs_user_id ON audit_logs (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F51C0>, 'CREATE INDEX ix_audit_logs_event_type ON audit_logs (event_type)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F51C0>, 'CREATE INDEX ix_audit_logs_event_type ON audit_logs (event_type)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F51C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F51C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5F40>, 'CREATE INDEX ix_audit_logs_timestamp ON audit_logs (timestamp)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5F40>, 'CREATE INDEX ix_audit_logs_timestamp ON audit_logs (timestamp)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5F40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5F40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5CC0>, 'CREATE INDEX IF NOT EXISTS idx_users_telegram_id ON users(telegram_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5CC0>, 'CREATE INDEX IF NOT EXISTS idx_users_telegram_id ON users(telegram_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5CC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5CC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5440>, 'CREATE INDEX IF NOT EXISTS idx_users_is_active ON users(is_active)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5440>, 'CREATE INDEX IF NOT EXISTS idx_users_is_active ON users(is_active)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F44C0>, 'CREATE INDEX IF NOT EXISTS idx_users_last_activity ON users(last_activity DESC)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F44C0>, 'CREATE INDEX IF NOT EXISTS idx_users_last_activity ON users(last_activity DESC)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F44C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F44C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F40C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_user_id ON command_log(user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F40C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_user_id ON command_log(user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F40C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F40C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F62C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_created_at ON command_log(created_at DESC)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F62C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_created_at ON command_log(created_at DESC)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F62C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F62C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5AC0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_command ON command_log(command)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5AC0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_command ON command_log(command)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5AC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F5AC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F50C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_success ON command_log(success)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F50C0>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_success ON command_log(success)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F50C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F50C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4EC0>, 'CREATE INDEX IF NOT EXISTS idx_market_game ON market_data(game)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4EC0>, 'CREATE INDEX IF NOT EXISTS idx_market_game ON market_data(game)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4EC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4EC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4FC0>, 'CREATE INDEX IF NOT EXISTS idx_market_created_at ON market_data(created_at DESC)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4FC0>, 'CREATE INDEX IF NOT EXISTS idx_market_created_at ON market_data(created_at DESC)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4FC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4FC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4F40>, 'CREATE INDEX IF NOT EXISTS idx_market_item_id ON market_data(item_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4F40>, 'CREATE INDEX IF NOT EXISTS idx_market_item_id ON market_data(item_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4F40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023F4F40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F4E40>, 'CREATE INDEX IF NOT EXISTS idx_trade_history_created_at ON trade_history(created_at DESC)', ())
DEBUG    aiosqlite:core.py:109 returning exception no such table: main.trade_history
DEBUG    src.utils.database:database.py:220 Index creation skipped: CREATE INDEX IF NOT EXISTS idx_trade_history_created_at ON trade_history(created_at DESC) - (sqlite3.OperationalError) no such table: main.trade_history
[SQL: CREATE INDEX IF NOT EXISTS idx_trade_history_created_at ON trade_history(created_at DESC)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F5EC0>, 'CREATE INDEX IF NOT EXISTS idx_trade_history_status ON trade_history(status)', ())
DEBUG    aiosqlite:core.py:109 returning exception no such table: main.trade_history
DEBUG    src.utils.database:database.py:220 Index creation skipped: CREATE INDEX IF NOT EXISTS idx_trade_history_status ON trade_history(status) - (sqlite3.OperationalError) no such table: main.trade_history
[SQL: CREATE INDEX IF NOT EXISTS idx_trade_history_status ON trade_history(status)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023F6540>, 'CREATE INDEX IF NOT EXISTS idx_trade_history_user_id ON trade_history(user_id)', ())
DEBUG    aiosqlite:core.py:109 returning exception no such table: main.trade_history
DEBUG    src.utils.database:database.py:220 Index creation skipped: CREATE INDEX IF NOT EXISTS idx_trade_history_user_id ON trade_history(user_id) - (sqlite3.OperationalError) no such table: main.trade_history
[SQL: CREATE INDEX IF NOT EXISTS idx_trade_history_user_id ON trade_history(user_id)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D5040>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_user_cmd ON command_log(user_id, command)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D5040>, 'CREATE INDEX IF NOT EXISTS idx_cmdlog_user_cmd ON command_log(user_id, command)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D5040>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D5040>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D59C0>, 'CREATE INDEX IF NOT EXISTS idx_market_game_date ON market_data(game, created_at DESC)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D59C0>, 'CREATE INDEX IF NOT EXISTS idx_market_game_date ON market_data(game, created_at DESC)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D59C0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D59C0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D5940>, 'PRAGMA journal_mode=WAL', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D5940>, 'PRAGMA journal_mode=WAL', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023D5940>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023D5940>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D5940>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D5940>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D5A40>, 'PRAGMA synchronous=NORMAL', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D5A40>, 'PRAGMA synchronous=NORMAL', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D5A40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D5A40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D7BC0>, 'PRAGMA cache_size=10000', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D7BC0>, 'PRAGMA cache_size=10000', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D7BC0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D7BC0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D7E40>, 'PRAGMA temp_store=MEMORY', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D7E40>, 'PRAGMA temp_store=MEMORY', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D7E40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D7E40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D5C40>, 'PRAGMA mmap_size=268435456', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D5C40>, 'PRAGMA mmap_size=268435456', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023D5C40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001FA023D5C40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D5C40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D5C40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D5D40>, 'PRAGMA page_size=4096', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D5D40>, 'PRAGMA page_size=4096', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D5D40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D5D40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D5540>, 'PRAGMA auto_vacuum=INCREMENTAL', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001FA023D5540>, 'PRAGMA auto_vacuum=INCREMENTAL', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D5540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FA023D5540>) completed
DEBUG    src.utils.database:database.py:186 SQLite optimizations applied
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001FA0235E3E0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x000001FA0235E3E0>) completed
INFO     src.utils.database:database.py:156 Database initialized successfully
INFO     src.main:main.py:89 Database initialized successfully
INFO     src.main:main.py:97 StateManager initialized
INFO     src.main:main.py:100 Initializing DMarket API...
WARNING  src.main:main.py:120 DMarket API test failed: Connection failed
INFO     src.main:main.py:123 Initializing Telegram Bot...
INFO     src.utils.state_manager:state_manager.py:438 Shutdown callback registered
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:42 ═рўрыю ЁхушёЄЁрЎшш юсЁрсюЄўшъют сюЄр...
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:60 ┴рчют√х ъюьрэф√ чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:65 Callback-юсЁрсюЄўшъш чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:75 ╬сЁрсюЄўшъш ЄхъёЄют√ї ёююс∙хэшщ чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:82 Scanner юсЁрсюЄўшъш чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.notifications.storage:storage.py:79 ╟руЁєцхэю 1 яЁюЇшыхщ яюы№чютрЄхыхщ ё юяютх∙хэш ьш
INFO     src.telegram_bot.notifications.storage:storage.py:79 ╟руЁєцхэю 1 яЁюЇшыхщ яюы№чютрЄхыхщ ё юяютх∙хэш ьш
ERROR    src.main:main.py:203 Failed to initialize application: run_alerts_checker() got an unexpected keyword argument 'interval'
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\main.py", line 146, in initialize
    register_all_handlers(self.bot)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\register_all_handlers.py", line 89, in register_all_handlers
    register_alerts_handlers(application)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\market_alerts_handler.py", line 917, in register_alerts_handlers
    register_notification_handlers(application)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\notifications\handlers.py", line 475, in register_notification_handlers
    run_alerts_checker(
TypeError: run_alerts_checker() got an unexpected keyword argument 'interval'
____________________ TestLogging.test_logging_setup_called ____________________
tests\test_main.py:440: in test_logging_setup_called
    await app.initialize()
src\main.py:146: in initialize
    register_all_handlers(self.bot)
src\telegram_bot\register_all_handlers.py:89: in register_all_handlers
    register_alerts_handlers(application)
src\telegram_bot\handlers\market_alerts_handler.py:917: in register_alerts_handlers
    register_notification_handlers(application)
src\telegram_bot\notifications\handlers.py:475: in register_notification_handlers
    run_alerts_checker(
E   TypeError: run_alerts_checker() got an unexpected keyword argument 'interval'
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.main:main.py:53 Loading configuration...
INFO     src.main:main.py:64 Configuration loaded successfully
INFO     src.main:main.py:65 Debug mode: False
INFO     src.main:main.py:66 Testing mode: True
INFO     src.main:main.py:100 Initializing DMarket API...
INFO     src.main:main.py:123 Initializing Telegram Bot...
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:42 ═рўрыю ЁхушёЄЁрЎшш юсЁрсюЄўшъют сюЄр...
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:60 ┴рчют√х ъюьрэф√ чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:65 Callback-юсЁрсюЄўшъш чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:75 ╬сЁрсюЄўшъш ЄхъёЄют√ї ёююс∙хэшщ чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.register_all_handlers:register_all_handlers.py:82 Scanner юсЁрсюЄўшъш чрЁхушёЄЁшЁютрэ√
INFO     src.telegram_bot.notifications.storage:storage.py:79 ╟руЁєцхэю 1 яЁюЇшыхщ яюы№чютрЄхыхщ ё юяютх∙хэш ьш
INFO     src.telegram_bot.notifications.storage:storage.py:79 ╟руЁєцхэю 1 яЁюЇшыхщ яюы№чютрЄхыхщ ё юяютх∙хэш ьш
ERROR    src.main:main.py:203 Failed to initialize application: run_alerts_checker() got an unexpected keyword argument 'interval'
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\main.py", line 146, in initialize
    register_all_handlers(self.bot)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\register_all_handlers.py", line 89, in register_all_handlers
    register_alerts_handlers(application)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\handlers\market_alerts_handler.py", line 917, in register_alerts_handlers
    register_notification_handlers(application)
  File "D:\DMarket-Telegram-Bot-main\src\telegram_bot\notifications\handlers.py", line 475, in register_notification_handlers
    run_alerts_checker(
TypeError: run_alerts_checker() got an unexpected keyword argument 'interval'
_____ TestCreateTarget.test_create_target_returns_success_with_valid_data _____
tests\test_targets.py:208: in test_create_target_returns_success_with_valid_data
    result = await target_manager.create_target(
src\dmarket\targets\manager.py:125: in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object MagicMock can't be used in 'await' expression
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:44 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: AK-47 | Redline (Field-Tested) яю Ўхэх $8.50 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
_ TestCreateTarget.test_create_target_with_attributes_includes_attrs_in_api_call _
tests\test_targets.py:242: in test_create_target_with_attributes_includes_attrs_in_api_call
    result = await target_manager.create_target(
src\dmarket\targets\manager.py:125: in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object MagicMock can't be used in 'await' expression
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:44 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Karambit | Doppler (Factory New) яю Ўхэх $250.00 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
___ TestCreateTarget.test_create_target_raises_error_when_price_is_too_high ___
tests\test_targets.py:281: in test_create_target_raises_error_when_price_is_too_high
    await target_manager.create_target(
src\dmarket\targets\manager.py:125: in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object MagicMock can't be used in 'await' expression
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:44 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Expensive Item яю Ўхэх $100001.00 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
_ TestCreateTarget.test_create_target_raises_error_when_price_has_too_many_decimals _
tests\test_targets.py:293: in test_create_target_raises_error_when_price_has_too_many_decimals
    await target_manager.create_target(
src\dmarket\targets\manager.py:125: in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object MagicMock can't be used in 'await' expression
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:44 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Precise Item яю Ўхэх $10.55 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
_____________ TestCreateTarget.test_create_target_game_conversion _____________
tests\test_targets.py:353: in test_create_target_game_conversion
    await target_manager.create_target(
src\dmarket\targets\manager.py:125: in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object MagicMock can't be used in 'await' expression
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:45 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Test Item яю Ўхэх $10.00 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
________ TestCreateTarget.test_create_target_price_conversion_to_cents ________
tests\test_targets.py:377: in test_create_target_price_conversion_to_cents
    await target_manager.create_target(
src\dmarket\targets\manager.py:125: in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object MagicMock can't be used in 'await' expression
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:45 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Test Item яю Ўхэх $1.00 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
________________ TestCreateTarget.test_create_target_api_error ________________
tests\test_targets.py:392: in test_create_target_api_error
    result = await target_manager.create_target(
src\dmarket\targets\manager.py:125: in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object MagicMock can't be used in 'await' expression
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:45 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Test Item яю Ўхэх $10.00 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
__________ TestCreateTarget.test_create_target_invalid_api_response ___________
tests\test_targets.py:407: in test_create_target_invalid_api_response
    result = await target_manager.create_target(
src\dmarket\targets\manager.py:125: in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object MagicMock can't be used in 'await' expression
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:45 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Test Item яю Ўхэх $10.00 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
______________ TestGetUserTargets.test_get_user_targets_success _______________
tests\test_targets.py:432: in test_get_user_targets_success
    assert len(targets) == 2
E   assert 0 == 2
E    +  where 0 = len([])
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:45 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:151 ╧юыєўхэшх ЄрЁухЄют: game=csgo, status=active
INFO     src.dmarket.targets.manager:manager.py:169 ╧юыєўхэю 0 ЄрЁухЄют
___________ TestGetUserTargets.test_get_user_targets_status_filter ____________
tests\test_targets.py:460: in test_get_user_targets_status_filter
    assert call_args.kwargs["status"] == expected_filter
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'status'
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:45 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:151 ╧юыєўхэшх ЄрЁухЄют: game=csgo, status=active
INFO     src.dmarket.targets.manager:manager.py:169 ╧юыєўхэю 0 ЄрЁухЄют
_________________ TestDeleteTarget.test_delete_target_success _________________
tests\test_targets.py:507: in test_delete_target_success
    assert success is True
E   assert False is True
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:45 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:187 ╙фрыхэшх ЄрЁухЄр: target_123
ERROR    src.dmarket.targets.manager:manager.py:194 ╬°шсър яЁш єфрыхэшш ЄрЁухЄр target_123: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 190, in delete_target
    await self.api.delete_target(target_id)
TypeError: object MagicMock can't be used in 'await' expression
______ TestDeleteAllTargets.test_delete_all_targets_without_confirmation ______
tests\test_targets.py:551: in test_delete_all_targets_without_confirmation
    result = await target_manager.delete_all_targets(game="csgo", confirm=False)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TargetManager.delete_all_targets() got an unexpected keyword argument 'confirm'
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:45 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
_______ TestDeleteAllTargets.test_delete_all_targets_with_confirmation ________
tests\test_targets.py:566: in test_delete_all_targets_with_confirmation
    result = await target_manager.delete_all_targets(game="csgo", confirm=True)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TargetManager.delete_all_targets() got an unexpected keyword argument 'confirm'
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:45 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
_______ TestDeleteAllTargets.test_delete_all_targets_no_active_targets ________
tests\test_targets.py:581: in test_delete_all_targets_no_active_targets
    result = await target_manager.delete_all_targets(game="csgo", confirm=True)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TargetManager.delete_all_targets() got an unexpected keyword argument 'confirm'
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:45 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
________ TestDeleteAllTargets.test_delete_all_targets_partial_failure _________
tests\test_targets.py:600: in test_delete_all_targets_partial_failure
    result = await target_manager.delete_all_targets(game="csgo", confirm=True)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TargetManager.delete_all_targets() got an unexpected keyword argument 'confirm'
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
___________ TestGetTargetsByTitle.test_get_targets_by_title_success ___________
tests\test_targets.py:640: in test_get_targets_by_title_success
    assert len(targets) == 2
E   assert 0 == 2
E    +  where 0 = len([])
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:255 ╧юшёъ ЄрЁухЄют фы  'AK-47 | Redline (Field-Tested)' т csgo
__________ TestCreateSmartTargets.test_create_smart_targets_success ___________
tests\test_targets.py:689: in test_create_smart_targets_success
    results = await target_manager.create_smart_targets(
E   TypeError: TargetManager.create_smart_targets() got an unexpected keyword argument 'price_reduction_percent'
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
_______ TestCreateSmartTargets.test_create_smart_targets_multiple_items _______
tests\test_targets.py:715: in test_create_smart_targets_multiple_items
    results = await target_manager.create_smart_targets(
E   TypeError: TargetManager.create_smart_targets() got an unexpected keyword argument 'price_reduction_percent'
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
_________ TestCreateSmartTargets.test_create_smart_targets_max_limit __________
tests\test_targets.py:733: in test_create_smart_targets_max_limit
    assert len(results) == 5
E   assert 0 == 5
E    +  where 0 = len([])
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:292 ╤ючфрэшх єьэ√ї ЄрЁухЄют: 20 яЁхфьхЄют, ьрЁцр 15%, ьръё 5
INFO     src.dmarket.targets.manager:manager.py:360 ╤ючфрэю 0/20 єьэ√ї ЄрЁухЄют
_______ TestCreateSmartTargets.test_create_smart_targets_item_not_found _______
tests\test_targets.py:744: in test_create_smart_targets_item_not_found
    assert len(results) == 1
E   assert 0 == 1
E    +  where 0 = len([])
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:292 ╤ючфрэшх єьэ√ї ЄрЁухЄют: 1 яЁхфьхЄют, ьрЁцр 15%, ьръё 10
INFO     src.dmarket.targets.manager:manager.py:360 ╤ючфрэю 0/1 єьэ√ї ЄрЁухЄют
_______ TestCreateSmartTargets.test_create_smart_targets_minimum_price ________
tests\test_targets.py:761: in test_create_smart_targets_minimum_price
    results = await target_manager.create_smart_targets(
E   TypeError: TargetManager.create_smart_targets() got an unexpected keyword argument 'price_reduction_percent'
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
______ TestCreateSmartTargets.test_create_smart_targets_with_attributes _______
tests\test_targets.py:791: in test_create_smart_targets_with_attributes
    targets_data = call_args.kwargs["targets"]
                   ^^^^^^^^^^^^^^^^
E   AttributeError: 'NoneType' object has no attribute 'kwargs'
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:292 ╤ючфрэшх єьэ√ї ЄрЁухЄют: 1 яЁхфьхЄют, ьрЁцр 15%, ьръё 10
INFO     src.dmarket.targets.manager:manager.py:360 ╤ючфрэю 0/1 єьэ√ї ЄрЁухЄют
_____ TestCreateSmartTargets.test_create_smart_targets_skip_invalid_items _____
tests\test_targets.py:805: in test_create_smart_targets_skip_invalid_items
    assert len(results) == 1
E   assert 0 == 1
E    +  where 0 = len([])
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:292 ╤ючфрэшх єьэ√ї ЄрЁухЄют: 3 яЁхфьхЄют, ьрЁцр 15%, ьръё 10
INFO     src.dmarket.targets.manager:manager.py:360 ╤ючфрэю 0/3 єьэ√ї ЄрЁухЄют
____________ TestGetClosedTargets.test_get_closed_targets_success _____________
tests\test_targets.py:825: in test_get_closed_targets_success
    assert len(targets) == 2
E   assert 0 == 2
E    +  where 0 = len([])
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:378 ╧юыєўхэшх шёЄюЁшш ЄрЁухЄют чр 7 фэхщ
INFO     src.dmarket.targets.manager:manager.py:403 ═рщфхэю 0 чръЁ√Є√ї ЄрЁухЄют
_______ TestGetClosedTargets.test_get_closed_targets_with_status_filter _______
tests\test_targets.py:839: in test_get_closed_targets_with_status_filter
    await target_manager.get_closed_targets(limit=20, status="successful", days=30)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: TargetManager.get_closed_targets() got an unexpected keyword argument 'status'
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
_________ TestGetTargetStatistics.test_get_target_statistics_success __________
tests\test_targets.py:884: in test_get_target_statistics_success
    assert stats["active_count"] == 2
E   assert 0 == 2
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:425 ╧юыєўхэшх ёЄрЄшёЄшъш ЄрЁухЄют фы  csgo чр 7 фэхщ
INFO     src.dmarket.targets.manager:manager.py:151 ╧юыєўхэшх ЄрЁухЄют: game=csgo, status=active
INFO     src.dmarket.targets.manager:manager.py:169 ╧юыєўхэю 0 ЄрЁухЄют
INFO     src.dmarket.targets.manager:manager.py:378 ╧юыєўхэшх шёЄюЁшш ЄрЁухЄют чр 7 фэхщ
INFO     src.dmarket.targets.manager:manager.py:403 ═рщфхэю 0 чръЁ√Є√ї ЄрЁухЄют
INFO     src.dmarket.targets.manager:manager.py:450 ╤ЄрЄшёЄшър: ръЄштэ√ї 0, єёях°э√ї 0, єёях°эюёЄ№ 0.0%
____ TestGetTargetStatistics.test_get_target_statistics_no_closed_targets _____
tests\test_targets.py:901: in test_get_target_statistics_no_closed_targets
    assert stats["active_count"] == 2
E   assert 0 == 2
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:425 ╧юыєўхэшх ёЄрЄшёЄшъш ЄрЁухЄют фы  csgo чр 7 фэхщ
INFO     src.dmarket.targets.manager:manager.py:151 ╧юыєўхэшх ЄрЁухЄют: game=csgo, status=active
INFO     src.dmarket.targets.manager:manager.py:169 ╧юыєўхэю 0 ЄрЁухЄют
INFO     src.dmarket.targets.manager:manager.py:378 ╧юыєўхэшх шёЄюЁшш ЄрЁухЄют чр 7 фэхщ
INFO     src.dmarket.targets.manager:manager.py:403 ═рщфхэю 0 чръЁ√Є√ї ЄрЁухЄют
INFO     src.dmarket.targets.manager:manager.py:450 ╤ЄрЄшёЄшър: ръЄштэ√ї 0, єёях°э√ї 0, єёях°эюёЄ№ 0.0%
_____ TestGetTargetStatistics.test_get_target_statistics_partial_success ______
tests\test_targets.py:938: in test_get_target_statistics_partial_success
    assert stats["closed_count"] == 2
E   assert 0 == 2
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:425 ╧юыєўхэшх ёЄрЄшёЄшъш ЄрЁухЄют фы  csgo чр 7 фэхщ
INFO     src.dmarket.targets.manager:manager.py:151 ╧юыєўхэшх ЄрЁухЄют: game=csgo, status=active
INFO     src.dmarket.targets.manager:manager.py:169 ╧юыєўхэю 0 ЄрЁухЄют
INFO     src.dmarket.targets.manager:manager.py:378 ╧юыєўхэшх шёЄюЁшш ЄрЁухЄют чр 7 фэхщ
INFO     src.dmarket.targets.manager:manager.py:403 ═рщфхэю 0 чръЁ√Є√ї ЄрЁухЄют
INFO     src.dmarket.targets.manager:manager.py:450 ╤ЄрЄшёЄшър: ръЄштэ√ї 0, єёях°э√ї 0, єёях°эюёЄ№ 0.0%
___________ TestTargetManagerIntegration.test_full_target_workflow ____________
tests\test_targets.py:964: in test_full_target_workflow
    create_result = await target_manager.create_target(
src\dmarket\targets\manager.py:125: in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object MagicMock can't be used in 'await' expression
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: AK-47 | Redline (Field-Tested) яю Ўхэх $8.50 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
__________ TestTargetManagerIntegration.test_smart_targets_workflow ___________
tests\test_targets.py:1001: in test_smart_targets_workflow
    results = await target_manager.create_smart_targets(
E   TypeError: TargetManager.create_smart_targets() got an unexpected keyword argument 'price_reduction_percent'
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:46 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
_________ TestTargetManagerEdgeCases.test_concurrent_target_creation __________
tests\test_targets.py:1029: in test_concurrent_target_creation
    results = await asyncio.gather(*tasks)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\dmarket\targets\manager.py:125: in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object MagicMock can't be used in 'await' expression
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:47 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Item 0 яю Ўхэх $10.00 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Item 1 яю Ўхэх $11.00 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Item 2 яю Ўхэх $12.00 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Item 3 яю Ўхэх $13.00 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Item 4 яю Ўхэх $14.00 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
____________ TestTargetManagerEdgeCases.test_extremely_high_price _____________
tests\test_targets.py:1039: in test_extremely_high_price
    result = await target_manager.create_target(
src\dmarket\targets\manager.py:125: in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object MagicMock can't be used in 'await' expression
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:47 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Rare Item яю Ўхэх $99999.99 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
_____________ TestTargetManagerEdgeCases.test_extremely_low_price _____________
tests\test_targets.py:1057: in test_extremely_low_price
    result = await target_manager.create_target(
src\dmarket\targets\manager.py:125: in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object MagicMock can't be used in 'await' expression
---------------------------- Captured stdout setup ----------------------------
2025-12-14 21:32:47 [info     ] liquidity_analyzer_initialized max_time_to_sell_days=7.0 min_liquidity_score=60.0 min_sales_per_week=10.0
----------------------------- Captured log setup ------------------------------
INFO     src.dmarket.targets.manager:manager.py:59 TargetManager шэшЎшрышчшЁютрэ
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
------------------------------ Captured log call ------------------------------
INFO     src.dmarket.targets.manager:manager.py:82 ╤ючфрэшх ЄрЁухЄр: Cheap Item яю Ўхэх $0.01 (шуЁр: csgo)
ERROR    src.dmarket.targets.manager:manager.py:129 ╬°шсър яЁш ёючфрэшш ЄрЁухЄр: object MagicMock can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\DMarket-Telegram-Bot-main\src\dmarket\targets\manager.py", line 125, in create_target
    result = await self.api.create_target(body)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object MagicMock can't be used in 'await' expression
=============================== tests coverage ================================
_______________ coverage: platform win32, python 3.11.9-final-0 _______________

Name                                                         Stmts   Miss Branch BrPart   Cover   Missing
---------------------------------------------------------------------------------------------------------
src\dmarket\api\__init__.py                                      8      8      0      0   0.00%   28-37
src\dmarket\api\auth.py                                         55     55     12      0   0.00%   6-159
src\dmarket\api\cache.py                                        46     46     24      0   0.00%   6-157
src\dmarket\api\client.py                                      168    168     38      0   0.00%   11-474
src\dmarket\api\endpoints.py                                    29     29      0      0   0.00%   8-63
src\dmarket\api\inventory.py                                    44     44      6      0   0.00%   10-225
src\dmarket\api\market.py                                      114    114     44      0   0.00%   10-450
src\dmarket\api\targets_api.py                                  66     66     16      0   0.00%   10-306
src\dmarket\api\trading.py                                      97     97      4      0   0.00%   10-444
src\dmarket\api\wallet.py                                      215    215     50      0   0.00%   10-503
src\dmarket\arbitrage.py                                       553    553    210      0   0.00%   3-1728
src\dmarket\scanner\analysis.py                                110    110     44      0   0.00%   12-331
src\dmarket\targets.py                                           4      4      0      0   0.00%   12-34
src\telegram_bot\commands\balance_command.py                   112    112     52      0   0.00%   3-347
src\telegram_bot\commands\resume_command.py                     28     28     10      0   0.00%   7-78
src\telegram_bot\config_data.py                                  1      1      0      0   0.00%   3
src\telegram_bot\handlers\backtest_handler.py                   95     95     24      0   0.00%   8-356
src\telegram_bot\handlers\game_filters\__init__.py               4      4      0      0   0.00%   13-57
src\telegram_bot\handlers\game_filters\constants.py             16     16      0      0   0.00%   10-201
src\telegram_bot\handlers\game_filters\handlers.py             287    287    100      0   0.00%   6-806
src\telegram_bot\handlers\game_filters\utils.py                 47     47     16      0   0.00%   10-259
src\telegram_bot\handlers\notification_digest_handler.py       311    311     80      0   0.00%   10-755
src\telegram_bot\handlers\notification_filters_handler.py      259    259     66      0   0.00%   7-791
src\telegram_bot\handlers\portfolio_handler.py                 149    149     48      0   0.00%   10-490
src\telegram_bot\handlers\rate_limit_admin.py                  125    125     46      0   0.00%   5-254
src\telegram_bot\keyboards.py                                    3      3      0      0   0.00%   12-79
src\telegram_bot\sales_analysis_callbacks.py                   236    236     82      0   0.00%   3-765
src\telegram_bot\smart_notifications\__init__.py                 9      9      0      0   0.00%   11-58
src\telegram_bot\smart_notifications\alerts.py                  38     38     12      0   0.00%   3-124
src\telegram_bot\smart_notifications\checkers.py               117    117     46      0   0.00%   3-286
src\telegram_bot\smart_notifications\constants.py                9      9      2      0   0.00%   3-66
src\telegram_bot\smart_notifications\handlers.py                56     56     16      0   0.00%   3-179
src\telegram_bot\smart_notifications\preferences.py             53     53     14      0   0.00%   3-140
src\telegram_bot\smart_notifications\senders.py                 81     81     20      0   0.00%   3-322
src\telegram_bot\smart_notifications\throttling.py              35     35     10      0   0.00%   3-93
src\telegram_bot\smart_notifications\utils.py                   71     71     20      0   0.00%   3-217
src\telegram_bot\smart_notifier.py                               8      8      0      0   0.00%   14-64
src\telegram_bot\utils\api_helper.py                            20     20      8      0   0.00%   1-56
src\utils\batch_processor.py                                    98     98     26      0   0.00%   8-297
src\utils\market_analytics.py                                  224    224     80      0   0.00%   7-662
src\utils\price_sanity_checker.py                               77     77     10      0   0.00%   15-351
src\utils\prometheus_metrics.py                                 48     48      0      0   0.00%   10-293
src\utils\rate_limit_decorator.py                               35     35     14      0   0.00%   5-99
src\utils\reactive_websocket.py                                253    253     66      0   0.00%   7-567
src\utils\trading_notifier.py                                   46     46     14      0   0.00%   8-228
src\telegram_bot\commands\logs_command.py                       78     71     40      0   5.93%   29-149
src\utils\price_analyzer.py                                    188    172     72      0   6.15%   45-96, 111-148, 175-224, 255-332, 349-398, 425-488, 501-531
src\telegram_bot\market_alerts.py                              299    270    118      0   6.95%   39-85, 89-97, 101-113, 117-180, 184-263, 267-353, 357-424, 428-531, 544-552, 565-576, 588-598, 610, 625-636, 649-669, 682-695, 709-730, 745-754, 777-792
src\telegram_bot\notifications\trading.py                      101     87     18      0  11.76%   59-104, 127-151, 172-190, 215-243, 266-291, 314-341
src\utils\daily_report_scheduler.py                            103     87     30      0  12.03%   43-49, 53-75, 82-87, 96-97, 106-144, 162-205, 224-299
src\telegram_bot\commands\test_sentry_command.py                95     80     28      0  12.20%   47-106, 118-159, 169-184, 196-226, 236-249, 263-285
src\telegram_bot\notifications\handlers.py                     186    154     64      1  13.20%   48-67, 81-105, 127-214, 230-261, 280-326, 343-419, 482-484
src\telegram_bot\commands\daily_report_command.py               42     35     10      0  13.46%   36-112
src\telegram_bot\handlers\dashboard_handler.py                 250    205     80      0  13.64%   58-66, 78-100, 124, 139-141, 153, 167-199, 212-234, 254-299, 314-347, 366-388, 409-425, 446-490, 509-542, 561-676, 688-737
src\telegram_bot\utils\api_client.py                            46     37      8      0  16.67%   27-52, 69-94, 108-127
src\dmarket\item_filters.py                                    146    109     56      0  18.32%   47-55, 59-75, 84, 113-128, 132, 142, 152, 162, 172, 182, 192, 205-214, 226-235, 247, 259-264, 276-277, 289-292, 304-305, 322-353, 374-414, 429-431, 437-440
src\telegram_bot\initialization.py                             136    103     38      0  18.97%   53-89, 104-143, 212-233, 254-279, 290-300, 313-336, 346-353, 382-409
src\dmarket\scanner\filters.py                                  84     61     40      1  20.97%   42, 47, 58-60, 71-73, 95-109, 127-143, 161-175, 188-212, 230-234
src\telegram_bot\chart_generator.py                             76     55     12      0  23.86%   49-87, 102-141, 156-194, 213-251, 263-313, 330, 343, 356, 375
src\telegram_bot\keyboards\alerts.py                            46     32     10      0  25.00%   131-178, 192-231
src\telegram_bot\user_profiles.py                              217    142     84      7  29.24%   99-110, 113->exit, 126-135, 147-160, 165-167, 179->183, 181, 187, 191-193, 203-235, 248-249, 260, 285-302, 313-323, 336-341, 354-360, 373-386, 395, 406-414, 443-449, 462-468, 483-507, 520-521, 532-541, 560-589
src\telegram_bot\notifications\formatters.py                    77     51     28      3  29.52%   41-46, 65-71, 84-88, 147, 156, 163-173, 188-209, 222-243
src\telegram_bot\profiles.py                                    25     16      4      0  31.03%   16-19, 26-31, 44-61
src\telegram_bot\keyboards\settings.py                          40     25      6      0  32.61%   57-70, 82-102, 114-133, 153-159, 168-187
src\utils\state_manager.py                                     188    114     28      0  34.26%   115-136, 164-186, 204-212, 237-249, 272-294, 303, 320-324, 342-372, 381-395, 399-404, 408-409, 413-415, 420, 425, 447-457, 470-471, 475, 487-504, 512-535, 539-557
src\telegram_bot\register_all_handlers.py                      103     67      2      0  34.29%   83-84, 90, 92-208
src\portfolio\manager.py                                       155     89     60     10  38.14%   59, 151->163, 174-226, 237-292, 322-331, 335-337, 353, 357, 359, 361, 363, 365, 367, 370, 377-391, 406-407
src\utils\telegram_error_handlers.py                           103     53     46      6  38.93%   65->69, 73-76, 79->92, 92->96, 110->119, 123-135, 139-154, 163-177, 181-197, 223-224, 259, 275-295, 311-315, 330-337
src\utils\prometheus_server.py                                  38     20      4      0  42.86%   35-36, 40, 44-50, 54-59, 69-77
src\dmarket\scanner\cache.py                                    54     26     12      1  43.94%   55, 133-139, 155-169, 184-187, 199, 221-225
src\utils\analytics.py                                         212    106     40      0  45.24%   28-30, 204-206, 236-282, 303-352, 388-390, 407-412, 439-468, 492-517, 539-577
src\utils\exceptions.py                                        176     76     46      3  46.40%   71->74, 105, 112, 129, 141, 146, 161, 166, 193, 228, 233, 249, 254, 275-276, 281-293, 298-299, 308, 317, 326, 349, 371-374, 398-433, 452-499, 704-713
src\utils\logging_utils.py                                     142     66     36      1  48.88%   118-193, 225-286, 299-319, 356, 384-386, 413, 435-442, 623->exit
src\dmarket\arbitrage_sales_analysis.py                        332    157    142     29  49.37%   57-59, 90->95, 111-112, 137->141, 260-261, 278, 285-287, 295, 300-303, 308-315, 323-326, 389-392, 409, 437-439, 444-451, 455, 473-475, 525-531, 536, 543, 547, 551, 554->558, 559-564, 568, 570, 577, 579, 583, 620-658, 680-750, 769-808, 831-904, 921-946, 971-972, 991
src\utils\redis_cache.py                                       178     81     56     19  52.14%   60->67, 82, 85-86, 102-110, 119->exit, 133-142, 154-155, 177-183, 191, 206-211, 214->218, 234-244, 247->254, 250, 267-271, 278, 300-308, 317, 339->342, 357-363, 381-383, 401-411, 418-421
src\utils\feature_flags.py                                     146     58     56     12  53.47%   93-101, 105, 117-118, 141-144, 169-172, 176-177, 196-208, 230->233, 235->238, 239, 242, 246-248, 268, 270->273, 273->exit, 278-279, 295-307, 320, 342-351, 360-362, 380-381
src\telegram_bot\notifications\alerts.py                       127     51     50     10  54.24%   59-64, 112-116, 143-146, 167-171, 192-201, 213-223, 237-240, 267-270, 282, 286-287, 302-303, 309-310
src\telegram_bot\utils\formatters.py                           311    123    110     12  55.11%   28-60, 84-99, 123, 161, 191, 215-219, 238-274, 314->322, 339, 371->381, 384-389, 432, 524, 545-572, 589-624, 638-658, 798, 849-860
src\dmarket\targets\validators.py                               45     19     28      9  56.16%   25->exit, 31-37, 44-50, 66->83, 71, 75, 77, 79, 81
src\telegram_bot\keyboards\utils.py                             42     14     16      5  56.90%   47, 69-71, 91-98, 125, 129, 135->139, 140, 146
src\dmarket\hft_mode.py                                        255     94     62     10  57.10%   202-203, 208-209, 220-239, 244, 249-254, 265, 274->exit, 280->exit, 286-348, 359-360, 366-368, 372-420, 480-483, 497-505, 547
src\dmarket\arbitrage\calculations.py                           57     24     20      0  58.44%   113-118, 137-139, 158-162, 178-184, 201, 218, 239-243
src\dmarket\market_analysis.py                                 320    128    124     21  58.78%   83-88, 132, 140-159, 180-182, 185-188, 217-222, 254, 262, 281-283, 286-289, 316-321, 348, 356, 364-379, 399-401, 404-407, 428-433, 480-482, 493-496, 529-534, 540->551, 552-553, 578-666, 685-688, 714-745, 775-779, 787-788, 891, 925, 948, 956
src\dmarket\targets\competition.py                              81     31     22      1  59.22%   38-114, 272->245
src\telegram_bot\keyboards\webapp.py                            33     12      2      0  60.00%   98, 116-130, 189-193, 211-215, 228-251
src\dmarket\arbitrage\cache.py                                  46     15     10      1  60.71%   74, 125-126, 138-148, 164-165, 172-184
src\telegram_bot\handlers\arbitrage_callback_impl.py           108     33     32     10  60.71%   54, 58->62, 68, 129->133, 142-144, 173-200, 239-242, 266-338, 365->369, 408, 412->416, 444-454
src\utils\database.py                                          210     75     48      4  60.85%   67->70, 125->140, 136-138, 153->156, 157-159, 187-188, 224->exit, 428-448, 471-504, 521-563, 583-614, 626-634, 747-784, 796-812, 821-838, 847-857
src\main.py                                                    185     59     40      8  62.22%   112, 126, 149-197, 218-219, 222->229, 224->226, 234-253, 265-266, 271->273, 273->275, 302-334, 350-382, 390-391, 399
src\utils\sentry_integration.py                                 56     17     20      6  64.47%   56-96, 114-128, 190->195, 195->200, 236->238, 238->240, 241, 250, 262
src\dmarket\arbitrage\trader.py                                238     78     72     10  64.52%   156-157, 208->exit, 272->270, 282, 298->280, 305->298, 374-417, 484->exit, 487-488, 491-526, 529-530, 551->554, 554->557, 604-627, 645-686, 704-733
src\telegram_bot\notifications\checker.py                      144     46     64      8  65.38%   76-77, 130-131, 133-134, 138->150, 142->150, 147->150, 178-226, 271, 278->269, 298-299, 322-340
src\dmarket\arbitrage_scanner.py                               521    166    190     29  65.82%   257, 290->294, 351-360, 387-396, 401, 444, 467-469, 504-505, 553-554, 558-559, 563-564, 566-567, 605-618, 700-702, 706-707, 748-749, 752-753, 760-763, 771-846, 875-904, 923-966, 985-1017, 1066->1073, 1110-1118, 1129, 1144, 1184, 1198-1214, 1259-1260, 1278->1318, 1281->1318, 1294-1299, 1314-1316, 1370, 1408, 1430-1484, 1500-1501, 1557-1560, 1610, 1657-1658
src\telegram_bot\handlers\intramarket_arbitrage_handler.py     151     43     44      9  67.18%   48, 131, 202-205, 218-280, 294->297, 298, 349, 353, 357, 363-367, 390-404, 473-487
src\telegram_bot\handlers\callbacks.py                         183     49    102     39  68.42%   48, 69, 108->114, 141, 190, 229, 250, 258, 261, 264->267, 286, 322, 334, 342, 352, 362, 374-375, 387, 391, 401, 410, 418, 426, 435, 439, 443, 447, 451-474, 482, 490, 508, 517, 528, 537, 544, 554, 562, 571, 580, 611-613
src\dmarket\sales_history.py                                   256     78     82     14  68.64%   99->104, 106-111, 137, 153, 162-165, 352-453, 528-530, 550-551, 587-592, 600, 602->575, 607-609, 641, 664->671, 668-669, 685-687, 720-732, 767, 774, 777, 785-787
src\telegram_bot\notification_queue.py                         100     26     18      5  68.64%   60, 69->75, 73, 103->exit, 119-121, 137, 157-176, 181-188
src\utils\api_error_handling.py                                 42      9     22      7  68.75%   55-58, 64-65, 70->80, 74, 75->80, 124-126
src\telegram_bot\handlers\auto_sell_handler.py                 158     42     58      8  69.44%   148-149, 150->153, 169-188, 193, 229-230, 281-282, 298-299, 340-341, 377-378, 399-403, 407-423
src\dmarket\filters\game_filters.py                            147     38     98     15  71.02%   71-78, 90-97, 128, 132-134, 140, 144-146, 160, 164-166, 172, 176-178, 182-184, 198, 232, 244, 250, 256, 262, 313
src\telegram_bot\handlers\market_alerts_handler.py             294     71    126     18  71.67%   58, 115->124, 132->136, 163-164, 215-220, 228, 244->243, 264-268, 273, 324-325, 346-370, 382-408, 420, 451, 474, 541->550, 558->562, 589-590, 678->657, 805-825, 835
src\telegram_bot\handlers\sales_analysis_handlers.py            98     27     24      7  72.13%   81, 146-149, 168, 172->176, 223-233, 254, 261-266, 308-318, 336, 340->344, 380-390
src\telegram_bot\handlers\market_analysis_handler.py           334     73    136     37  72.34%   37, 93, 117, 127, 134, 201, 264-347, 371, 381, 390->394, 398-403, 506-513, 537-560, 586-590, 605, 611, 634, 642, 650, 734->743, 744->752, 791, 799, 806, 807->810, 886-891, 909-910, 932, 940, 948, 987-992, 1010-1011, 1034, 1042, 1050, 1096, 1103, 1110
src\telegram_bot\keyboards\arbitrage.py                         45     10     10      1  72.73%   107-125, 188, 201-217
src\dmarket\realtime_price_watcher.py                          273     62    106     16  73.61%   67->69, 170-172, 176-178, 196->exit, 202, 207, 212-213, 233-234, 247->exit, 253, 258, 263-264, 267->285, 285->248, 292-293, 312-320, 324-400, 451-452, 474->479, 523->533, 596->600, 600->603, 696->695
src\dmarket\auto_seller.py                                     284     61     66     11  73.71%   266, 276-278, 294-299, 320-321, 340-351, 371-380, 456-470, 503-512, 536, 574-580, 611->615, 628, 633-638, 702->709, 713-723, 727-738
src\telegram_bot\utils\error_handler.py                        185     40     74     11  74.90%   90->94, 100-101, 149->153, 153->exit, 159-160, 193, 197->202, 202->exit, 208-209, 254-255, 283, 295, 302-355, 379->383, 452-453, 480->478, 496-500
src\utils\config.py                                            265     60     88     27  75.35%   218-231, 237-250, 256-293, 349-350, 354-355, 359-360, 371-372, 376-377, 381-382, 387-388, 395-396, 400-401, 405-406, 416, 426, 431, 435, 442, 448, 450, 459, 463-469, 472-478, 482, 485, 491, 494->498
src\dmarket\intramarket_arbitrage.py                           262     48    154     34  75.48%   69-72, 96, 112->118, 123, 125, 135->141, 138-139, 141->93, 172->164, 180->164, 207, 235-238, 269, 273->279, 276-277, 285-288, 303->301, 308->314, 311-312, 314->318, 344->321, 361->321, 367->321, 393, 421-424, 493, 501, 505->511, 508-509, 530->535, 544-545, 563->498, 587, 617, 623-626, 641->658, 698->701, 703-710, 714-716, 726
src\telegram_bot\handlers\dmarket_handlers.py                   58      9     24      7  75.61%   55, 62->exit, 80, 88->92, 97-101, 104-112, 123->exit
src\analytics\historical_data.py                               136     26     34      7  75.88%   116, 171->175, 194-195, 246->284, 253-256, 263, 278-279, 310->345, 312-340, 363-375
src\telegram_bot\pagination.py                                 132     22     56     17  76.06%   53, 112, 149-150, 153-154, 182, 207, 225->exit, 233, 249->exit, 259, 280->282, 282->284, 284->286, 286->288, 289, 310, 418-430, 461
src\utils\market_analyzer.py                                   296     53    144     39  76.82%   91-94, 109->111, 118->144, 135, 138->140, 140->144, 157, 253, 272-273, 313, 326, 362, 373, 378, 388, 393, 403, 418, 452, 463->486, 478-483, 502, 526->525, 528->525, 569->576, 572-573, 586-587, 589->598, 594-595, 604-605, 610-617, 626-627, 632-640, 646-647, 655, 660->668, 664-665, 670-675, 714, 721-722
src\utils\prometheus_exporter.py                                77     16      2      0  77.22%   161, 177, 187, 192, 209-224
src\utils\user_rate_limiter.py                                 116     20     38      7  77.27%   65, 134->137, 152, 240-249, 254->264, 278-279, 294-296, 307-311
src\dmarket\targets\manager.py                                 150     26     36      7  77.96%   56->59, 159->163, 163->166, 217, 229-232, 309-354, 393, 473, 521-523
src\dmarket\api_validator.py                                    49     11      6      1  78.18%   73-74, 131->135, 142-143, 174-187
src\telegram_bot\keyboards\main.py                              30      5      8      1  78.95%   74-102, 141
src\telegram_bot\handlers\game_filter_handlers.py              308     41    130     31  79.91%   362, 393, 471, 507, 539, 558, 625, 703, 720->724, 772, 785, 788-791, 841, 851-855, 906, 916-920, 967, 977-981, 1027, 1056->1058, 1058->1145, 1072->1074, 1074->1145, 1088->1145, 1098->1145, 1108-1109, 1118-1119, 1125-1142, 1164, 1173-1180, 1187
src\dmarket\dmarket_api.py                                     796    145    196     34  80.34%   302-305, 309-310, 315-317, 365, 432-433, 462, 498, 514, 527-528, 545, 554-563, 636->848, 663-664, 697-706, 747-748, 752, 778-780, 825-826, 857, 881, 884, 979-985, 996-1007, 1011, 1148-1149, 1158-1177, 1203-1218, 1286->1289, 1304->1321, 1311-1312, 1458-1479, 1513-1523, 1583-1605, 1636-1646, 1709-1717, 1880-1881, 1932-1933, 1957-1958, 2035, 2038, 2041, 2249, 2252, 2279-2288, 2311-2319, 2491-2498, 2808->2811, 2943, 2946-2948, 2951, 2955-2957, 2970-2974, 3041-3049, 3062
src\dmarket\advanced_filters.py                                224     37     76     17  80.67%   174->182, 190-198, 202->210, 205-207, 211-217, 245, 265, 274, 277-278, 302, 321->330, 324, 331, 339, 346-348, 380->379, 385, 409-411, 459, 465, 472, 486-488
src\models\base.py                                              21      3      6      2  81.48%   23, 35, 52
src\dmarket\schemas.py                                         149     19     20      4  81.66%   34, 41, 45-47, 125, 189, 210, 284-286, 290-292, 328, 332, 389-391
src\utils\market_visualizer.py                                 347     49    118     30  81.72%   136, 225-242, 251, 256, 261->248, 263->248, 320-337, 358, 367, 371, 442->446, 485-489, 494->501, 497-498, 586->595, 595->605, 606->628, 664-672, 676-678, 682->691, 684, 687-689, 692, 725, 737-738, 760, 791, 822, 839, 844->843
src\portfolio\analyzer.py                                      182     22     74     22  82.03%   36, 66, 100, 144, 194, 201, 222, 224, 228, 385, 390, 406, 410, 438, 462, 465, 479->482, 482->485, 485->488, 493-494, 499, 514, 517, 521->524, 528
src\utils\rate_limiter.py                                      169     28     66      8  82.13%   121, 165->169, 169->exit, 179->188, 184, 193->212, 202, 235, 253->268, 357, 451-469, 487-505, 521-542
src\utils\audit_logger.py                                      121     16     14      7  82.96%   318-321, 354, 388->391, 391->397, 397->400, 401, 404, 426-452
src\telegram_bot\handlers\commands.py                           68     10     26      6  82.98%   36, 74, 100, 110-112, 130, 146, 183, 209
src\utils\sentry_breadcrumbs.py                                 85      9     42     10  83.46%   52->54, 107->109, 209, 215->217, 219->222, 261, 303, 332, 338->341, 364, 373-380
src\telegram_bot\handlers\price_alerts_handler.py              162     16     50     18  83.96%   93, 135, 139, 142, 224, 228, 259, 295, 360, 364, 367, 391->394, 414->417, 433, 437, 440, 483, 485
src\analytics\backtester.py                                    210     18     72     21  85.46%   91->exit, 132, 139, 251, 261, 265, 287, 351, 361->380, 370->374, 375->380, 386->347, 392, 409-412, 463, 479, 550, 579, 584->583, 591, 596
src\dmarket\portfolio_manager.py                               332     33    102     16  86.87%   269->272, 313->311, 319->317, 325->323, 388, 395, 421-423, 436, 452-454, 466-469, 487-489, 586-589, 599-602, 643, 647, 725-727, 744, 763-790, 886->894
src\telegram_bot\handlers\liquidity_settings_handler.py        127      7     52     16  87.15%   55, 199->exit, 219, 245->exit, 265, 268->271, 284->exit, 300, 303->306, 320->exit, 336, 339->342, 355->exit, 371, 422->exit, 452
src\telegram_bot\webhook_handler.py                            191     15     46     15  87.34%   101->104, 124->127, 127->130, 146->151, 167->170, 204->207, 303->311, 315-316, 318, 347->349, 356-357, 361->exit, 366->exit, 385, 388->366, 391, 394-395, 402-403, 410-411, 422-423
src\dmarket\backtester.py                                      341     30    106     18  87.47%   150-151, 270, 367, 455, 466, 538, 546, 559-561, 569-582, 668, 670, 780->779, 786, 794->793, 931->929, 1034, 1068->1067, 1073, 1079, 1101-1110
src\telegram_bot\handlers\target_handler.py                     92      9     30      6  87.70%   135, 150-154, 220, 254, 264-273, 301, 302->exit
src\containers.py                                               67      8      8      1  88.00%   157, 227, 262-263, 279-280, 285-286
src\telegram_bot\commands\basic_commands.py                     26      2      8      2  88.24%   23, 45
src\telegram_bot\handlers\settings_handlers.py                 169     11     54     14  88.79%   90, 94, 128, 149, 156, 195, 236, 268, 307, 328->338, 357->exit, 383, 391->395, 403, 427->exit
src\dmarket\liquidity_analyzer.py                              162     14     46      9  88.94%   177-184, 246-247, 289-298, 347->339, 354, 377->375, 381, 387, 530, 534
src\utils\health_monitor.py                                    179     16     44      8  89.24%   194, 263, 277-281, 323-333, 384->395, 409->406, 411-412, 431->440, 444->exit, 450-452
src\telegram_bot\handlers\scanner_handler.py                   183     16     58      7  89.63%   83, 86-89, 102-103, 206->exit, 445-457, 505, 518->522
src\telegram_bot\dependencies.py                                87      8     26      1  90.27%   189-194, 248-249
src\utils\discord_notifier.py                                  103      5     24      7  90.55%   96, 99, 198->202, 226->235, 237, 325, 333
src\telegram_bot\keyboards\filters.py                           70      3     30      4  91.00%   75->74, 130-141, 255->264, 272->276
src\telegram_bot\handlers\dmarket_status.py                     69      3     20      4  92.13%   37, 51, 98, 104->111
src\telegram_bot\notifications\storage.py                       83      7     10      0  92.47%   58, 89-91, 145, 154-155
src\portfolio\models.py                                        156      7     24      6  92.78%   94, 274->273, 291, 307->306, 318, 367, 384-394
src\dmarket\models\market_models.py                            257     17      6      0  93.54%   183-184, 194-195, 208, 291-292, 299-300, 338-339, 365-366, 474-475, 496, 544
src\dmarket\smart_market_finder.py                             297     14     96     11  93.64%   147, 222, 230->219, 241, 277-279, 325, 353, 474, 526, 550, 761-762, 800
src\dmarket\arbitrage\search.py                                119      4     48      6  94.01%   197->203, 278-280, 340->327, 405->409, 412->416, 416->421, 423
src\utils\json_utils.py                                         29      1     10      1  94.87%   82
src\telegram_bot\handlers\error_handlers.py                     29      2     12      0  95.12%   78-79
src\utils\performance.py                                        76      1     20      3  95.83%   43->exit, 110, 113->exit
src\utils\websocket_client.py                                  176      4     54      5  96.09%   71->75, 86->90, 134->122, 198->exit, 207, 214, 316-317
src\utils\memory_cache.py                                      135      4     20      1  96.77%   64, 73-74, 84
src\analytics\__init__.py                                        3      0      0      0 100.00%
src\dmarket\__init__.py                                          4      0      0      0 100.00%
src\dmarket\arbitrage\__init__.py                                8      0      0      0 100.00%
src\dmarket\arbitrage\constants.py                              68      0      0      0 100.00%
src\dmarket\arbitrage\core.py                                  131      0     46      0 100.00%
src\dmarket\filters\__init__.py                                  1      0      0      0 100.00%
src\dmarket\game_filters.py                                      2      0      0      0 100.00%
src\dmarket\liquidity_rules.py                                  27      0      8      0 100.00%
src\dmarket\models\__init__.py                                   1      0      0      0 100.00%
src\dmarket\scanner\__init__.py                                  4      0      0      0 100.00%
src\dmarket\scanner\levels.py                                   20      0      2      0 100.00%
src\dmarket\targets\__init__.py                                  4      0      0      0 100.00%
src\interfaces.py                                                2      0      0      0 100.00%
src\models\__init__.py                                           6      0      0      0 100.00%
src\models\alert.py                                             21      0      0      0 100.00%
src\models\log.py                                               22      0      0      0 100.00%
src\models\market.py                                            29      0      0      0 100.00%
src\models\target.py                                            50      0      0      0 100.00%
src\models\user.py                                              40      0      0      0 100.00%
src\portfolio\__init__.py                                        4      0      0      0 100.00%
src\telegram_bot\commands\__init__.py                            1      0      0      0 100.00%
src\telegram_bot\constants.py                                   18      0      0      0 100.00%
src\telegram_bot\keyboards\__init__.py                           8      0      0      0 100.00%
src\telegram_bot\localization.py                                 1      0      0      0 100.00%
src\telegram_bot\notifications\__init__.py                       9      0      0      0 100.00%
src\telegram_bot\notifications\constants.py                      7      0      0      0 100.00%
src\telegram_bot\notifier.py                                     6      0      0      0 100.00%
src\utils\api_circuit_breaker.py                                13      0      0      0 100.00%
src\utils\retry_decorator.py                                    10      0      0      0 100.00%
---------------------------------------------------------------------------------------------------------
TOTAL                                                        22339   9729   6970    953  53.35%

5 empty files skipped.
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml
Coverage JSON written to file coverage.json
============================ slowest 10 durations =============================
60.01s call     tests/utils/test_rate_limiter.py::TestHandle429::test_handle_429_max_wait_time
4.66s call     tests/property_based/test_arbitrage_properties.py::TestProfitCalculation::test_profit_is_deterministic
3.78s call     tests/utils/test_analytics_extended.py::test_multiple_charts_generation_performance
3.31s call     tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerEdgeCases::test_scan_all_levels_with_api_errors
3.02s call     tests/utils/test_rate_limiter.py::TestHandle429::test_handle_429_exponential_backoff
3.01s call     tests/telegram_bot/test_webhook_handler.py::TestWebhookFailover::test_switch_to_polling_on_failure
2.52s call     tests/utils/test_memory_cache.py::TestTTLCacheTTLBehavior::test_refresh_ttl_on_get
2.31s call     tests/integration/test_arbitrage_edge_cases.py::TestArbitrageScannerPerformance::test_scan_multiple_pages_performance
2.28s call     tests/integration/test_api_with_httpx_mock.py::TestDMarketAPIEdgeCasesHTTPX::test_rate_limit_with_multiple_retries
1.78s call     tests/utils/test_analytics_extended.py::test_chart_generation_performance
=========================== short test summary info ===========================
FAILED tests/telegram_bot/handlers/test_market_analysis_handler.py::test_show_trending_items_results
FAILED tests/telegram_bot/handlers/test_market_analysis_handler.py::test_handle_pagination_analysis_prev_page
FAILED tests/telegram_bot/test_constants_and_basic_commands.py::test_env_path_defined
FAILED tests/telegram_bot/test_constants_and_basic_commands.py::test_user_profiles_file_defined
FAILED tests/telegram_bot/test_constants_and_basic_commands.py::test_arbitrage_modes_defined
FAILED tests/telegram_bot/test_intramarket_handler.py::TestHandleIntramarketCallback::test_handle_anomaly_callback
FAILED tests/telegram_bot/test_intramarket_handler.py::TestHandleIntramarketCallback::test_handle_trend_callback
FAILED tests/telegram_bot/test_intramarket_handler.py::TestHandleIntramarketCallback::test_handle_rare_callback
FAILED tests/telegram_bot/test_notifier.py::test_check_all_alerts_daily_limit_reached
FAILED tests/telegram_bot/test_notifier.py::test_check_all_alerts_exception_handling
FAILED tests/telegram_bot/test_notifier_alerts.py::test_check_all_alerts_with_triggered_alert
FAILED tests/telegram_bot/test_pagination.py::test_get_pagination_keyboard - ...
FAILED tests/test_crash_notif.py::TestCrashNotifications::test_send_crash_notification_basic
FAILED tests/test_crash_notif.py::TestCrashNotifications::test_send_crash_notification_with_long_traceback
FAILED tests/test_crash_notif.py::TestCrashNotifications::test_send_crash_notification_without_queue
FAILED tests/test_crash_notif.py::TestCrashNotifications::test_crash_notification_formatting
FAILED tests/test_crash_notif.py::TestCrashNotifications::test_crash_notification_priorities
FAILED tests/test_crash_notifications.py::TestCrashNotifications::test_send_crash_notification_basic
FAILED tests/test_crash_notifications.py::TestCrashNotifications::test_send_crash_notification_with_long_traceback
FAILED tests/test_crash_notifications.py::TestCrashNotifications::test_send_crash_notification_without_queue
FAILED tests/test_crash_notifications.py::TestCrashNotifications::test_crash_notification_formatting
FAILED tests/test_crash_notifications.py::TestCrashNotifications::test_crash_notification_priorities
FAILED tests/test_crash_notifications_simple.py::TestCrashNotifications::test_send_crash_notification_basic
FAILED tests/test_crash_notifications_simple.py::TestCrashNotifications::test_send_crash_notification_with_long_traceback
FAILED tests/test_crash_notifications_simple.py::TestCrashNotifications::test_send_crash_notification_without_queue
FAILED tests/test_crash_notifications_simple.py::TestCrashNotifications::test_crash_notification_formatting
FAILED tests/test_crash_notifications_simple.py::TestCrashNotifications::test_crash_notification_priorities
FAILED tests/test_keyboards.py::test_get_arbitrage_keyboard - AssertionError:...
FAILED tests/test_keyboards.py::test_get_game_selection_keyboard - AssertionE...
FAILED tests/test_keyboards.py::test_get_auto_arbitrage_keyboard - AssertionE...
FAILED tests/test_keyboards.py::test_get_back_to_arbitrage_keyboard - Asserti...
FAILED tests/test_keyboards.py::test_get_main_menu_keyboard - AssertionError:...
FAILED tests/test_keyboards.py::test_get_settings_keyboard - AssertionError: ...
FAILED tests/test_keyboards.py::test_get_games_keyboard - assert False
FAILED tests/test_keyboards.py::test_get_pagination_keyboard - TypeError: get...
FAILED tests/test_main.py::TestApplication::test_initialize_sets_all_components_on_success
FAILED tests/test_main.py::TestApplication::test_initialize_with_production_mode_initializes_database
FAILED tests/test_main.py::TestApplication::test_initialize_in_production_mode_tests_api_connection
FAILED tests/test_main.py::TestApplication::test_initialize_continues_when_api_connection_fails
FAILED tests/test_main.py::TestLogging::test_logging_setup_called - TypeError...
FAILED tests/test_targets.py::TestCreateTarget::test_create_target_returns_success_with_valid_data
FAILED tests/test_targets.py::TestCreateTarget::test_create_target_with_attributes_includes_attrs_in_api_call
FAILED tests/test_targets.py::TestCreateTarget::test_create_target_raises_error_when_price_is_too_high
FAILED tests/test_targets.py::TestCreateTarget::test_create_target_raises_error_when_price_has_too_many_decimals
FAILED tests/test_targets.py::TestCreateTarget::test_create_target_game_conversion
FAILED tests/test_targets.py::TestCreateTarget::test_create_target_price_conversion_to_cents
FAILED tests/test_targets.py::TestCreateTarget::test_create_target_api_error
FAILED tests/test_targets.py::TestCreateTarget::test_create_target_invalid_api_response
FAILED tests/test_targets.py::TestGetUserTargets::test_get_user_targets_success
FAILED tests/test_targets.py::TestGetUserTargets::test_get_user_targets_status_filter
FAILED tests/test_targets.py::TestDeleteTarget::test_delete_target_success - ...
FAILED tests/test_targets.py::TestDeleteAllTargets::test_delete_all_targets_without_confirmation
FAILED tests/test_targets.py::TestDeleteAllTargets::test_delete_all_targets_with_confirmation
FAILED tests/test_targets.py::TestDeleteAllTargets::test_delete_all_targets_no_active_targets
FAILED tests/test_targets.py::TestDeleteAllTargets::test_delete_all_targets_partial_failure
FAILED tests/test_targets.py::TestGetTargetsByTitle::test_get_targets_by_title_success
FAILED tests/test_targets.py::TestCreateSmartTargets::test_create_smart_targets_success
FAILED tests/test_targets.py::TestCreateSmartTargets::test_create_smart_targets_multiple_items
FAILED tests/test_targets.py::TestCreateSmartTargets::test_create_smart_targets_max_limit
FAILED tests/test_targets.py::TestCreateSmartTargets::test_create_smart_targets_item_not_found
FAILED tests/test_targets.py::TestCreateSmartTargets::test_create_smart_targets_minimum_price
FAILED tests/test_targets.py::TestCreateSmartTargets::test_create_smart_targets_with_attributes
FAILED tests/test_targets.py::TestCreateSmartTargets::test_create_smart_targets_skip_invalid_items
FAILED tests/test_targets.py::TestGetClosedTargets::test_get_closed_targets_success
FAILED tests/test_targets.py::TestGetClosedTargets::test_get_closed_targets_with_status_filter
FAILED tests/test_targets.py::TestGetTargetStatistics::test_get_target_statistics_success
FAILED tests/test_targets.py::TestGetTargetStatistics::test_get_target_statistics_no_closed_targets
FAILED tests/test_targets.py::TestGetTargetStatistics::test_get_target_statistics_partial_success
FAILED tests/test_targets.py::TestTargetManagerIntegration::test_full_target_workflow
FAILED tests/test_targets.py::TestTargetManagerIntegration::test_smart_targets_workflow
FAILED tests/test_targets.py::TestTargetManagerEdgeCases::test_concurrent_target_creation
FAILED tests/test_targets.py::TestTargetManagerEdgeCases::test_extremely_high_price
FAILED tests/test_targets.py::TestTargetManagerEdgeCases::test_extremely_low_price
================= 73 failed, 2517 passed in 231.08s (0:03:51) =================

# üìä –ê–Ω–∞–ª–∏–∑ –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 24 –Ω–æ—è–±—Ä—è 2025 –≥.
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 24 –Ω–æ—è–±—Ä—è 2025 –≥.
**–¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: 25% ‚Üí **–¶–µ–ª—å: 80-85%**

---

## üéØ –¶–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏ –∏ –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –ø–æ —É–≤–µ–ª–∏—á–µ–Ω–∏—é –ø–æ–∫—Ä—ã—Ç–∏—è –¥–æ —Ü–µ–ª–µ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è 80-85%.

---

## üìà –¢–µ–∫—É—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

| –ú–µ—Ç—Ä–∏–∫–∞                | –ó–Ω–∞—á–µ–Ω–∏–µ         | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ  |
| ---------------------- | ---------------- | ----------------- |
| **–û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**     | 25%              | 80-85%            |
| **–ü—Ä–æ–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤**    | 237/237          | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å 100% |
| **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏** | –ß–∞—Å—Ç–∏—á–Ω–æ –ø–æ–∫—Ä—ã—Ç—ã | 90%+              |
| **–£—Ç–∏–ª–∏—Ç—ã**            | –ù–∏–∑–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ  | 70%+              |

### –ü–æ–∫—Ä—ã—Ç–∏–µ –ø–æ –º–æ–¥—É–ª—è–º

#### ‚úÖ –•–æ—Ä–æ—à–æ –ø–æ–∫—Ä—ã—Ç—ã–µ –º–æ–¥—É–ª–∏ (70%+)

1. **src/dmarket/arbitrage.py** - ~85%
   - find_arbitrage_opportunities() - –ø–æ–∫—Ä—ã—Ç–æ
   - ArbitrageTrader - –ø–æ–∫—Ä—ã—Ç–æ
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ - –ø–æ–∫—Ä—ã—Ç–æ
   - **–û—Å—Ç–∞–ª–æ—Å—å**: Edge cases –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö

2. **src/dmarket/arbitrage_scanner.py** - ~80%
   - –í—Å–µ 5 —É—Ä–æ–≤–Ω–µ–π (boost, standard, medium, advanced, pro) - –ø–æ–∫—Ä—ã—Ç–æ
   - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ - –ø–æ–∫—Ä—ã—Ç–æ
   - **–û—Å—Ç–∞–ª–æ—Å—å**: WebSocket integration, stress testing

3. **src/dmarket/filters/game_filters.py** - ~90%
   - BaseGameFilter - –ø–æ–∫—Ä—ã—Ç–æ
   - CS2Filter, Dota2Filter, TF2Filter, RustFilter - –ø–æ–∫—Ä—ã—Ç–æ
   - FilterFactory - –ø–æ–∫—Ä—ã—Ç–æ
   - **–û—Å—Ç–∞–ª–æ—Å—å**: –≠–∫–∑–æ—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤

4. **tests/fixtures/** - 100% (—Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ)

#### üü° –°—Ä–µ–¥–Ω–µ –ø–æ–∫—Ä—ã—Ç—ã–µ –º–æ–¥—É–ª–∏ (40-70%)

1. **src/dmarket/dmarket_api.py** - ~60%
   - **–ü–æ–∫—Ä—ã—Ç–æ**:
     - get_balance()
     - get_market_items()
     - create_targets()
     - Rate limiting
   - **–ù–ï –ø–æ–∫—Ä—ã—Ç–æ**:
     - buy_item() - —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
     - sell_item() - —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
     - get_user_inventory() - –Ω–µ –ø–æ–∫—Ä—ã—Ç–æ
     - get_sales_history() - –Ω–µ –ø–æ–∫—Ä—ã—Ç–æ
     - get_aggregated_prices() - —á–∞—Å—Ç–∏—á–Ω–æ
     - WebSocket –º–µ—Ç–æ–¥—ã - –Ω–µ –ø–æ–∫—Ä—ã—Ç–æ

2. **src/dmarket/targets.py** - ~65%
   - **–ü–æ–∫—Ä—ã—Ç–æ**:
     - create_target()
     - get_targets()
     - delete_targets()
     - SmartTargets –±–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
   - **–ù–ï –ø–æ–∫—Ä—ã—Ç–æ**:
     - get_closed_targets()
     - Target –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
     - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω
     - Stateful –æ–ø–µ—Ä–∞—Ü–∏–∏

3. **src/telegram_bot/handlers/** - ~50%
   - **–ü–æ–∫—Ä—ã—Ç–æ**:
     - –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã (/start, /help, /balance)
   - **–ù–ï –ø–æ–∫—Ä—ã—Ç–æ**:
     - –°–ª–æ–∂–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (/arbitrage, /targets)
     - Callback handlers
     - Error handlers
     - State management

#### üî¥ –ù–∏–∑–∫–æ –ø–æ–∫—Ä—ã—Ç—ã–µ –º–æ–¥—É–ª–∏ (<40%)

1. **src/utils/database.py** - ~30%
   - **–ü–æ–∫—Ä—ã—Ç–æ**:
     - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
     - –ë–∞–∑–æ–≤—ã–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
   - **–ù–ï –ø–æ–∫—Ä—ã—Ç–æ**:
     - Migration logic
     - Connection pooling
     - Error recovery
     - Transaction management
     - Backup/restore

2. **src/utils/cache.py** - ~25%
   - **–ü–æ–∫—Ä—ã—Ç–æ**:
     - –ë–∞–∑–æ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
   - **–ù–ï –ø–æ–∫—Ä—ã—Ç–æ**:
     - TTL expiration
     - Cache invalidation
     - Memory management
     - Redis integration

3. **src/utils/rate_limiter.py** - ~35%
   - **–ü–æ–∫—Ä—ã—Ç–æ**:
     - –ë–∞–∑–æ–≤—ã–π rate limiting
   - **–ù–ï –ø–æ–∫—Ä—ã—Ç–æ**:
     - Exponential backoff
     - Per-endpoint limits
     - Burst handling

4. **src/telegram_bot/keyboards.py** - ~20%
   - **–ü–æ–∫—Ä—ã—Ç–æ**: –ù–∏—á–µ–≥–æ
   - **–ù–ï –ø–æ–∫—Ä—ã—Ç–æ**: –í—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä

5. **src/telegram_bot/localization.py** - ~15%
   - **–ü–æ–∫—Ä—ã—Ç–æ**: –ë–∞–∑–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
   - **–ù–ï –ø–æ–∫—Ä—ã—Ç–æ**: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤, fallback

6. **src/utils/prometheus_metrics.py** - 0%
   - **–ù–ï –ø–æ–∫—Ä—ã—Ç–æ**: –í—Å—è –º–µ—Ç—Ä–∏–∫–∞

7. **src/utils/websocket_client.py** - 0%
   - **–ù–ï –ø–æ–∫—Ä—ã—Ç–æ**: WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, —Å–æ–±—ã—Ç–∏—è

8. **src/models/** - ~40%
   - **–ü–æ–∫—Ä—ã—Ç–æ**: –ë–∞–∑–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ (User, Target)
   - **–ù–ï –ø–æ–∫—Ä—ã—Ç–æ**: –°–ª–æ–∂–Ω—ã–µ —Å–≤—è–∑–∏, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –º–∏–≥—Ä–∞—Ü–∏–∏

---

## üìã –ü–ª–∞–Ω —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø–æ–∫—Ä—ã—Ç–∏—è –¥–æ 80%+

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç P0) - 4 –Ω–µ–¥–µ–ª–∏

**–¶–µ–ª—å**: –î–æ–≤–µ—Å—Ç–∏ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–¥—É–ª–µ–π –¥–æ 90%+

#### –ù–µ–¥–µ–ª—è 1: DMarket API Client

**–§–∞–π–ª**: `src/dmarket/dmarket_api.py`
**–¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: 60% ‚Üí **–¶–µ–ª—å**: 90%

**–ó–∞–¥–∞—á–∏**:
1. ‚úÖ –¢–µ—Å—Ç—ã –¥–ª—è `buy_item()` - –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
   - –£—Å–ø–µ—à–Ω–∞—è –ø–æ–∫—É–ø–∫–∞
   - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤
   - –ù–µ–≤–∞–ª–∏–¥–Ω–∞—è —Ü–µ–Ω–∞
   - Item –Ω–µ –Ω–∞–π–¥–µ–Ω
   - Concurrent purchases

2. ‚úÖ –¢–µ—Å—Ç—ã –¥–ª—è `sell_item()` - –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
   - –£—Å–ø–µ—à–Ω–∞—è –ø—Ä–æ–¥–∞–∂–∞
   - Item –Ω–µ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ
   - –ù–µ–≤–∞–ª–∏–¥–Ω–∞—è —Ü–µ–Ω–∞
   - Duplicate listings

3. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è `get_user_inventory()`
   - –ü—É—Å—Ç–æ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
   - –ë–æ–ª—å—à–æ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å (1000+ items)
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
   - –ü–∞–≥–∏–Ω–∞—Ü–∏—è

4. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è `get_sales_history()`
   - –ò—Å—Ç–æ—Ä–∏—è –∑–∞ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
   - –ü—É—Å—Ç–∞—è –∏—Å—Ç–æ—Ä–∏—è
   - –ë–æ–ª—å—à–æ–π –æ–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö

5. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è `get_aggregated_prices()`
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ items
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ items
   - Edge cases

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏**: 20 —á–∞—Å–æ–≤

#### –ù–µ–¥–µ–ª—è 2: Target Manager

**–§–∞–π–ª**: `src/dmarket/targets.py`
**–¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: 65% ‚Üí **–¶–µ–ª—å**: 90%

**–ó–∞–¥–∞—á–∏**:
1. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è `get_closed_targets()`
   - –†–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º
   - –ü–∞–≥–∏–Ω–∞—Ü–∏—è

2. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è Target –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
   - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö targets
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - Retry logic

3. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è SmartTargets - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —Ü–µ–Ω
   - –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑
   - Bulk operations

4. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω
   - Price adjustments
   - Market changes
   - Error handling

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏**: 16 —á–∞—Å–æ–≤

#### –ù–µ–¥–µ–ª—è 3: Database Manager

**–§–∞–π–ª**: `src/utils/database.py`
**–¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: 30% ‚Üí **–¶–µ–ª—å**: 85%

**–ó–∞–¥–∞—á–∏**:
1. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
   - Upgrade/downgrade
   - Data migration
   - Schema changes

2. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è connection pooling
   - Pool exhaustion
   - Connection recovery
   - Concurrent access

3. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
   - Commit/rollback
   - Nested transactions
   - Deadlock handling

4. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è error recovery
   - Database unavailable
   - Corrupted data
   - Connection timeout

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏**: 18 —á–∞—Å–æ–≤

#### –ù–µ–¥–µ–ª—è 4: Telegram Bot Handlers

**–§–∞–π–ª**: `src/telegram_bot/handlers/`
**–¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: 50% ‚Üí **–¶–µ–ª—å**: 85%

**–ó–∞–¥–∞—á–∏**:
1. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è /arbitrage –∫–æ–º–∞–Ω–¥—ã
   - –í—Å–µ —É—Ä–æ–≤–Ω–∏
   - –†–∞–∑–ª–∏—á–Ω—ã–µ –∏–≥—Ä—ã
   - Error states
   - Timeout handling

2. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è /targets –∫–æ–º–∞–Ω–¥—ã
   - –°–æ–∑–¥–∞–Ω–∏–µ
   - –ü—Ä–æ—Å–º–æ—Ç—Ä
   - –£–¥–∞–ª–µ–Ω–∏–µ
   - Bulk operations

3. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è callback handlers
   - Button interactions
   - State transitions
   - Error handling

4. üî≤ –¢–µ—Å—Ç—ã –¥–ª—è error handlers
   - Network errors
   - API errors
   - User errors
   - Graceful degradation

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏**: 20 —á–∞—Å–æ–≤

**–ò—Ç–æ–≥–æ –§–∞–∑–∞ 1**: 74 —á–∞—Å–∞ (~2 –º–µ—Å—è—Ü–∞ –¥–ª—è 1 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)

---

### –§–∞–∑–∞ 2: –£—Ç–∏–ª–∏—Ç—ã –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç P1) - 2 –Ω–µ–¥–µ–ª–∏

**–¶–µ–ª—å**: –î–æ–≤–µ—Å—Ç–∏ –ø–æ–∫—Ä—ã—Ç–∏–µ —É—Ç–∏–ª–∏—Ç –¥–æ 70%+

#### –ù–µ–¥–µ–ª—è 5: Cache –∏ Rate Limiter

**–ó–∞–¥–∞—á–∏**:
1. üî≤ `src/utils/cache.py` - 25% ‚Üí 75%
   - TTL expiration tests
   - Cache invalidation
   - Memory limits
   - Redis integration

2. üî≤ `src/utils/rate_limiter.py` - 35% ‚Üí 80%
   - Exponential backoff
   - Per-endpoint limits
   - Burst handling
   - Concurrent requests

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏**: 16 —á–∞—Å–æ–≤

#### –ù–µ–¥–µ–ª—è 6: Keyboards, Localization, Metrics

**–ó–∞–¥–∞—á–∏**:
1. üî≤ `src/telegram_bot/keyboards.py` - 20% ‚Üí 70%
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
   - Callback data validation
   - State-based keyboards

2. üî≤ `src/telegram_bot/localization.py` - 15% ‚Üí 70%
   - –í—Å–µ —è–∑—ã–∫–∏ (RU, EN, ES, DE)
   - Fallback logic
   - Dynamic translations

3. üî≤ `src/utils/prometheus_metrics.py` - 0% ‚Üí 60%
   - –ú–µ—Ç—Ä–∏–∫–∏ —Å–±–æ—Ä–∞
   - Counter increments
   - Histogram recordings
   - Gauge updates

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏**: 18 —á–∞—Å–æ–≤

**–ò—Ç–æ–≥–æ –§–∞–∑–∞ 2**: 34 —á–∞—Å–∞ (~1 –º–µ—Å—è—Ü –¥–ª—è 1 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)

---

### –§–∞–∑–∞ 3: –ú–æ–¥–µ–ª–∏ –∏ WebSocket (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç P2) - 2 –Ω–µ–¥–µ–ª–∏

**–¶–µ–ª—å**: –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –º–æ–¥–µ–ª–µ–π –∏ WebSocket

#### –ù–µ–¥–µ–ª—è 7: Models

**–ó–∞–¥–∞—á–∏**:
1. üî≤ `src/models/` - 40% ‚Üí 80%
   - User model - –≤—Å–µ –ø–æ–ª—è
   - Target model - —Å–≤—è–∑–∏
   - MarketData model
   - Validation rules
   - Relationships

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏**: 12 —á–∞—Å–æ–≤

#### –ù–µ–¥–µ–ª—è 8: WebSocket

**–ó–∞–¥–∞—á–∏**:
1. üî≤ `src/utils/websocket_client.py` - 0% ‚Üí 70%
   - Connection establishment
   - Message handling
   - Reconnection logic
   - Event subscriptions
   - Error handling

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏**: 16 —á–∞—Å–æ–≤

**–ò—Ç–æ–≥–æ –§–∞–∑–∞ 3**: 28 —á–∞—Å–æ–≤

---

## üìä –û–±—â–∏–π –ø–ª–∞–Ω

| –§–∞–∑–∞       | –ó–∞–¥–∞—á–∏             | –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ | –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è |
| ---------- | ------------------ | -------------- | ------------------- |
| **–§–∞–∑–∞ 1** | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏ | 74 —á–∞—Å–∞        | 25% ‚Üí 60%           |
| **–§–∞–∑–∞ 2** | –£—Ç–∏–ª–∏—Ç—ã            | 34 —á–∞—Å–∞        | 60% ‚Üí 75%           |
| **–§–∞–∑–∞ 3** | –ú–æ–¥–µ–ª–∏ + WebSocket | 28 —á–∞—Å–∞        | 75% ‚Üí 82%           |
| **–ò–¢–û–ì–û**  | **–í—Å–µ –∑–∞–¥–∞—á–∏**     | **136 —á–∞—Å–æ–≤**  | **25% ‚Üí 82%**       |

**–î–ª—è 1 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞**: ~4 –º–µ—Å—è—Ü–∞ (–ø—Ä–∏ 40 —á–∞—Å–∞—Ö/–Ω–µ–¥–µ–ª—é)
**–î–ª—è 2 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**: ~2 –º–µ—Å—è—Ü–∞

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–∫—Ä—ã—Ç—ã –ø–µ—Ä–≤—ã–º–∏)

1. **src/dmarket/dmarket_api.py** - —è–¥—Ä–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API
2. **src/dmarket/targets.py** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
3. **src/utils/database.py** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
4. **src/telegram_bot/handlers/** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

5. **src/utils/cache.py** - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
6. **src/utils/rate_limiter.py** - —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
7. **src/telegram_bot/keyboards.py** - UX
8. **src/telegram_bot/localization.py** - i18n

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å)

9. **src/utils/prometheus_metrics.py** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
10. **src/utils/websocket_client.py** - advanced features
11. **src/models/** - –µ—Å–ª–∏ —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üîÑ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ—Ü–µ—Å—Å—É

### –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞

1. **–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã**: –∑–∞–ø—É—Å—Ç–∏—Ç—å `pytest --cov`
2. **–ü–æ—Å–ª–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞**: –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã —Å—Ä–∞–∑—É
3. **–ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º**: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ coverage –Ω–µ —É–ø–∞–ª–æ
4. **–í –∫–æ–Ω—Ü–µ –¥–Ω—è**: –æ–±–Ω–æ–≤–∏—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç

### Weekly Reviews

–ö–∞–∂–¥—É—é –ø—è—Ç–Ω–∏—Ü—É:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π coverage report
2. –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ —ç—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ
3. –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–Ω –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –Ω–µ–¥–µ–ª—é
4. –ó–∞–ª–∏—Ç—å –æ—Ç—á—ë—Ç –≤ htmlcov/ –¥–ª—è review

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–æ–≤

–ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (Single Responsibility)
- ‚úÖ –ë—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º –æ—Ç –¥—Ä—É–≥–∏—Ö —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ò–º–µ—Ç—å –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ –∏–º—è
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AAA –ø–∞—Ç—Ç–µ—Ä–Ω (Arrange-Act-Assert)
- ‚úÖ –ü–æ–∫—Ä—ã–≤–∞—Ç—å edge cases
- ‚úÖ –ë—ã—Ç—å –±—ã—Å—Ç—Ä—ã–º (< 100ms –¥–ª—è unit —Ç–µ—Å—Ç–∞)

---

## üìà –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# –û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
pytest --cov=src --cov-report=term

# HTML –æ—Ç—á—ë—Ç —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π
pytest --cov=src --cov-report=html

# –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è
pytest --cov=src/dmarket/dmarket_api.py --cov-report=term-missing

# –¢–æ–ª—å–∫–æ –Ω–µ–ø–æ–∫—Ä—ã—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
pytest --cov=src --cov-report=term-missing | grep "TOTAL"

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á—ë—Ç –≤ —Ñ–∞–π–ª
pytest --cov=src --cov-report=term > coverage_report_$(date +%Y%m%d).txt
```

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å `--cov-report=html`, –æ—Ç–∫—Ä–æ–π—Ç–µ:
```
htmlcov/index.html
```

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –Ω–µ–ø–æ–∫—Ä—ã—Ç–æ–≥–æ –∫–æ–¥–∞.

---

## üéì –û–±—É—á–∞—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã

- [INTEGRATION_TESTING_GUIDE.md](INTEGRATION_TESTING_GUIDE.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ integration —Ç–µ—Å—Ç–∞–º
- [testing_guide.md](testing_guide.md) - –û–±—â–µ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- [code_quality_tools_guide.md](code_quality_tools_guide.md) - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞

### –í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã

- [pytest documentation](https://docs.pytest.org/)
- [Coverage.py docs](https://coverage.readthedocs.io/)
- [Real Python - Testing Guide](https://realpython.com/pytest-python-testing/)

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º

- [ ] –û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ >= 80%
- [ ] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏ >= 90%
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (0 failures)
- [ ] HTML –æ—Ç—á—ë—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
- [ ] Coverage badge –æ–±–Ω–æ–≤–ª—ë–Ω –≤ README
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 24 –Ω–æ—è–±—Ä—è 2025 –≥.
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π**: DMarket Bot Development Team
**–°—Ç–∞—Ç—É—Å**: üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ (25% ‚Üí —Ü–µ–ª—å 80%)

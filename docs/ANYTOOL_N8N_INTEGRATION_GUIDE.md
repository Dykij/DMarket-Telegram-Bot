# ü§ñ AnyTool –∏ n8n: –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ AI –∞–≥–µ–Ω—Ç–æ–≤

**–í–µ—Ä—Å–∏—è**: 1.0  
**–î–∞—Ç–∞**: –î–µ–∫–∞–±—Ä—å 2025  
**–°—Ç–∞—Ç—É—Å**: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–≤—É—Ö –º–æ—â–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ AI –∞–≥–µ–Ω—Ç–æ–≤:

1. **HKUDS/AnyTool** ‚Äî Universal Tool-Use Layer –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤
2. **n8n** ‚Äî Visual workflow automation –¥–ª—è production-grade AI –∞–≥–µ–Ω—Ç–æ–≤

–û–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –º–æ–≥—É—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∏—Ç—å —Ä–∞–±–æ—Ç—É GitHub Copilot –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞.

---

## üéØ –¶–µ–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

| –¶–µ–ª—å | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|------|-----------|-----------|
| –£–ª—É—á—à–µ–Ω–∏–µ GitHub Copilot workflow | AnyTool MCP | üî¥ –í—ã—Å–æ–∫–∏–π |
| Visual automation –¥–ª—è DevOps | n8n | üü° –°—Ä–µ–¥–Ω–∏–π |
| AI-powered trading decisions | AnyTool + n8n | üü° –°—Ä–µ–¥–Ω–∏–π |
| Multi-agent orchestration | AnyTool | üü¢ –ù–∏–∑–∫–∏–π |

---

## üìä –ú–∞—Ç—Ä–∏—Ü–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å DMarket ToS

### ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | AnyTool Backend | DMarket ToS | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|---------|-----------------|-------------|------------|
| API –≤—ã–∑–æ–≤—ã | MCP | ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ | –¢–æ—Ä–≥–æ–≤–ª—è —á–µ—Ä–µ–∑ Trading API |
| –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã | Shell | ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ | –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö, –±—ç–∫–∞–ø—ã |
| CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è | Shell | ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ | –î–µ–ø–ª–æ–π, —Ç–µ—Å—Ç—ã |
| n8n workflow —Å API | n8n + HTTP | ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ API |

### ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | AnyTool Backend | DMarket ToS | –ü—Ä–∏—á–∏–Ω–∞ |
|---------|-----------------|-------------|---------|
| GUI automation | GUI | ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ | "no automated means (robots)" |
| Web scraping | Web | ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ | Explicitly forbidden |
| Browser automation | GUI | ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ | "spiders, scrapers" clause |
| Headless browsing | Web | ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ | –ü–æ–¥–ø–∞–¥–∞–µ—Ç –ø–æ–¥ ToS |

---

## üîß –ß–∞—Å—Ç—å 1: AnyTool Integration

### –ß—Ç–æ —Ç–∞–∫–æ–µ AnyTool?

**AnyTool** ‚Äî —ç—Ç–æ Universal Tool-Use Layer –æ—Ç HKUDS (Hong Kong University of Science), –∫–æ—Ç–æ—Ä—ã–π —Ä–µ—à–∞–µ—Ç —Ç—Ä–∏ –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã AI –∞–≥–µ–Ω—Ç–æ–≤:

1. **Tool Context Overload** ‚Äî —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—é—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
2. **Quality Issues** ‚Äî –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã–µ community tools
3. **Limited Scope** ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ MCP —Å–µ—Ä–≤–µ—Ä–æ–≤

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ AnyTool

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        AnyTool Layer                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ
‚îÇ  ‚îÇ   MCP   ‚îÇ  ‚îÇ  Shell  ‚îÇ  ‚îÇ   GUI   ‚îÇ  ‚îÇ   Web   ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ Backend ‚îÇ  ‚îÇ Backend ‚îÇ  ‚îÇ Backend ‚îÇ  ‚îÇ Backend ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ   ‚úÖ    ‚îÇ  ‚îÇ   ‚úÖ    ‚îÇ  ‚îÇ   ‚ùå    ‚îÇ  ‚îÇ   ‚ùå    ‚îÇ            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îÇ       ‚îÇ            ‚îÇ            ‚îÇ            ‚îÇ                  ‚îÇ
‚îÇ       ‚ñº            ‚ñº            ‚ñº            ‚ñº                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ              Smart Tool RAG & Quality Tracking           ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    DMarket Trading Bot                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  DMarket API    ‚îÇ  ‚îÇ  Telegram Bot   ‚îÇ  ‚îÇ  Arbitrage     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  Client         ‚îÇ  ‚îÇ  Handlers       ‚îÇ  ‚îÇ  Scanner       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ AnyTool –¥–ª—è DMarket

#### –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```python
from anytool import AnyTool
from anytool.tool_layer import AnyToolConfig

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–ï–ó –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö –±—ç–∫–µ–Ω–¥–æ–≤
config = AnyToolConfig(
    # LLM Configuration
    llm_model="anthropic/claude-sonnet-4-5",
    llm_enable_thinking=False,
    llm_timeout=120.0,
    
    # –¢–û–õ–¨–ö–û —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –±—ç–∫–µ–Ω–¥—ã (–ë–ï–ó "gui" –∏ "web")
    backend_scope=["mcp", "shell", "system"],
    
    # Recording –¥–ª—è –∞—É–¥–∏—Ç–∞
    enable_recording=True,
    recording_backends=["mcp", "shell"],
    recording_log_dir="./logs/anytool",
    
    # Logging
    log_level="INFO",
)

async def execute_safe_task(task: str) -> dict:
    """–í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á—É —á–µ—Ä–µ–∑ AnyTool –±–µ–∑–æ–ø–∞—Å–Ω–æ."""
    async with AnyTool(config=config) as tool_layer:
        result = await tool_layer.execute(task)
        return result
```

#### MCP Server –¥–ª—è DMarket API

–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ MCP —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è DMarket:

```json
// anytool/config/config_mcp.json
{
  "mcpServers": {
    "dmarket": {
      "command": "python",
      "args": ["-m", "src.mcp_server.dmarket_mcp"],
      "env": {
        "DMARKET_PUBLIC_KEY": "${DMARKET_PUBLIC_KEY}",
        "DMARKET_SECRET_KEY": "${DMARKET_SECRET_KEY}"
      }
    },
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "${GITHUB_TOKEN}"
      }
    }
  }
}
```

#### –ü—Ä–∏–º–µ—Ä MCP Server –¥–ª—è DMarket

```python
# src/mcp_server/dmarket_mcp.py
"""MCP Server –¥–ª—è DMarket Trading API."""

from mcp.server import Server
from mcp.server.models import Tool, TextContent
from src.dmarket.dmarket_api import DMarketAPI

server = Server("dmarket-mcp")
api_client = DMarketAPI()

@server.list_tools()
async def list_tools():
    """–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤."""
    return [
        Tool(
            name="get_balance",
            description="–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞ DMarket",
            inputSchema={
                "type": "object",
                "properties": {},
                "required": []
            }
        ),
        Tool(
            name="get_market_items",
            description="–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ DMarket",
            inputSchema={
                "type": "object",
                "properties": {
                    "game": {"type": "string", "enum": ["csgo", "dota2", "tf2", "rust"]},
                    "price_from": {"type": "integer", "description": "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –≤ —Ü–µ–Ω—Ç–∞—Ö"},
                    "price_to": {"type": "integer", "description": "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –≤ —Ü–µ–Ω—Ç–∞—Ö"},
                    "limit": {"type": "integer", "default": 100}
                },
                "required": ["game"]
            }
        ),
        Tool(
            name="create_target",
            description="–°–æ–∑–¥–∞—Ç—å —Ç–∞—Ä–≥–µ—Ç (buy order) –Ω–∞ –ø–æ–∫—É–ø–∫—É –ø—Ä–µ–¥–º–µ—Ç–∞",
            inputSchema={
                "type": "object",
                "properties": {
                    "game": {"type": "string"},
                    "title": {"type": "string"},
                    "price": {"type": "integer", "description": "–¶–µ–Ω–∞ –≤ —Ü–µ–Ω—Ç–∞—Ö"},
                    "amount": {"type": "integer", "default": 1}
                },
                "required": ["game", "title", "price"]
            }
        ),
        Tool(
            name="scan_arbitrage",
            description="–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏",
            inputSchema={
                "type": "object",
                "properties": {
                    "level": {"type": "string", "enum": ["boost", "standard", "medium", "advanced", "pro"]},
                    "game": {"type": "string", "default": "csgo"},
                    "min_profit_percent": {"type": "number", "default": 5.0}
                },
                "required": ["level"]
            }
        )
    ]

@server.call_tool()
async def call_tool(name: str, arguments: dict):
    """–í—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞."""
    if name == "get_balance":
        balance = await api_client.get_balance()
        return [TextContent(type="text", text=str(balance))]
    
    elif name == "get_market_items":
        items = await api_client.get_market_items(**arguments)
        return [TextContent(type="text", text=str(items))]
    
    elif name == "create_target":
        result = await api_client.create_target(**arguments)
        return [TextContent(type="text", text=str(result))]
    
    elif name == "scan_arbitrage":
        from src.dmarket.arbitrage_scanner import ArbitrageScanner
        scanner = ArbitrageScanner(api_client)
        opportunities = await scanner.scan_level(**arguments)
        return [TextContent(type="text", text=str(opportunities))]

if __name__ == "__main__":
    import asyncio
    asyncio.run(server.run())
```

### –£–ª—É—á—à–µ–Ω–∏—è –æ—Ç AnyTool

#### 1. Smart Tool RAG

AnyTool –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Progressive Tool Filtering –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:

```
–ó–∞–ø—Ä–æ—Å: "–ù–∞–π–¥–∏ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è CS:GO"
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Stage 1: Server Selection    ‚îÇ  ‚Üí –í—ã–±—Ä–∞—Ç—å dmarket MCP server
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Stage 2: Tool Name Matching  ‚îÇ  ‚Üí scan_arbitrage, get_market_items
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Stage 3: Semantic Search     ‚îÇ  ‚Üí scan_arbitrage (best match)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Stage 4: LLM Ranking         ‚îÇ  ‚Üí –§–∏–Ω–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### 2. Tool Quality Tracking

```python
# AnyTool –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
{
    "tool_name": "get_market_items",
    "call_count": 150,
    "success_rate": 0.95,
    "avg_latency_ms": 450,
    "description_quality": 0.85,  # LLM-–æ—Ü–µ–Ω–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è
    "last_failure": "2025-12-10T15:30:00Z"
}
```

#### 3. Self-Healing Tool Management

–ü—Ä–∏ —Å–±–æ–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ AnyTool –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞
- –õ–æ–≥–∏—Ä—É–µ—Ç –∏–Ω—Ü–∏–¥–µ–Ω—Ç

---

## üîß –ß–∞—Å—Ç—å 2: n8n Integration

### –ß—Ç–æ —Ç–∞–∫–æ–µ n8n?

**n8n** (–ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è "nodemation") ‚Äî —ç—Ç–æ open-source visual workflow automation –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π 350+ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π –∏ AI-–∞–≥–µ–Ω—Ç–æ–≤.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ n8n

| –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–ª—è –±–æ—Ç–∞ |
|--------------|----------|---------------------|
| **Visual Builder** | Drag-and-drop —Å–æ–∑–¥–∞–Ω–∏–µ workflows | DevOps, CI/CD |
| **350+ Integrations** | –ì–æ—Ç–æ–≤—ã–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã | Telegram, Slack, DB |
| **AI Nodes** | OpenAI, Claude, LangChain | Intelligent trading |
| **Self-hosted** | –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–∞–Ω–Ω—ã—Ö | Security compliance |
| **Modular Design** | –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ |

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ n8n –¥–ª—è –±–æ—Ç–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         n8n Workflows                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ  Telegram   ‚îÇ    ‚îÇ   DMarket   ‚îÇ    ‚îÇ  Database   ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  Trigger    ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   API Node  ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Store     ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ         ‚îÇ                                    ‚îÇ                  ‚îÇ
‚îÇ         ‚ñº                                    ‚ñº                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ    AI       ‚îÇ    ‚îÇ   Filter    ‚îÇ    ‚îÇ   Notify    ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  Analysis   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Logic     ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   User      ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–∏–º–µ—Ä—ã n8n Workflows

#### 1. Daily Trading Report Workflow

```json
{
  "name": "Daily Trading Report",
  "nodes": [
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "parameters": {
        "rule": {
          "interval": [{"field": "hours", "hoursInterval": 24}]
        }
      }
    },
    {
      "name": "Get DMarket Balance",
      "type": "n8n-nodes-base.httpRequest",
      "parameters": {
        "url": "https://api.dmarket.com/account/v1/balance",
        "method": "GET",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "dmarketApi"
      }
    },
    {
      "name": "Get Trade History",
      "type": "n8n-nodes-base.httpRequest",
      "parameters": {
        "url": "https://api.dmarket.com/marketplace-api/v1/user-offers/closed",
        "method": "GET"
      }
    },
    {
      "name": "AI Summarize",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "parameters": {
        "model": "gpt-4",
        "prompt": "Summarize trading performance: {{$json}}"
      }
    },
    {
      "name": "Send Telegram",
      "type": "n8n-nodes-base.telegram",
      "parameters": {
        "chatId": "{{$env.TELEGRAM_CHAT_ID}}",
        "text": "üìä Daily Report:\n{{$json.summary}}"
      }
    }
  ]
}
```

#### 2. Arbitrage Alert Workflow

```json
{
  "name": "Arbitrage Alert",
  "nodes": [
    {
      "name": "Webhook Trigger",
      "type": "n8n-nodes-base.webhook",
      "parameters": {
        "path": "arbitrage-alert"
      }
    },
    {
      "name": "Filter High Profit",
      "type": "n8n-nodes-base.filter",
      "parameters": {
        "conditions": {
          "number": [{
            "value1": "={{$json.profit_percent}}",
            "operation": "largerEqual",
            "value2": 10
          }]
        }
      }
    },
    {
      "name": "AI Risk Assessment",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "parameters": {
        "prompt": "Assess risk for this trade: {{$json}}"
      }
    },
    {
      "name": "Notify if Safe",
      "type": "n8n-nodes-base.telegram",
      "parameters": {
        "text": "üéØ Arbitrage Alert!\n{{$json.item}}\nProfit: {{$json.profit_percent}}%"
      }
    }
  ]
}
```

#### 3. CI/CD Integration Workflow

```json
{
  "name": "CI/CD Pipeline Notification",
  "nodes": [
    {
      "name": "GitHub Webhook",
      "type": "n8n-nodes-base.webhook",
      "parameters": {
        "path": "github-ci"
      }
    },
    {
      "name": "Check Build Status",
      "type": "n8n-nodes-base.if",
      "parameters": {
        "conditions": {
          "string": [{
            "value1": "={{$json.action}}",
            "value2": "completed"
          }]
        }
      }
    },
    {
      "name": "Notify Success",
      "type": "n8n-nodes-base.telegram",
      "parameters": {
        "text": "‚úÖ CI passed: {{$json.workflow.name}}"
      }
    },
    {
      "name": "Notify Failure",
      "type": "n8n-nodes-base.telegram",
      "parameters": {
        "text": "‚ùå CI failed: {{$json.workflow.name}}\nCheck: {{$json.workflow.html_url}}"
      }
    }
  ]
}
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ n8n

#### Docker Compose –¥–ª—è n8n

```yaml
# docker-compose.n8n.yml
version: '3.8'
services:
  n8n:
    image: n8nio/n8n:latest
    restart: always
    ports:
      - "5678:5678"
    environment:
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=${N8N_USER}
      - N8N_BASIC_AUTH_PASSWORD=${N8N_PASSWORD}
      - N8N_ENCRYPTION_KEY=${N8N_ENCRYPTION_KEY}
      - WEBHOOK_URL=https://your-domain.com/
    volumes:
      - n8n_data:/home/node/.n8n
    networks:
      - bot-network

volumes:
  n8n_data:

networks:
  bot-network:
    external: true
```

#### DMarket API Credentials –≤ n8n

```json
{
  "name": "DMarket API",
  "type": "httpHeaderAuth",
  "data": {
    "X-Api-Key": "{{$credentials.publicKey}}",
    "X-Sign-Date": "{{$now.unix}}",
    "X-Request-Sign": "{{hmac('sha256', $credentials.secretKey, $signString)}}"
  }
}
```

---

## üîó –ß–∞—Å—Ç—å 3: GitHub Copilot Integration

### –£–ª—É—á—à–µ–Ω–∏–µ GitHub Copilot —Å AnyTool

#### MCP Integration –¥–ª—è VS Code

```json
// .vscode/settings.json
{
  "github.copilot.advanced": {
    "mcpServers": {
      "dmarket": {
        "command": "python",
        "args": ["-m", "src.mcp_server.dmarket_mcp"]
      }
    }
  }
}
```

#### Copilot Agent Mode + AnyTool

```python
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å GitHub Copilot Background Agent
async def copilot_assisted_trading():
    """
    Copilot –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AnyTool –¥–ª—è:
    - –ê–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–∫–∞
    - –°–æ–∑–¥–∞–Ω–∏—è —Ç–∞—Ä–≥–µ—Ç–æ–≤
    - –û—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏
    """
    async with AnyTool(config=safe_config) as tool:
        # Copilot –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å —ç—Ç—É –∑–∞–¥–∞—á—É
        result = await tool.execute(
            "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ä—ã–Ω–æ–∫ CS:GO –∏ –Ω–∞–π–¥–∏ 5 –ª—É—á—à–∏—Ö "
            "–∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Å –ø—Ä–∏–±—ã–ª—å—é >10%"
        )
        return result
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ë–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ | –° AnyTool + n8n |
|-----------|---------------|-----------------|
| Tool Selection | –†—É—á–Ω–æ–π | Smart RAG –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π |
| Error Recovery | Manual retry | Self-healing |
| Workflow Creation | Code-only | Visual + Code |
| Monitoring | Basic logs | Full audit trail |
| Multi-agent | –°–ª–æ–∂–Ω–æ | –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |

---

## üìã –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### Phase 1: MCP Server (2-3 –¥–Ω—è) ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

- [x] –°–æ–∑–¥–∞—Ç—å `src/mcp_server/dmarket_mcp.py`
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å AnyTool config –±–µ–∑ GUI/Web
- [x] –°–æ–∑–¥–∞—Ç—å `src/utils/anytool_integration.py`
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è MCP –º–µ—Ç–æ–¥–æ–≤

### Phase 2: AnyTool Integration (1 –Ω–µ–¥–µ–ª—è) ‚úÖ –ë–ê–ó–û–í–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å AnyTool –≤ –±–æ—Ç–∞ (fallback —Ä–µ–∂–∏–º)
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (DMarket ToS compliance)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Smart Tool RAG (—Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ AnyTool)
- [ ] –í–∫–ª—é—á–∏—Ç—å Quality Tracking
- [x] –î–æ–±–∞–≤–∏—Ç—å logging –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Phase 3: n8n Workflows (1-2 –Ω–µ–¥–µ–ª–∏)

- [ ] –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å n8n –≤ Docker
- [ ] –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ workflows:
  - Daily Reports
  - Arbitrage Alerts
  - CI/CD Notifications
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Telegram –±–æ—Ç–æ–º
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å AI nodes

### Phase 4: Production (ongoing)

- [ ] Performance tuning
- [ ] Security audit
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ workflows
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ AnyTool

```bash
# AnyTool –Ω–µ –Ω–∞ PyPI, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å GitHub
pip install git+https://github.com/HKUDS/AnyTool.git
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MCP Server

```python
# –ó–∞–ø—É—Å–∫ MCP —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞–ø—Ä—è–º—É—é
python -m src.mcp_server.dmarket_mcp

# –ò–ª–∏ —á–µ—Ä–µ–∑ Python
from src.mcp_server.dmarket_mcp import create_dmarket_mcp_server

server = create_dmarket_mcp_server(dry_run=True)
tools = await server.list_tools()
result = await server.call_tool("get_balance", {})
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AnyTool Integration

```python
from src.utils.anytool_integration import (
    execute_safe_task,
    get_anytool_status,
)

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
status = get_anytool_status()
print(f"AnyTool installed: {status['is_installed']}")
print(f"MCP Server available: {status['mcp_server_available']}")

# –í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á—É –±–µ–∑–æ–ø–∞—Å–Ω–æ
result = await execute_safe_task(
    "–ù–∞–π–¥–∏ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è CS:GO",
    dry_run=True
)
print(result)
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –°—Ç—Ä–æ–≥–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ (DMarket ToS)

```python
# ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û - –Ω–∞—Ä—É—à–∞–µ—Ç ToS
config = AnyToolConfig(
    backend_scope=["mcp", "shell", "gui", "web"]  # GUI –∏ Web –ó–ê–ü–†–ï–©–ï–ù–´
)

# ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û - browser automation
await tool.execute("–û—Ç–∫—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä –∏ –∑–∞–π–¥–∏ –Ω–∞ dmarket.com")

# ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û - web scraping
await tool.execute("–°–ø–∞—Ä—Å–∏ —Ü–µ–Ω—ã —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã dmarket.com/items")
```

### –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

```python
# ‚úÖ –†–ê–ó–†–ï–®–ï–ù–û - —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API
await tool.execute("–ü–æ–ª—É—á–∏ –ø—Ä–µ–¥–º–µ—Ç—ã —á–µ—Ä–µ–∑ DMarket Trading API")

# ‚úÖ –†–ê–ó–†–ï–®–ï–ù–û - –ª–æ–∫–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
await tool.execute("–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö")

# ‚úÖ –†–ê–ó–†–ï–®–ï–ù–û - shell operations
await tool.execute("–ó–∞–ø—É—Å—Ç–∏ pytest –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞")
```

---

## üìö –†–µ—Å—É—Ä—Å—ã

### AnyTool
- [GitHub: HKUDS/AnyTool](https://github.com/HKUDS/AnyTool)
- [MCP Documentation](https://modelcontextprotocol.io/)

### n8n
- [n8n Documentation](https://docs.n8n.io/)
- [freeCodeCamp Tutorial](https://www.freecodecamp.org/news/learn-n8n-to-design-develop-and-deploy-production-grade-ai-agents/)
- [n8n AI Workflows](https://www.freecodecamp.org/news/how-to-build-ai-workflows-with-n8n/)

### DMarket
- [Trading API Documentation](https://docs.dmarket.com/v1/swagger.html)
- [Terms of Service](https://dmarket.com/terms-of-use)

---

## üìù Changelog

### v1.0 (–î–µ–∫–∞–±—Ä—å 2025)
- –ù–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞
- –ê–Ω–∞–ª–∏–∑ AnyTool —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- n8n workflow –ø—Ä–∏–º–µ—Ä—ã
- –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è
- DMarket ToS compliance –º–∞—Ç—Ä–∏—Ü–∞

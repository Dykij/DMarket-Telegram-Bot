# Enhanced Arbitrage Scanner Guide üöÄ

## –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?

Enhanced Arbitrage Scanner - —ç—Ç–æ **–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –≤–µ—Ä—Å–∏—è** –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω–æ–≥–æ —Å–∫–∞–Ω–µ—Ä–∞, —Ä–µ–∞–ª–∏–∑—É—é—â–∞—è **–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏** –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—ã–≥–æ–¥–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ –Ω–∞ DMarket.

## üéØ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. `orderBy: best_discount` - –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ª—É—á—à–∏—Ö —Å–∫–∏–¥–æ–∫

**–ü—Ä–æ–±–ª–µ–º–∞ —Å—Ç–∞—Ä–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**
```python
# ‚ùå –ü–ª–æ—Ö–æ - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ –∏–ª–∏ —Ü–µ–Ω–µ
params = {
    "orderBy": "updated",  # –∏–ª–∏ "price"
    "orderDir": "desc"
}
```

**–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥:**
```python
# ‚úÖ –•–æ—Ä–æ—à–æ - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–∫–∏–¥–∫–µ
params = {
    "orderBy": "best_discount",  # API –æ—Ç–¥–∞–µ—Ç —Å–∞–º—ã–µ –≤—ã–≥–æ–¥–Ω—ã–µ –ø–µ—Ä–≤—ã–º–∏!
    "orderDir": "desc"
}
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**
- DMarket API **—Å–∞–º –≤—ã—á–∏—Å–ª—è–µ—Ç** —Å–∫–∏–¥–∫—É –æ—Ç `suggestedPrice`
- –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ **–ª—É—á—à–∏–µ —Å–¥–µ–ª–∫–∏ –ø–µ—Ä–≤—ã–º–∏**
- –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏: –Ω–µ –Ω—É–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å 1000 –ø—Ä–µ–¥–º–µ—Ç–æ–≤

---

### 2. External Price Comparison - –ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –∞—Ä–±–∏—Ç—Ä–∞–∂

**–ß—Ç–æ —ç—Ç–æ:**
–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω –Ω–∞ DMarket —Å —Ü–µ–Ω–∞–º–∏ –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø–ª–æ—â–∞–¥–∫–∞—Ö:
- **Steam Community Market**
- **CSGOFloat Market** (–¥–ª—è CS:GO)
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) **Buff163**

**–ü—Ä–∏–º–µ—Ä:**
```
–ü—Ä–µ–¥–º–µ—Ç: AK-47 | Redline (Field-Tested)

DMarket:   $10.00
Steam:     $13.50
CSGOFloat: $12.80

–ü—Ä–æ—Ñ–∏—Ç: $13.50 - $10.00 - –∫–æ–º–∏—Å—Å–∏–∏ = $2.45 (19.5%)
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö —Ü–µ–Ω
opportunities = await scanner.find_opportunities(
    game_id="a8db",
    enable_external_comparison=True  # –í–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
)

# –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –±—É–¥–µ—Ç –ø–æ–ª–µ external_arbitrage
for item in opportunities:
    ext_arb = item.get("external_arbitrage")
    if ext_arb.get("has_opportunity"):
        print(f"–ú–æ–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å ${ext_arb['net_profit']}")
        print(f"–õ—É—á—à–∞—è –ø–ª–æ—â–∞–¥–∫–∞: {ext_arb['best_platform']}")
```

---

### 3. Sales History Check - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–∞–¥–∞—é—â–∏—Ö —Ü–µ–Ω

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ!**

–ï—Å–ª–∏ –ø—Ä–µ–¥–º–µ—Ç —Å—Ç–æ–∏—Ç $100, –∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –ø—Ä–æ–¥–∞–∂ –±—ã–ª–∏ –ø–æ $80, $82, $79 - **—ç—Ç–æ –ù–ï —Å–∫–∏–¥–∫–∞**, —ç—Ç–æ **–ø–∞–¥–µ–Ω–∏–µ —Ü–µ–Ω—ã**!

**–õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```python
# 1. –ü–æ–ª—É—á–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–æ–¥–∞–∂
sales = await sales_analyzer.get_sales_history(item_id)

# 2. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –ø—Ä–æ–¥–∞–∂
recent_prices = [sale["price"] for sale in sales[:5]]
avg_recent = sum(recent_prices) / len(recent_prices)

# 3. –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω–æ–π
if current_price < avg_recent * 0.9:  # -10% –æ—Ç —Å—Ä–µ–¥–Ω–µ–π
    # ‚ùå –≠—Ç–æ –ø–∞–¥–µ–Ω–∏–µ —Ü–µ–Ω—ã - –ù–ï –ü–û–ö–£–ü–ê–¢–¨!
    continue
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–¥–∞–∂ (–º–∏–Ω–∏–º—É–º 5 –ø—Ä–æ–¥–∞–∂)
- ‚úÖ –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø—Ä–æ–¥–∞–∂
- ‚úÖ –û–±—ä–µ–º –ø—Ä–æ–¥–∞–∂ (–ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)
- ‚úÖ –¢—Ä–µ–Ω–¥ —Ü–µ–Ω—ã (—Ä–∞—Å—Ç–µ—Ç/–ø–∞–¥–∞–µ—Ç/—Å—Ç–∞–±–∏–ª—å–Ω–∞)

---

### 4. Smart Liquidity Filter - –£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

**–ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –Ω–µ–ª–∏–∫–≤–∏–¥–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π:**
- ‚ùå Souvenir (–º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã)
- ‚ùå Stickers (–Ω–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)
- ‚ùå Cases/Capsules (–Ω–µ –¥–ª—è –∞—Ä–±–∏—Ç—Ä–∞–∂–∞)
- ‚ùå Keys (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞)
- ‚ùå Graffiti (–º—É—Å–æ—Ä)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ Trade Lock:**
```python
# –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–µ–¥–º–µ—Ç—ã —Å trade lock > 7 –¥–Ω–µ–π
trade_lock = item.get("extra", {}).get("tradeLockDuration", 0)
if trade_lock > 168:  # 168 —á–∞—Å–æ–≤ = 7 –¥–Ω–µ–π
    continue
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ Float Value (–¥–ª—è —Å–∫–∏–Ω–æ–≤):**
```python
# –î–ª—è Minimal Wear (MW) - –∏—â–µ–º float –±–ª–∏–∑–∫–∏–π –∫ FN
if item_wear == "MW":
    float_value = item["extra"]["floatValue"]
    if 0.07 <= float_value <= 0.08:
        # –≠—Ç–æ –ø—Ä–µ–º–∏—É–º MW - —Å—Ç–æ–∏—Ç –¥–æ—Ä–æ–∂–µ!
        bonus_score += 10
```

---

### 5. Realistic Thresholds - –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –ø–æ—Ä–æ–≥–∏

**–°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥:**
```python
min_discount = 30.0  # ‚ùå –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–∞—Ö–æ–¥–∏—Ç—Å—è 0-1 —Å–¥–µ–ª–∫–∞ –≤ –¥–µ–Ω—å
```

**–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥:**
```python
min_discount = 15.0  # ‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–æ—Ä–æ–≥
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 5-20 —Å–¥–µ–ª–æ–∫ –≤ –¥–µ–Ω—å
```

**–ü–æ—á–µ–º—É 15-20%?**
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –±–æ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å 10-20% –ø—Ä–æ—Ñ–∏—Ç–∞
- –°–∫–∏–¥–∫–∏ 30%+ –∑–∞–±–∏—Ä–∞—é—Ç—Å—è –∑–∞ **–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã**
- 15% - —ç—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ –¥–ª—è —Ä—É—á–Ω–æ–π/–ø–æ–ª—É–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏

**–§–∞–∫—Ç–æ—Ä—ã –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –ø–æ—Ä–æ–≥:**
| –§–∞–∫—Ç–æ—Ä                   | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä–æ–≥ |
| ------------------------ | ------------------- |
| –†—É—á–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è          | 15-20%              |
| –ü–æ–ª—É–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è       | 12-18%              |
| –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è | 10-15%              |
| –° –≤–Ω–µ—à–Ω–∏–º –∞—Ä–±–∏—Ç—Ä–∞–∂–µ–º     | 8-12%               |

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ß–µ—Ä–µ–∑ Telegram Bot

```
1. –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂
2. Enhanced Scanner
3. –í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É (CS:GO, Dota 2, Rust, TF2)
4. –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (10-30 —Å–µ–∫—É–Ω–¥)
```

### –ß–µ—Ä–µ–∑ Python API

```python
from src.dmarket.enhanced_arbitrage_scanner import scan_with_enhancements

# –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫
opportunities = await scan_with_enhancements(
    game="csgo",
    min_price=5.0,
    max_price=50.0,
    min_discount=15.0,  # –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–æ—Ä–æ–≥
)

# –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
for item in opportunities:
    print(f"–ü—Ä–µ–¥–º–µ—Ç: {item['title']}")
    print(f"–¶–µ–Ω–∞ DMarket: ${item['price_usd']}")
    print(f"–°–∫–∏–¥–∫–∞: {item['discount_percent']}%")
    print(f"Score: {item['opportunity_score']}")

    # –í–Ω–µ—à–Ω–∏–π –∞—Ä–±–∏—Ç—Ä–∞–∂
    ext = item.get("external_arbitrage")
    if ext and ext["has_opportunity"]:
        print(f"–í–Ω–µ—à–Ω—è—è —Ü–µ–Ω–∞ ({ext['best_platform']}): ${ext['best_price']}")
        print(f"–ß–∏—Å—Ç—ã–π –ø—Ä–æ—Ñ–∏—Ç: ${ext['net_profit']}")

    # –õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
    print(f"–ü—Ä–æ–¥–∞–∂ –∑–∞ –Ω–µ–¥–µ–ª—é: {item.get('sales_volume', 'N/A')}")
    print()
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from src.dmarket.enhanced_arbitrage_scanner import EnhancedArbitrageScanner
from src.dmarket.dmarket_api import DMarketAPI

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
api = DMarketAPI(public_key, secret_key)
scanner = EnhancedArbitrageScanner(
    api_client=api,
    min_discount=15.0,
    enable_external_comparison=True,  # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ –ø–ª–æ—â–∞–¥–∫–∞–º–∏
    enable_sales_history=True,        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–æ–¥–∞–∂
)

# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
opportunities = await scanner.find_opportunities(
    game_id="a8db",  # CS:GO
    min_price=10.0,
    max_price=100.0,
    limit=20,
)

# –ù–µ –∑–∞–±—É–¥—å—Ç–µ –∑–∞–∫—Ä—ã—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
await scanner.close()
```

---

## üìä –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### Opportunity Score (‚≠ê)

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

```python
score = 0

# 1. External arbitrage (–Ω–∞–∏–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
if has_external_arbitrage:
    score += 50 + (external_profit_margin * 2)

# 2. Discount –æ—Ç suggested price
score += discount_percent

# 3. Liquidity (–æ–±—ä–µ–º –ø—Ä–æ–¥–∞–∂)
if sales_volume > 20:
    score += 20
elif sales_volume > 10:
    score += 10

# 4. Price range bonus
if 5 <= price <= 30:
    score += 10  # –°—Ä–µ–¥–Ω–∏–µ —Ü–µ–Ω—ã –±–æ–ª–µ–µ –ª–∏–∫–≤–∏–¥–Ω—ã
```

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:**
- **90+** - –û—Ç–ª–∏—á–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å (–≤–Ω–µ—à–Ω–∏–π –∞—Ä–±–∏—Ç—Ä–∞–∂ + –≤—ã—Å–æ–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)
- **60-89** - –•–æ—Ä–æ—à–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å (–≤—ã—Å–æ–∫–∞—è —Å–∫–∏–¥–∫–∞ + –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)
- **40-59** - –°—Ä–µ–¥–Ω—è—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å (–ø—Ä–∏–µ–º–ª–µ–º–∞—è —Å–∫–∏–¥–∫–∞)
- **<40** - –°–ª–∞–±–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å (–Ω–∏–∑–∫–∞—è —Å–∫–∏–¥–∫–∞ –∏–ª–∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)

---

## üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã

### 1. –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–õ—É—á—à–µ–µ –≤—Ä–µ–º—è (UTC):**
- üü¢ **10:00-14:00** - –ü–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–ï–≤—Ä–æ–ø–∞ + –ê–∑–∏—è)
- üü¢ **18:00-22:00** - –í–µ—á–µ—Ä–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–ï–≤—Ä–æ–ø–∞ + –°–®–ê)
- üî¥ **02:00-06:00** - –ù–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### 2. –¶–µ–Ω–æ–≤—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã

| –î–∏–∞–ø–∞–∑–æ–Ω   | –õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å | –ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è   | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è     |
| ---------- | ----------- | ------------- | ---------------- |
| $1-$5      | –í—ã—Å–æ–∫–∞—è     | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | ‚ö†Ô∏è –°–ª–æ–∂–Ω–æ         |
| **$5-$30** | **–í—ã—Å–æ–∫–∞—è** | **–°—Ä–µ–¥–Ω—è—è**   | ‚úÖ **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ** |
| $30-$100   | –°—Ä–µ–¥–Ω—è—è     | –ù–∏–∑–∫–∞—è        | ‚úÖ –•–æ—Ä–æ—à–æ         |
| $100+      | –ù–∏–∑–∫–∞—è      | –ù–∏–∑–∫–∞—è        | ‚ö†Ô∏è –†–∏—Å–∫–æ–≤–∞–Ω–Ω–æ     |

### 3. –í—ã–±–æ—Ä –∏–≥—Ä—ã

**CS:GO/CS2** (game_id: `a8db`)
- ‚úÖ –ù–∞–∏–±–æ–ª—å—à–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
- ‚úÖ External price comparison —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ –≤—Å–µ–≥–æ
- ‚ö†Ô∏è –í—ã—Å–æ–∫–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è

**Dota 2** (game_id: `9a92`)
- ‚úÖ –•–æ—Ä–æ—à–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
- ‚úÖ –ú–µ–Ω—å—à–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏
- ‚ö†Ô∏è –ú–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö –æ –≤–Ω–µ—à–Ω–∏—Ö —Ü–µ–Ω–∞—Ö

**Rust** (game_id: `rust`)
- ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
- ‚úÖ –ù–∏–∑–∫–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è
- ‚ùå –ù–µ—Ç external price comparison

**TF2** (game_id: `tf2`)
- ‚ö†Ô∏è –ù–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
- ‚úÖ –û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è
- ‚ùå –ù–µ—Ç external price comparison

### 4. –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–∫—É–ø–∫–∏

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–∫—É–ø–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```python
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ auto_buyer –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –ø–æ–∫—É–ø–∫–∏
from src.dmarket.auto_buyer import AutoBuyer

buyer = AutoBuyer(api_client=api, dry_run=False)
await buyer.start(
    min_discount=15.0,
    max_price=50.0,
)
```

**Buy Orders (–¥–ª—è —Ç–µ—Ä–ø–µ–ª–∏–≤—ã—Ö):**
```python
# –°–æ–∑–¥–∞–π—Ç–µ buy order –Ω–∞ $0.01 –≤—ã—à–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
from src.dmarket.smart_bidder import SmartBidder

bidder = SmartBidder(api_client=api)
await bidder.create_competitive_bid(
    item_title="AK-47 | Redline (Field-Tested)",
    max_price=9.50,  # –í–∞—à –º–∞–∫—Å–∏–º—É–º
)
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. Rate Limiting

DMarket API –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç—ã:
- **10-20 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫—É–Ω–¥—É** –Ω–∞ –∫–ª—é—á
- Enhanced Scanner –¥–µ–ª–∞–µ—Ç **3-5 –∑–∞–ø—Ä–æ—Å–æ–≤** –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç (—Ü–µ–Ω—ã + –∏—Å—Ç–æ—Ä–∏—è + external)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è **—Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–µ —á–∞—â–µ —Ä–∞–∑ –≤ 10 —Å–µ–∫—É–Ω–¥**

### 2. External API Limitations

**Steam Community Market:**
- –õ–∏–º–∏—Ç: ~20 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
- –†–µ—à–µ–Ω–∏–µ: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 5 –º–∏–Ω—É—Ç

**CSGOFloat:**
- –õ–∏–º–∏—Ç: ~60 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
- –ë–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π, —á–µ–º Steam

### 3. DRY_RUN Mode

‚ö†Ô∏è **–í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å DRY_RUN=True!**

```python
# –í .env —Ñ–∞–π–ª–µ
DRY_RUN=true  # –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º - –ø–æ–∫—É–ø–∫–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è

# –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
DRY_RUN=false  # –†–µ–∞–ª—å–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ –Ω–∞–π–¥–µ–Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π"

**–†–µ—à–µ–Ω–∏—è:**
1. –°–Ω–∏–∑—å—Ç–µ `min_discount` –¥–æ 12-15%
2. –†–∞—Å—à–∏—Ä—å—Ç–µ —Ü–µ–Ω–æ–≤–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –∏–≥—Ä—É
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è —Å—É—Ç–æ–∫ (–ª—É—á—à–µ 10:00-14:00 UTC)

### –ü—Ä–æ–±–ª–µ–º–∞: "External API timeout"

**–†–µ—à–µ–Ω–∏—è:**
1. –û—Ç–∫–ª—é—á–∏—Ç–µ external comparison –≤—Ä–µ–º–µ–Ω–Ω–æ:
   ```python
   scanner = EnhancedArbitrageScanner(
       enable_external_comparison=False
   )
   ```
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 –º–∏–Ω—É—Ç (rate limit)

### –ü—Ä–æ–±–ª–µ–º–∞: "Too many requests (429)"

**–†–µ—à–µ–Ω–∏—è:**
1. –£–≤–µ–ª–∏—á—å—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 15+ —Å–µ–∫—É–Ω–¥)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ DMarket API rate limiter –≤–∫–ª—é—á–µ–Ω
3. –ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±–æ—Ç–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### –ß—Ç–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å

```python
# –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
stats = await scanner.get_stats()

print(f"–í—Å–µ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π: {stats['total_scans']}")
print(f"–ù–∞–π–¥–µ–Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π: {stats['total_opportunities']}")
print(f"–° –≤–Ω–µ—à–Ω–∏–º –∞—Ä–±–∏—Ç—Ä–∞–∂–µ–º: {stats['with_external_arbitrage']}")
print(f"–°—Ä–µ–¥–Ω–∏–π score: {stats['avg_opportunity_score']:.1f}")
print(f"Hit rate: {stats['hit_rate']:.1f}%")  # % —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π —Å –Ω–∞—Ö–æ–¥–∫–∞–º–∏
```

### –û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

**–•–æ—Ä–æ—à–∏–µ –º–µ—Ç—Ä–∏–∫–∏:**
- Hit rate: **30-60%** (–≤ 30-60% —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- Avg score: **50+**
- External arbitrage: **10-20%** –æ—Ç –≤—Å–µ—Ö –Ω–∞—Ö–æ–¥–æ–∫

**–ß—Ç–æ —É–ª—É—á—à–∏—Ç—å –µ—Å–ª–∏ –º–µ—Ç—Ä–∏–∫–∏ –Ω–∏–∑–∫–∏–µ:**
- Hit rate < 20%: –°–Ω–∏–∑–∏—Ç—å `min_discount`
- Avg score < 40: –í–∫–ª—é—á–∏—Ç—å `enable_sales_history`
- External < 5%: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É External API

---

## üîó –°–º. —Ç–∞–∫–∂–µ

- [ARBITRAGE.md](ARBITRAGE.md) - –ë–∞–∑–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞—Ä–±–∏—Ç—Ä–∞–∂—É
- [AUTO_BUY_GUIDE.md](AUTO_BUY_GUIDE.md) - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–∫—É–ø–∫–∞
- [DMARKET_API_FULL_SPEC.md](DMARKET_API_FULL_SPEC.md) - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [LIQUIDITY_ANALYSIS_GUIDE.md](LIQUIDITY_ANALYSIS_GUIDE.md) - –ê–Ω–∞–ª–∏–∑ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2 —è–Ω–≤–∞—Ä—è 2026
**–í–µ—Ä—Å–∏—è:** 1.0.0

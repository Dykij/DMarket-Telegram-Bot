# üìä –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 16 –Ω–æ—è–±—Ä—è 2025 –≥.
**–¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: ~53%
**–¶–µ–ª–µ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –¥–ª—è —ç—Ç–∞–ø–∞ 1**: 25%

---

## üéØ –ü–æ—ç—Ç–∞–ø–Ω—ã–π –ø–ª–∞–Ω

### –≠—Ç–∞–ø 1: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (25%) - ‚úÖ –ó–ê–í–ï–†–®–ï–ù

**–°—Ä–æ–∫**: 1-2 –Ω–µ–¥–µ–ª–∏
**–¶–µ–ª—å**: –ü–æ–∫—Ä—ã—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–∞–∑–æ–≤—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ 53% –ø–æ–∫—Ä—ã—Ç–∏—è (–ø—Ä–µ–≤—ã—à–µ–Ω —Ü–µ–ª–µ–≤–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**

#### 1.1 –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏ (—Ç—Ä–µ–±—É–µ—Ç—Å—è 50-70% –ø–æ–∫—Ä—ã—Ç–∏—è)

- ‚úÖ `src/dmarket/dmarket_api.py` - API –∫–ª–∏–µ–Ω—Ç (27.87% –ø–æ–∫—Ä—ã—Ç–∏–µ)
  - ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
  - ‚úÖ –¢–µ—Å—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (HMAC –ø–æ–¥–ø–∏—Å—å)
  - ‚úÖ –¢–µ—Å—Ç—ã –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ (get_balance, get_market_items, get_user_inventory)
  - ‚úÖ –¢–µ—Å—Ç—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - ‚úÖ –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

- ‚úÖ `src/dmarket/arbitrage_scanner.py` - –°–∫–∞–Ω–µ—Ä –∞—Ä–±–∏—Ç—Ä–∞–∂–∞ (9.54% –ø–æ–∫—Ä—ã—Ç–∏–µ)
  - ‚úÖ –¢–µ—Å—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∫–∞–Ω–µ—Ä–∞
  - ‚úÖ –¢–µ—Å—Ç—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç —É—Ä–æ–≤–Ω–µ–π (boost, standard, medium, advanced, pro)
  - ‚úÖ –¢–µ—Å—Ç—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏–≥—Ä (CSGO, Dota2, TF2, Rust)
  - ‚úÖ –¢–µ—Å—Ç—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - ‚úÖ –¢–µ—Å—Ç—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
  - ‚úÖ –¢–µ—Å—Ç—ã —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–∏–±—ã–ª–∏
  - ‚úÖ –¢–µ—Å—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏

- ‚úÖ `src/utils/config.py` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (48.85% –ø–æ–∫—Ä—ã—Ç–∏–µ)
  - ‚úÖ –¢–µ—Å—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ YAML
  - ‚úÖ –¢–µ—Å—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - ‚úÖ –¢–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - ‚úÖ –¢–µ—Å—Ç—ã –≤—Å–µ—Ö –¥–∞—Ç–∞–∫–ª–∞—Å—Å–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - ‚úÖ –¢–µ—Å—Ç—ã —Ä–∞–±–æ—Ç—ã —Å –ø—É—Ç—è–º–∏

- ‚úÖ `src/utils/exceptions.py` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π (38.62% –ø–æ–∫—Ä—ã—Ç–∏–µ)
  - ‚úÖ –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π (APIError, AuthenticationError, etc.)
  - ‚úÖ –¢–µ—Å—Ç—ã –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π

- ‚úÖ `src/utils/rate_limiter.py` - Rate limiting (14.12% –ø–æ–∫—Ä—ã—Ç–∏–µ)
  - ‚úÖ –¢–µ—Å—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ rate limiter
  - ‚úÖ –¢–µ—Å—Ç—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö/–Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

- ‚úÖ `src/utils/database.py` - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (54.44% –ø–æ–∫—Ä—ã—Ç–∏–µ)
  - ‚úÖ –¢–µ—Å—Ç—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–∞—Ö

#### 1.2 Smoke —Ç–µ—Å—Ç—ã (—É–∂–µ –µ—Å—Ç—å)

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ Python
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞ 1:**

```bash
pytest --cov=src --cov-report=term
# –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ –ø–æ–∫—Ä—ã—Ç–∏–µ: 53.32%
# –í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: 1403 (1309 passed, 91 failed, 3 skipped, 7 errors)
# –°–æ–∑–¥–∞–Ω–Ω—ã—Ö core —Ç–µ—Å—Ç–æ–≤: 94 (–≤—Å–µ —É—Å–ø–µ—à–Ω—ã)
```

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Ç–µ—Å—Ç–æ–≤:**
- `tests/core/test_dmarket_api_core.py` - 43 —Ç–µ—Å—Ç–∞ –¥–ª—è DMarket API
- `tests/core/test_arbitrage_core.py` - 29 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∞—Ä–±–∏—Ç—Ä–∞–∂–∞
- `tests/core/test_utils_core.py` - 22 —Ç–µ—Å—Ç–∞ –¥–ª—è —É—Ç–∏–ª–∏—Ç

---

### –≠—Ç–∞–ø 2: –ë–∞–∑–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (60%) - –í –ü–õ–ê–ù–ê–•

**–¶–µ–ª—å**: –ü–æ–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**

#### 2.1 Telegram Bot –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (30-50% –ø–æ–∫—Ä—ã—Ç–∏—è)

- ‚¨ú `src/telegram_bot/handlers/commands.py`
  - –¢–µ—Å—Ç—ã –∫–æ–º–∞–Ω–¥ /start, /help, /balance
  - –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

- ‚¨ú `src/telegram_bot/handlers/scanner_handler.py`
  - –¢–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  - –¢–µ—Å—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- ‚¨ú `src/telegram_bot/handlers/target_handler.py`
  - –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞—Ä–≥–µ—Ç–æ–≤
  - –¢–µ—Å—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∞—Ä–≥–µ—Ç–∞–º–∏

#### 2.2 –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (50-70% –ø–æ–∫—Ä—ã—Ç–∏—è)

- ‚¨ú `src/models/user.py`
- ‚¨ú `src/models/target.py`
- ‚¨ú `src/models/trading.py`

#### 2.3 –£—Ç–∏–ª–∏—Ç—ã (30-50% –ø–æ–∫—Ä—ã—Ç–∏—è)

- ‚¨ú `src/utils/api_error_handling.py` - –û–±—Ä–∞–±–æ—Ç–∫–∞ API –æ—à–∏–±–æ–∫
- ‚¨ú `src/utils/logging_utils.py` - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (—É–∂–µ 22.92%)
- ‚¨ú `src/utils/analytics.py` - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞ 2:**

```bash
pytest --cov=src --cov-report=html
# –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ: 60%+
```

---

### –≠—Ç–∞–ø 3: –•–æ—Ä–æ—à–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (70%) - –í –ü–õ–ê–ù–ê–•

**–¶–µ–ª—å**: –ü–æ–∫—Ä—ã—Ç—å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**

#### 3.1 –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–¥—É–ª–µ–π (70-80% –ø–æ–∫—Ä—ã—Ç–∏—è)

- ‚¨ú –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –≤ API –∫–ª–∏–µ–Ω—Ç–µ
- ‚¨ú –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
- ‚¨ú –¢–µ—Å—Ç—ã –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ (retry)
- ‚¨ú –¢–µ—Å—Ç—ã rate limiting

#### 3.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

- ‚¨ú –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∞—Ä–±–∏—Ç—Ä–∞–∂–∞ (—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –ø–æ–∫—É–ø–∫–∞ ‚Üí –ø—Ä–æ–¥–∞–∂–∞)
- ‚¨ú –†–∞–±–æ—Ç–∞ —Å —Ç–∞—Ä–≥–µ—Ç–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ ‚Üí –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)
- ‚¨ú –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–æ—Ç–∞ —Å API

#### 3.3 –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

- ‚¨ú –°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏
- ‚¨ú –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚¨ú –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚¨ú –û—à–∏–±–∫–∏ –ë–î

#### 3.4 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ (40-60% –ø–æ–∫—Ä—ã—Ç–∏—è)

- ‚¨ú `src/dmarket/targets.py`
- ‚¨ú `src/dmarket/sales_history.py`
- ‚¨ú `src/telegram_bot/keyboards.py`
- ‚¨ú `src/utils/analytics.py`

---

### –≠—Ç–∞–ø 4: –û—Ç–ª–∏—á–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (80%) - –ë–£–î–£–©–ï–ï

**–¶–µ–ª—å**: –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∫–∞—á–µ—Å—Ç–≤–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**

#### 4.1 –í—Å–µ –º–æ–¥—É–ª–∏ (70-90% –ø–æ–∫—Ä—ã—Ç–∏—è)

- ‚¨ú –ü–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- ‚¨ú –ü–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –æ—à–∏–±–æ–∫
- ‚¨ú –ü–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö edge cases

#### 4.2 E2E —Ç–µ—Å—Ç—ã

- ‚¨ú –ü–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- ‚¨ú –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚¨ú –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### 4.3 –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

- ‚¨ú –¢–µ—Å—Ç—ã WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚¨ú –¢–µ—Å—Ç—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (Redis)
- ‚¨ú –¢–µ—Å—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–π –ë–î
- ‚¨ú –¢–µ—Å—Ç—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üìã –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–æ–≤

### –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–≠—Ç–∞–ø 1)

1. **Line Coverage**: 53.32% ‚úÖ
2. **Branch Coverage**: ~14% (—Ç—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è)
3. **Test Count**: 1403 —Ç–µ—Å—Ç–∞ (1309 —É—Å–ø–µ—à–Ω—ã—Ö)
4. **Module Coverage**: ~15% –º–æ–¥—É–ª–µ–π –ø–æ–∫—Ä—ã—Ç–æ –±–∞–∑–æ–≤—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏

### –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

1. **Line Coverage** (–ø–æ–∫—Ä—ã—Ç–∏–µ —Å—Ç—Ä–æ–∫)
   - –≠—Ç–∞–ø 1: ‚úÖ 25% (–¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ 53.32%)
   - –≠—Ç–∞–ø 2: 60%
   - –≠—Ç–∞–ø 3: 70%
   - –≠—Ç–∞–ø 4: 80%

2. **Branch Coverage** (–ø–æ–∫—Ä—ã—Ç–∏–µ –≤–µ—Ç–≤–ª–µ–Ω–∏–π)
   - –≠—Ç–∞–ø 1: –Ω–µ –∏–∑–º–µ—Ä—è–µ—Ç—Å—è
   - –≠—Ç–∞–ø 2: 30%
   - –≠—Ç–∞–ø 3: 50%
   - –≠—Ç–∞–ø 4: 70%

3. **Test Count** (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤)
   - –≠—Ç–∞–ø 1: ‚úÖ 50+ —Ç–µ—Å—Ç–æ–≤ (–¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ 94 core —Ç–µ—Å—Ç–∞)
   - –≠—Ç–∞–ø 2: 150+ —Ç–µ—Å—Ç–æ–≤
   - –≠—Ç–∞–ø 3: 300+ —Ç–µ—Å—Ç–æ–≤
   - –≠—Ç–∞–ø 4: 500+ —Ç–µ—Å—Ç–æ–≤

---

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –∫–æ–º–∞–Ω–¥—ã

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
pytest

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest --cov=src --cov-report=html

# –¢–æ–ª—å–∫–æ core —Ç–µ—Å—Ç—ã
pytest tests/core/ -v

# –¢–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã
pytest -m "not slow"

# –° –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π
pytest -v --tb=short

# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
pytest -n auto
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è

```bash
# HTML –æ—Ç—á–µ—Ç (—É–¥–æ–±–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞)
pytest --cov=src --cov-report=html
# –û—Ç–∫—Ä—ã—Ç—å htmlcov/index.html

# –¢–µ—Ä–º–∏–Ω–∞–ª (–±—ã—Å—Ç—Ä–æ)
pytest --cov=src --cov-report=term-missing

# XML (–¥–ª—è CI/CD)
pytest --cov=src --cov-report=xml
```

### –ê–Ω–∞–ª–∏–∑ –Ω–µ–ø–æ–∫—Ä—ã—Ç–æ–≥–æ –∫–æ–¥–∞

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–ø–æ–∫—Ä—ã—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
pytest --cov=src --cov-report=term-missing:skip-covered

# –û—Ç—á–µ—Ç –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –º–æ–¥—É–ª—é
pytest --cov=src.dmarket.dmarket_api --cov-report=term-missing
```

---

## üìà –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 16 –Ω–æ—è–±—Ä—è 2025 –≥.

| –ú–µ—Ç—Ä–∏–∫–∞         | –¢–µ–∫—É—â–µ–µ | –¶–µ–ª—å –≠—Ç–∞–ø 1 | –¶–µ–ª—å –≠—Ç–∞–ø 2 | –¶–µ–ª—å –≠—Ç–∞–ø 3 | –¶–µ–ª—å –≠—Ç–∞–ø 4 |
| --------------- | ------- | ----------- | ----------- | ----------- | ----------- |
| Line Coverage   | 53.32%  | 25% ‚úÖ      | 60%         | 70%         | 80%         |
| Branch Coverage | ~14%    | -           | 30%         | 50%         | 70%         |
| Test Count      | 1403    | 50+ ‚úÖ      | 150+        | 300+        | 500+        |
| Module Coverage | ~15%    | 30% ‚úÖ      | 50%         | 70%         | 90%         |

**–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏:**

1. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å fail_under –¥–æ 25% –≤ pyproject.toml
2. ‚úÖ –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è dmarket_api.py (43 —Ç–µ—Å—Ç–∞)
3. ‚úÖ –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è arbitrage_scanner.py (29 —Ç–µ—Å—Ç–æ–≤)
4. ‚úÖ –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è config.py –∏ —É—Ç–∏–ª–∏—Ç (22 —Ç–µ—Å—Ç–∞)
5. ‚úÖ –î–æ—Å—Ç–∏—á—å –ø–æ–∫—Ä—ã—Ç–∏—è 53.32% (–ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ —Ü–µ–ª–∏ –≤ 2 —Ä–∞–∑–∞!)

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

1. ‚¨ú –£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–¥—É–ª–µ–π –¥–æ 60%+
2. ‚¨ú –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è Telegram bot –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
3. ‚¨ú –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
4. ‚¨ú –£–ª—É—á—à–∏—Ç—å branch coverage –¥–æ 30%

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ

1. ‚úÖ **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤** - tests/core/ —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏
2. ‚úÖ **–í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤** - –≤—Å–µ 94 core —Ç–µ—Å—Ç–∞ —É—Å–ø–µ—à–Ω—ã
3. ‚úÖ **–•–æ—Ä–æ—à–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —É—Ç–∏–ª–∏—Ç** - config.py (48.85%), database.py (54.44%), exceptions.py (38.62%)
4. ‚úÖ **–¢–µ—Å—Ç—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç** - –ø–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π –∞—Ä–±–∏—Ç—Ä–∞–∂–∞, –∏–≥—Ä, —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ API

### –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è

1. ‚ö†Ô∏è **DMarket API –ø–æ–∫—Ä—ã—Ç–∏–µ** - 27.87%, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è:
   - –ú–µ—Ç–æ–¥–æ–≤ –ø–æ–∫—É–ø–∫–∏/–ø—Ä–æ–¥–∞–∂–∏
   - –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–¥–∞–∂
   - WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
   
2. ‚ö†Ô∏è **ArbitrageScanner –ø–æ–∫—Ä—ã—Ç–∏–µ** - 9.54%, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è:
   - –†–µ–∞–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–µ —Ç–æ–ª—å–∫–æ –º–æ–∫–∏)
   - –†–∞–±–æ—Ç–∞ —Å –∫—ç—à–µ–º
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API

3. ‚ö†Ô∏è **Branch coverage** - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –≤–µ—Ç–æ–∫ if/else

---

**–ü–æ–º–Ω–∏—Ç–µ**: –ö–∞—á–µ—Å—Ç–≤–æ –≤–∞–∂–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞. –õ—É—á—à–µ –∏–º–µ—Ç—å 94 —Ö–æ—Ä–æ—à–∏—Ö —Ç–µ—Å—Ç–∞ —Å 100% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å—é, —á–µ–º 500 –ø–ª–æ—Ö–∏—Ö!

**–ò—Ç–æ–≥–æ –¥–ª—è —ç—Ç–∞–ø–∞ 1**: ‚úÖ –¶–µ–ª—å 25% –ø—Ä–µ–≤—ã—à–µ–Ω–∞ - –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ 53.32% –ø–æ–∫—Ä—ã—Ç–∏—è!

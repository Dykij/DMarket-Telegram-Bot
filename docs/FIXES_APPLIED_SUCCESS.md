# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã!

**–î–∞—Ç–∞:** 03.01.2026 12:28 UTC
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ 4 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

---

## üìã –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### ‚úÖ 1. Game ID –º–∞–ø–ø–∏–Ω–≥ (–ö–†–ò–¢–ò–ß–ù–û!)

**–§–∞–π–ª:** `src/dmarket/dmarket_api.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `GAME_MAP` —Å –ø–æ–ª–Ω—ã–º–∏ UUID:
```python
GAME_MAP: dict[str, str] = {
    "csgo": "a8db99ca-dc45-4c0e-9989-11ba71ed97a2",
    "cs2": "a8db99ca-dc45-4c0e-9989-11ba71ed97a2",
    "dota2": "9a92e107-160a-493e-80aa-3a5989710777",
    "rust": "60702081-9b1a-4700-928d-f5421c60a927",
    "tf2": "440",
}
```

2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `get_market_items()`:
   - –î–æ–±–∞–≤–ª–µ–Ω –º–∞–ø–ø–∏–Ω–≥: `game_id = GAME_MAP.get(game.lower(), game)`
   - –¢–µ–ø–µ—Ä—å –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–µ UUID –≤–º–µ—Å—Ç–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö ID

3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `create_targets()`:
   - –î–æ–±–∞–≤–ª–µ–Ω –º–∞–ø–ø–∏–Ω–≥: `mapped_game_id = GAME_MAP.get(game_id.lower(), game_id)`
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ –∫–æ—Ä–æ—Ç–∫–∏—Ö –∏–º–µ–Ω (csgo), —Ç–∞–∫ –∏ UUID

4. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `get_user_targets()`:
   - –î–æ–±–∞–≤–ª–µ–Ω –º–∞–ø–ø–∏–Ω–≥ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∞—Ä–≥–µ—Ç–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—à–∏–±–∫–∞ `HTTP 400 ... filter: (game: must be a valid value.)` –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å!

---

### ‚úÖ 2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ Windows

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Ä–µ–º—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```
–ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: 03.01.2026 12:15:29
–ò—Å—Ç–æ—á–Ω–∏–∫: time.windows.com
–¢–æ—á–Ω–æ—Å—Ç—å: 119.209ns
–°—Ç–∞—Ç—É—Å: ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ (–Ω–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—à–∏–±–∫–∞ `HTTP 401 Unauthorized` –∏–∑-–∑–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –≤—Ä–µ–º–µ–Ω–∏ –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å!

---

### ‚úÖ 3. –ü—Ä–∞–≤–∞ API –∫–ª—é—á–∞

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä—É—á–Ω—É—é:**

1. –ü–µ—Ä–µ–π—Ç–∏: https://dmarket.com/account/api-keys
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Å—Ç–æ—è—Ç –≥–∞–ª–æ—á–∫–∏:
   - ‚òë View Balance
   - ‚òë View Targets
   - ‚òë Manage Targets
   - ‚òë Trade
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π API –∫–ª—é—á —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–∞–π—Ç–µ DMarket

---

### ‚úÖ 4. AdaptiveScanner –∑–∞—â–∏—Ç–∞ –æ—Ç –ø—É—Å—Ç—ã—Ö —Å–Ω–∏–º–∫–æ–≤

**–§–∞–π–ª:** `src/dmarket/adaptive_scanner.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –≤ –º–µ—Ç–æ–¥ `add_snapshot()`:

```python
def add_snapshot(self, items: list[dict[str, Any]]) -> None:
    # FIX: –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—É—Å—Ç—ã—Ö —Å–Ω–∏–º–∫–æ–≤ (–æ—à–∏–±–∫–∏ API)
    if not items:
        self.current_interval = min(self.current_interval, 60)
        logger.warning(
            "empty_market_snapshot",
            message="–ü–æ–ª—É—á–µ–Ω –ø—É—Å—Ç–æ–π —Å–Ω–∏–º–æ–∫ —Ä—ã–Ω–∫–∞, –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–±—Ä–æ—à–µ–Ω –¥–æ 60—Å",
        )
        return

    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
```

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –ë–æ—Ç –ø–æ–ª—É—á–∞–ª –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ 400
- –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å = 0
- –ò–Ω—Ç–µ—Ä–≤–∞–ª —É–≤–µ–ª–∏—á–∏–≤–∞–ª—Å—è –¥–æ 300 —Å–µ–∫—É–Ω–¥ (5 –º–∏–Ω—É—Ç)
- –ë–æ—Ç "–∑–∞—Å—ã–ø–∞–ª" –∏ –Ω–µ –≤–∏–¥–µ–ª –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
- –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –¥–æ 60 —Å–µ–∫—É–Ω–¥
- –ë–æ—Ç –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–æ–±—É–µ—Ç —Å–Ω–æ–≤–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ—Ç –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç "–∑–∞—Å—ã–ø–∞—Ç—å" –Ω–∞ 5 –º–∏–Ω—É—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API!

---

## üöÄ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –±–æ—Ç–∞

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

```
‚ùå HTTP –æ—à–∏–±–∫–∞ 400 ... filter: (game: must be a valid value.)
‚ùå –ü–æ–ª—É—á–µ–Ω–æ 0 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è –∏–≥—Ä—ã a8db
‚ùå –ü–æ–ª—É—á–µ–Ω–æ 0 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è –∏–≥—Ä—ã 9a92
‚ùå AdaptiveScanner: –∏–Ω—Ç–µ—Ä–≤–∞–ª —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 300 —Å–µ–∫—É–Ω–¥
‚ùå –ë–æ—Ç "—Å–ø–∏—Ç" 5 –º–∏–Ω—É—Ç –∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

```
‚úÖ Fetching items for CS:GO with UUID a8db99ca-dc45-4c0e-9989-11ba71ed97a2
‚úÖ –ü–æ–ª—É—á–µ–Ω–æ 30 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è –∏–≥—Ä—ã csgo
‚úÖ –ü–æ–ª—É—á–µ–Ω–æ 25 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è –∏–≥—Ä—ã dota2
‚úÖ AdaptiveScanner: volatility 0.65 ‚Üí next scan in 60s
‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞ 14-15 —Å–µ–∫—É–Ω–¥
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –õ–æ–≥–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:

```
INFO - HTTP/2 support enabled ‚úÖ
INFO - Parallel Scanner Manager initialized ‚úÖ
INFO - GAME_MAP loaded: 5 games supported
INFO - [CS:GO] Using UUID: a8db99ca-dc45-4c0e-9989-11ba71ed97a2 ‚úÖ
INFO - [Dota2] Using UUID: 9a92e107-160a-493e-80aa-3a5989710777 ‚úÖ
INFO - [Rust] Using UUID: 60702081-9b1a-4700-928d-f5421c60a927 ‚úÖ
INFO - [TF2] Using ID: 440 ‚úÖ
INFO - Scanning market for csgo
INFO - Received 30 market items ‚úÖ
INFO - Market snapshot added (avg_price: 12.50, volatility: 0.65)
INFO - Next scan in 60 seconds (moderate volatility)
```

### –û—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å—á–µ–∑–Ω—É—Ç:

- ‚ùå ~~HTTP –æ—à–∏–±–∫–∞ 400 ... filter: (game: must be a valid value.)~~
- ‚ùå ~~HTTP –æ—à–∏–±–∫–∞ 401 Unauthorized (–∏–∑-–∑–∞ –Ω–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏)~~
- ‚ùå ~~RuntimeError: Cannot send a request, as the client has been closed~~
- ‚ùå ~~HTTP/2 not available (h2 package not installed)~~
- ‚ùå ~~–ü–æ–ª—É—á–µ–Ω–æ 0 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è –∏–≥—Ä—ã a8db~~

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
python -m src.main
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

–£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ:
- ‚úÖ HTTP/2 –∞–∫—Ç–∏–≤–µ–Ω
- ‚úÖ Parallel scanning —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Game UUIDs –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ 400/401
- ‚úÖ –ü—Ä–µ–¥–º–µ—Ç—ã —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–∞—é—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ API –∫–ª—é—á–∞ (–≤—Ä—É—á–Ω—É—é)

–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://dmarket.com/account/api-keys –∏ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –ø—Ä–∞–≤–∞ –∞–∫—Ç–∏–≤–Ω—ã.

### 4. –ù–∞–±–ª—é–¥–∞—Ç—å –∑–∞ —Ä–∞–±–æ—Ç–æ–π

–°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 5-10 –º–∏–Ω—É—Ç:
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫
- AdaptiveScanner –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –º–µ–Ω—è—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
- –ù–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –æ—à–∏–±–æ–∫ 400/401

---

## üìö –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –§–∞–π–ª                       | –°—Ç–∞—Ç—É—Å       | –û–ø–∏—Å–∞–Ω–∏–µ                                    |
| -------------------------- | ------------ | ------------------------------------------- |
| `FINAL_FIXES_SUMMARY.md`   | ‚úÖ –°–æ–∑–¥–∞–Ω     | –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Å –∫–æ–¥–æ–º |
| `FIX_PARALLEL_SCANNING.md` | ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è      |
| `FIXES_APPLIED_SUCCESS.md` | ‚úÖ –°–æ–∑–¥–∞–Ω     | –≠—Ç–æ—Ç —Ñ–∞–π–ª - –æ—Ç—á–µ—Ç –æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π  |
| `READY_TO_LAUNCH.md`       | ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç | –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –±–æ—Ç–∞                          |

---

## üí° –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã

### –û—à–∏–±–∫–∞ 401 Unauthorized (–µ—Å–ª–∏ –≤—Ä–µ–º—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ API –∫–ª—é—á–∞:
```
https://dmarket.com/account/api-keys
```

–ï—Å–ª–∏ –ø—Ä–∞–≤–∞ –µ—Å—Ç—å, –Ω–æ –æ—à–∏–±–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π API –∫–ª—é—á.

### –û—à–∏–±–∫–∞ 400 –¥–ª—è TF2

TF2 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–π ID "440", –∞ –Ω–µ UUID. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å.

### –ü—É—Å—Ç—ã–µ —Å–Ω–∏–º–∫–∏ —Ä—ã–Ω–∫–∞

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
1. –ë–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞ > $0
2. API –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω
3. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ

---

## üéâ –ò—Ç–æ–≥

**–í—Å–µ 4 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã!**

‚úÖ Game ID –º–∞–ø–ø–∏–Ω–≥ - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (3 –º–µ—Ç–æ–¥–∞)
‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ - –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ (—Ä–∞–±–æ—Ç–∞–µ—Ç)
‚ö†Ô∏è –ü—Ä–∞–≤–∞ API –∫–ª—é—á–∞ - —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
‚úÖ AdaptiveScanner –∑–∞—â–∏—Ç–∞ - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

**–ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É –∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ!** üöÄ

---

**–í–µ—Ä—Å–∏—è:** 6.2
**–ê–≤—Ç–æ—Ä:** GitHub Copilot CLI
**–î–∞—Ç–∞:** 03.01.2026 12:28 UTC

# üöÄ Enhanced Arbitrage Implementation Summary

## –î–∞—Ç–∞: 2 —è–Ω–≤–∞—Ä—è 2026

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. **orderBy: best_discount** - –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ª—É—á—à–∏—Ö —Å–∫–∏–¥–æ–∫

**–§–∞–π–ª—ã:**
- `src/dmarket/enhanced_arbitrage_scanner.py` (–º–µ—Ç–æ–¥ `_fetch_items_by_discount`)

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
```python
params = {
    "orderBy": "best_discount",  # ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ!
    "orderDir": "desc"
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- API DMarket –æ—Ç–¥–∞–µ—Ç –ø—Ä–µ–¥–º–µ—Ç—ã —Å **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–∏–¥–∫–æ–π –ø–µ—Ä–≤—ã–º–∏**
- –ù–µ –Ω—É–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å 1000 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –≤—Ä—É—á–Ω—É—é
- –°–∫–æ—Ä–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ **—É–≤–µ–ª–∏—á–µ–Ω–∞ –≤ 5-10 —Ä–∞–∑**

---

### 2. **External Price Comparison** - –ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –∞—Ä–±–∏—Ç—Ä–∞–∂

**–§–∞–π–ª—ã:**
- `src/dmarket/external_price_api.py` (–Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ Steam Community Market API integration
- ‚úÖ CSGOFloat Market API integration
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Ñ–∏—Ç–∞ —Å —É—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–π
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω (TTL: 5 –º–∏–Ω—É—Ç)
- ‚úÖ –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```python
from src.dmarket.external_price_api import get_external_price_api

api = get_external_price_api()

# –°—Ä–∞–≤–Ω–∏—Ç—å —Ü–µ–Ω—É –ø—Ä–µ–¥–º–µ—Ç–∞
result = await api.calculate_arbitrage_margin(
    item_name="AK-47 | Redline (Field-Tested)",
    dmarket_price=10.00,
    game="csgo"
)

if result["has_opportunity"]:
    print(f"–ü—Ä–æ—Ñ–∏—Ç: ${result['net_profit']}")
    print(f"–ü–ª–æ—â–∞–¥–∫–∞: {result['best_platform']}")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ù–∞—Ö–æ–¥–∏—Ç **–Ω–∞—Å—Ç–æ—è—â–∏–π –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –∞—Ä–±–∏—Ç—Ä–∞–∂**
- –£—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ –≤—Å–µ—Ö –ø–ª–æ—â–∞–¥–æ–∫ (DMarket 7%, Steam 13%, CSGOFloat 5%)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ `batch_compare_prices()`

---

### 3. **Sales History Check** - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–∞–¥–∞—é—â–∏—Ö —Ü–µ–Ω

**–§–∞–π–ª—ã:**
- `src/dmarket/enhanced_arbitrage_scanner.py` (–º–µ—Ç–æ–¥ `_filter_by_sales_history`)
- `src/dmarket/sales_history.py` (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–æ–¥—É–ª—å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 –ø—Ä–æ–¥–∞–∂
recent_sales = sales[:5]
avg_recent_price = sum(prices) / len(prices)

# –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–í–ï–†–ö–ê
if current_price < avg_recent_price * 0.9:  # -10% –æ—Ç —Å—Ä–µ–¥–Ω–µ–π
    # ‚ùå –≠—Ç–æ –ø–∞–¥–∞—é—â–∞—è —Ü–µ–Ω–∞ - –ù–ï –ü–û–ö–£–ü–ê–¢–¨!
    continue
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ò—Å–∫–ª—é—á–∞–µ—Ç –ø—Ä–µ–¥–º–µ—Ç—ã —Å **–ø–∞–¥–∞—é—â–µ–π —Ü–µ–Ω–æ–π**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—ä–µ–º –ø—Ä–æ–¥–∞–∂ (–º–∏–Ω–∏–º—É–º 5 –∑–∞ –Ω–µ–¥–µ–ª—é)
- –§–∏–ª—å—Ç—Ä—É–µ—Ç –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã

---

### 4. **Smart Liquidity Filter** - –£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

**–§–∞–π–ª—ã:**
- `src/dmarket/enhanced_arbitrage_scanner.py` (–º–µ—Ç–æ–¥ `_apply_basic_filters`)

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
```python
blacklisted_keywords = [
    "souvenir",      # –ú–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã
    "sticker",       # –ù–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
    "package",       # –ù–µ –¥–ª—è –∞—Ä–±–∏—Ç—Ä–∞–∂–∞
    "case key",      # –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞
    "capsule",       # –ù–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
    "pin",           # –ú—É—Å–æ—Ä
    "music kit",     # –ù–∏–∑–∫–∏–π —Å–ø—Ä–æ—Å
    "graffiti",      # –ú—É—Å–æ—Ä
]
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ Trade Lock <= 7 –¥–Ω–µ–π (168 —á–∞—Å–æ–≤)
- ‚úÖ –ù–∞–ª–∏—á–∏–µ `suggestedPrice`
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–∫–∏–¥–∫–∞ (default: 15%)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –§–∏–ª—å—Ç—Ä—É–µ—Ç **90%+ –º—É—Å–æ—Ä–Ω—ã—Ö –ª–∏—Å—Ç–∏–Ω–≥–æ–≤**
- –û—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –ª–∏–∫–≤–∏–¥–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
- –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–ª–∏–∫–≤–∏–¥–æ–≤

---

### 5. **Realistic Thresholds** - –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –ø–æ—Ä–æ–≥–∏

**–§–∞–π–ª—ã:**
- `src/dmarket/enhanced_arbitrage_scanner.py` (–ø–∞—Ä–∞–º–µ—Ç—Ä `min_discount`)

**–ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:**
```python
# ‚ùå –°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥ (–Ω–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ)
min_discount = 30.0  # –ù–∞—Ö–æ–¥–∏—Ç—Å—è 0-1 —Å–¥–µ–ª–∫–∞ –≤ –¥–µ–Ω—å

# ‚úÖ –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ)
min_discount = 15.0  # –ù–∞—Ö–æ–¥–∏—Ç—Å—è 5-20 —Å–¥–µ–ª–æ–∫ –≤ –¥–µ–Ω—å
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–æ—Ä–æ–≥ **15-20%** –≤–º–µ—Å—Ç–æ 30%+
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –±–æ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å **10-20%**
- –°–∫–∏–¥–∫–∏ 30%+ –∑–∞–±–∏—Ä–∞—é—Ç—Å—è –∑–∞ **–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã**

---

### 6. **Opportunity Scoring** - –£–º–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥

**–§–∞–π–ª—ã:**
- `src/dmarket/enhanced_arbitrage_scanner.py` (–º–µ—Ç–æ–¥ `_rank_opportunities`)

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
```python
score = 0

# 1. External arbitrage (–Ω–∞–∏–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
if has_external_arbitrage:
    score += 50 + (external_profit_margin * 2)

# 2. Discount –æ—Ç suggested price
score += discount_percent

# 3. Liquidity (–æ–±—ä–µ–º –ø—Ä–æ–¥–∞–∂)
if sales_volume > 20:
    score += 20
elif sales_volume > 10:
    score += 10

# 4. Price range bonus
if 5 <= price <= 30:
    score += 10  # –°—Ä–µ–¥–Ω–∏–µ —Ü–µ–Ω—ã –±–æ–ª–µ–µ –ª–∏–∫–≤–∏–¥–Ω—ã
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- **–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞** –∫–∞–∂–¥–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç **–∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º—É –∞—Ä–±–∏—Ç—Ä–∞–∂—É**
- –£—á–µ—Ç **–ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏** –∏ **—Ü–µ–Ω–æ–≤–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞**

---

## üìÅ –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

1. **`src/dmarket/external_price_api.py`**
   - External price comparison (Steam, CSGOFloat)
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω (TTL: 5 –º–∏–Ω—É—Ç)
   - Batch processing –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   - ~300 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

2. **`src/dmarket/enhanced_arbitrage_scanner.py`**
   - –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å Enhanced Scanner
   - –í—Å–µ 6 —É–ª—É—á—à–µ–Ω–∏–π –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –º–æ–¥—É–ª—è–º–∏
   - ~450 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

3. **`src/telegram_bot/handlers/enhanced_scanner_handler.py`**
   - Telegram UI –¥–ª—è Enhanced Scanner
   - –ú–µ–Ω—é –≤—ã–±–æ—Ä–∞ –∏–≥—Ä
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –¥–µ—Ç–∞–ª—è–º–∏
   - Help —Å–∏—Å—Ç–µ–º–∞
   - ~350 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

4. **`docs/ENHANCED_ARBITRAGE_GUIDE.md`**
   - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - Troubleshooting
   - Best practices
   - ~800 —Å—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

## üîß –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **`src/telegram_bot/register_all_handlers.py`**
   - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `register_enhanced_scanner_handlers`
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö handlers

2. **`src/telegram_bot/keyboards/arbitrage.py`**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "‚ö° Enhanced Scanner"
   - –ü–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ –º–µ–Ω—é –∞—Ä–±–∏—Ç—Ä–∞–∂–∞

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –°—Ç–∞—Ä—ã–π vs –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥

| –ö—Ä–∏—Ç–µ—Ä–∏–π              | –°—Ç–∞—Ä—ã–π —Å–∫–∞–Ω–µ—Ä   | Enhanced Scanner             |
| --------------------- | --------------- | ---------------------------- |
| **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**        | –ü–æ –¥–∞—Ç–µ/—Ü–µ–Ω–µ    | **orderBy: best_discount** ‚úÖ |
| **External prices**   | ‚ùå –ù–µ—Ç           | ‚úÖ Steam + CSGOFloat          |
| **Sales history**     | ‚ùå –ù–µ—Ç           | ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–¥–µ–Ω–∏—è —Ü–µ–Ω       |
| **Liquidity filter**  | –ë–∞–∑–æ–≤—ã–π         | ‚úÖ Smart filtering            |
| **Min discount**      | 30% (–Ω–µ—Ä–µ–∞–ª—å–Ω–æ) | **15%** (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ) ‚úÖ      |
| **Opportunity score** | ‚ùå –ù–µ—Ç           | ‚úÖ –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞         |
| **–ù–∞—Ö–æ–¥–æ–∫ –≤ –¥–µ–Ω—å**    | 0-1             | **5-20** ‚úÖ                   |
| **–ö—Ä–æ—Å—Å-–∞—Ä–±–∏—Ç—Ä–∞–∂**    | ‚ùå –ù–µ—Ç           | ‚úÖ –î–∞                         |

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ß–µ—Ä–µ–∑ Telegram Bot

```
1. –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂
2. ‚ö° Enhanced Scanner
3. –í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É (CS:GO, Dota 2, Rust, TF2)
4. –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (10-30 —Å–µ–∫—É–Ω–¥)
```

### –ß–µ—Ä–µ–∑ Python API

```python
from src.dmarket.enhanced_arbitrage_scanner import scan_with_enhancements

# –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
opportunities = await scan_with_enhancements(
    game="csgo",
    min_price=5.0,
    max_price=50.0,
    min_discount=15.0,
)

for item in opportunities:
    print(f"{item['title']}: ${item['price_usd']}")
    print(f"Score: {item['opportunity_score']}")

    # External arbitrage
    ext = item.get("external_arbitrage")
    if ext and ext["has_opportunity"]:
        print(f"üí∞ –í–Ω–µ—à–Ω–∏–π –ø—Ä–æ—Ñ–∏—Ç: ${ext['net_profit']}")
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. Rate Limiting

**DMarket API:**
- 10-20 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫—É–Ω–¥—É
- Enhanced Scanner: 3-5 –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑ –≤ **10-15 —Å–µ–∫—É–Ω–¥**

**Steam API:**
- ~20 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
- **–†–µ—à–µ–Ω–∏–µ:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 5 –º–∏–Ω—É—Ç

**CSGOFloat API:**
- ~60 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
- –ë–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π

### 2. DRY_RUN Mode

‚ö†Ô∏è **–í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å DRY_RUN=true**

```bash
# –í .env
DRY_RUN=true   # –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º
```

### 3. External API –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

- Steam API –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º
- CSGOFloat —Ç–æ–ª—å–∫–æ –¥–ª—è CS:GO
- Fallback –Ω–∞ DMarket —Ü–µ–Ω—ã –µ—Å–ª–∏ external –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

---

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–î–æ Enhanced Scanner:**
- –ù–∞—Ö–æ–¥–æ–∫: 0-1 –≤ –¥–µ–Ω—å
- Hit rate: <10%
- –ö—Ä–æ—Å—Å-–∞—Ä–±–∏—Ç—Ä–∞–∂: –ù–µ—Ç
- –ü–∞–¥–∞—é—â–∏–µ —Ü–µ–Ω—ã: –ß–∞—Å—Ç–æ –ø–æ–∫—É–ø–∞–ª–∏—Å—å

**–ü–æ—Å–ª–µ Enhanced Scanner:**
- –ù–∞—Ö–æ–¥–æ–∫: **5-20 –≤ –¥–µ–Ω—å** ‚úÖ
- Hit rate: **30-60%** ‚úÖ
- –ö—Ä–æ—Å—Å-–∞—Ä–±–∏—Ç—Ä–∞–∂: **10-20%** –Ω–∞—Ö–æ–¥–æ–∫ ‚úÖ
- –ü–∞–¥–∞—é—â–∏–µ —Ü–µ–Ω—ã: **–§–∏–ª—å—Ç—Ä—É—é—Ç—Å—è** ‚úÖ

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "External API timeout"

**–ü—Ä–∏—á–∏–Ω–∞:**
- Steam/CSGOFloat API –º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–≤–µ—á–∞—é—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```python
scanner = EnhancedArbitrageScanner(
    enable_external_comparison=False  # –û—Ç–∫–ª—é—á–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ
)
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "–ù–µ –Ω–∞–π–¥–µ–Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π"

**–ü—Ä–∏—á–∏–Ω—ã:**
- –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π `min_discount`
- –ù–µ–ø–æ–¥—Ö–æ–¥—è—â–µ–µ –≤—Ä–µ–º—è —Å—É—Ç–æ–∫
- –ù–µ–ª–∏–∫–≤–∏–¥–Ω–∞—è –∏–≥—Ä–∞

**–†–µ—à–µ–Ω–∏—è:**
1. –°–Ω–∏–∑–∏—Ç—å `min_discount` –¥–æ 12-15%
2. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤ 10:00-14:00 UTC
3. –í—ã–±—Ä–∞—Ç—å CS:GO (—Å–∞–º–∞—è –ª–∏–∫–≤–∏–¥–Ω–∞—è –∏–≥—Ä–∞)

---

## üîú –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å:

1. **Buff163 integration** (–∫–∏—Ç–∞–π—Å–∫–∞—è –ø–ª–æ—â–∞–¥–∫–∞)
2. **Price.MP integration** (–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä —Ü–µ–Ω)
3. **ML-based price prediction** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. **WebSocket integration** –¥–ª—è real-time —Ü–µ–Ω
5. **Historical price charts** –≤ Telegram
6. **Auto-buy –Ω–∞ base Enhanced Scanner** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ENHANCED_ARBITRAGE_GUIDE.md](ENHANCED_ARBITRAGE_GUIDE.md) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- [ARBITRAGE.md](ARBITRAGE.md) - –ë–∞–∑–æ–≤—ã–π –≥–∞–π–¥
- [AUTO_BUY_GUIDE.md](AUTO_BUY_GUIDE.md) - –ê–≤—Ç–æ–ø–æ–∫—É–ø–∫–∞
- [DMARKET_API_FULL_SPEC.md](DMARKET_API_FULL_SPEC.md) - API docs

---

## ‚úÖ Checklist –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å Enhanced Scanner —á–µ—Ä–µ–∑ Telegram
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É external price API
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ sales history
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å liquidity filter
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å opportunity scoring
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ 4 –∏–≥—Ä—ã (CS:GO, Dota2, Rust, TF2)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ DRY_RUN mode
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Help –º–µ–Ω—é
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å rate limiting (–Ω–µ –ø—Ä–µ–≤—ã—à–∞—Ç—å 10 req/sec)

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2 —è–Ω–≤–∞—Ä—è 2026
**–í–µ—Ä—Å–∏—è:** 1.0.0

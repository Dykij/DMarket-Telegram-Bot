# ü§ñ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

**–í–µ—Ä—Å–∏—è**: 1.0
**–î–∞—Ç–∞**: –î–µ–∫–∞–±—Ä—å 2025

---

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ DMarket Telegram Bot.

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ (REQUIRED)

| –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ              | ID                    | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                       |
| ----------------------- | --------------------- | -------------------------------- |
| **GitHub Copilot**      | `github.copilot`      | AI-–∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞           |
| **GitHub Copilot Chat** | `github.copilot-chat` | AI-—á–∞—Ç –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π |
| **GitHub Copilot Labs** | `github.copilot-labs` | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏        |

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ß–µ—Ä–µ–∑ VS Code Command Palette (Ctrl+Shift+P)
> Extensions: Install Extensions
# –ü–æ–∏—Å–∫: "GitHub Copilot"
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### Instruction Arrays

–í `.vscode/settings.json` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –º–∞—Å—Å–∏–≤—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –¥–ª—è Copilot:

```json
{
  "github.copilot.chat.codeGeneration.instructions": [
    { "text": "–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π async/await –¥–ª—è I/O –æ–ø–µ—Ä–∞—Ü–∏–π" },
    { "text": "–î–æ–±–∞–≤–ª—è–π type hints –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π" },
    { "text": "–ò—Å–ø–æ–ª—å–∑—É–π structlog –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è" }
  ],
  "github.copilot.chat.reviewSelection.instructions": [
    { "text": "–ü—Ä–æ–≤–µ—Ä—è–π –Ω–∞–ª–∏—á–∏–µ type hints" },
    { "text": "–ü—Ä–æ–≤–µ—Ä—è–π –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫" }
  ]
}
```

### Prompt Files

–ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ –≤ `.github/prompts/`:

| –§–∞–π–ª                 | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                        |
| -------------------- | --------------------------------- |
| `dmarket-api.md`     | –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å DMarket API      |
| `error-handling.md`  | –ü–∞—Ç—Ç–µ—Ä–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫         |
| `code-review.md`     | –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –∫–æ–¥-—Ä–µ–≤—å—é             |
| `test-generation.md` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ (pytest-asyncio) |

---

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞

**–ß–µ—Ä–µ–∑ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ:**
```python
# –ù–∞—á–Ω–∏—Ç–µ –ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, Copilot –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –∫–æ–¥
# –ü—Ä–∏–º–µ—Ä: –Ω–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∏ –Ω–∞–∂–º–∏—Ç–µ Tab

async def get_market_items(game: str) -> list[dict]:
    # –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã —Å DMarket API —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
    # [Tab –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è]
```

**–ß–µ—Ä–µ–∑ —á–∞—Ç (Ctrl+I):**
```
@workspace —Å–æ–∑–¥–∞–π —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ DMarket —Å retry –ª–æ–≥–∏–∫–æ–π
```

### 2. –ö–æ–¥-—Ä–µ–≤—å—é

**–í—ã–¥–µ–ª–∏—Ç–µ –∫–æ–¥ –∏ —Å–ø—Ä–æ—Å–∏—Ç–µ:**
```
/review –ø—Ä–æ–≤–µ—Ä—å —ç—Ç–æ—Ç –∫–æ–¥ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –ø—Ä–æ–µ–∫—Ç–∞
```

Copilot –ø—Ä–æ–≤–µ—Ä–∏—Ç:
- Type hints
- Async/await –¥–ª—è I/O
- –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- Rate limiting

### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤

**–ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/tests`:**
```
/tests –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ calculate_arbitrage_profit
```

Copilot —Å–æ–∑–¥–∞—Å—Ç:
- pytest-asyncio —Ç–µ—Å—Ç—ã
- AAA –ø–∞—Ç—Ç–µ—Ä–Ω (Arrange-Act-Assert)
- Edge cases –∏ error handling

### 4. –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–¥–∞

**–ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/explain`:**
```
/explain —á—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä @retry?
```

---

## üìù Prompt Engineering

### –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã

**‚úÖ –•–æ—Ä–æ—à–æ (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ):**
```
–°–æ–∑–¥–∞–π async —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è DMarket API:
- –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã –∏–≥—Ä—ã CS2 (gameId: a8db)
- –¶–µ–Ω–∞ –æ—Ç $10 –¥–æ $50 (–≤ —Ü–µ–Ω—Ç–∞—Ö: 1000-5000)
- –° retry –ª–æ–≥–∏–∫–æ–π (tenacity)
- –° rate limiting (30 req/min)
```

**‚ùå –ü–ª–æ—Ö–æ (—Ä–∞—Å–ø–ª—ã–≤—á–∞—Ç–æ):**
```
–ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è API
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

**–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∞–π–ª—ã:**
```
@workspace #file:src/dmarket/dmarket_api.py –¥–æ–±–∞–≤—å –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
```

**–°—Å—ã–ª–∫–∞ –Ω–∞ —Å–∏–º–≤–æ–ª—ã:**
```
@workspace #symbol:ArbitrageScanner –¥–æ–±–∞–≤—å –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å "ultra"
```

---

## üß™ Copilot Labs Features

### Brushes (–ö–∏—Å—Ç–∏)

| –ö–∏—Å—Ç—å           | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                |
| --------------- | ------------------------- |
| **Make Robust** | –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ |
| **Add Types**   | –î–æ–±–∞–≤–∏—Ç—å type hints       |
| **Make Async**  | –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ async    |
| **Add Docs**    | –î–æ–±–∞–≤–∏—Ç—å docstrings       |

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –í—ã–¥–µ–ª–∏—Ç–µ –∫–æ–¥
2. –û—Ç–∫—Ä–æ–π—Ç–µ Copilot Labs –ø–∞–Ω–µ–ª—å
3. –í—ã–±–µ—Ä–∏—Ç–µ –∫–∏—Å—Ç—å
4. –ü—Ä–∏–º–∏—Ç–µ –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è DMarket API

```python
# Copilot –∑–Ω–∞–µ—Ç —ç—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ prompts/dmarket-api.md:

# 1. –¶–µ–Ω—ã –í–°–ï–ì–î–ê –≤ —Ü–µ–Ω—Ç–∞—Ö
price_usd = 1250  # $12.50, –Ω–µ 12.50!

# 2. HMAC-SHA256 –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
signature = hmac.new(secret_key, string_to_sign, hashlib.sha256).hexdigest()

# 3. Rate limiting 30 req/min
from aiolimiter import AsyncLimiter
rate_limiter = AsyncLimiter(30, 60)

# 4. Retry —Å exponential backoff
@retry(stop=stop_after_attempt(3), wait=wait_exponential(min=2, max=10))
async def api_call():
    ...
```

### –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è Telegram Bot

```python
# –ò–∑ copilot-instructions.md:

# 1. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π update.effective_user
if not update.effective_user:
    return

# 2. –ò—Å–ø–æ–ª—å–∑—É–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é
from src.telegram_bot.localization import get_text
message = get_text("welcome_message", user.language)

# 3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π –æ—à–∏–±–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ
except RateLimitError:
    await update.message.reply_text("‚è≥ –ü–æ–¥–æ–∂–¥–∏—Ç–µ...")
```

---

## üö´ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

### Copilot –ù–ï –∑–Ω–∞–µ—Ç:

1. **–ê–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ DMarket API** - –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
2. **–í–∞—à–∏ —Å–µ–∫—Ä–µ—Ç—ã** - –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—Å—Ç–∞–≤–ª—è–π—Ç–µ API –∫–ª—é—á–∏ –≤ –ø—Ä–æ–º–ø—Ç—ã
3. **–°–ø–µ—Ü–∏—Ñ–∏–∫—É –≤–∞—à–µ–≥–æ –¥–µ–ø–ª–æ—è** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è

### –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ:

- [ ] Type hints –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã (`mypy src/`)
- [ ] –ö–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω (`ruff format .`)
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (`pytest`)
- [ ] –ù–µ—Ç security issues (`ruff check . --select S`)

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

| –ó–∞–¥–∞—á–∞                | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç           | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å |
| --------------------- | -------------------- | ------------- |
| Boilerplate –∫–æ–¥       | Copilot autocomplete | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê         |
| –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤      | `/tests` –∫–æ–º–∞–Ω–¥–∞     | ‚≠ê‚≠ê‚≠ê‚≠ê          |
| –ö–æ–¥-—Ä–µ–≤—å—é             | `/review` –∫–æ–º–∞–Ω–¥–∞    | ‚≠ê‚≠ê‚≠ê‚≠ê          |
| –°–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ | Chat + context       | ‚≠ê‚≠ê‚≠ê           |
| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è | –†—É—á–Ω–æ–π –ø–æ–¥—Ö–æ–¥        | ‚≠ê‚≠ê            |

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [GitHub Copilot Documentation](https://docs.github.com/en/copilot)
- [VS Code Copilot Guide](https://code.visualstudio.com/docs/copilot/overview)
- [Prompt Engineering Guide](https://github.com/brexhq/prompt-engineering)

---

## üìù Changelog

### v1.0 (–î–µ–∫–∞–±—Ä—å 2025)
- –ù–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ instruction arrays
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è DMarket API
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Copilot Labs

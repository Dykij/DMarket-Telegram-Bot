# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ API –∫–ª—é—á–µ–π DMarket

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

1. ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `.env` —Å –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
2. ‚úÖ –§–∞–π–ª `.env` —É–∂–µ –≤ `.gitignore` (–Ω–µ –±—É–¥–µ—Ç –∑–∞–∫–æ–º–º–∏—á–µ–Ω)
3. ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `src/utils/config.py`
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

---

## üìù –ö–∞–∫ –∑–∞–ø–æ–ª–Ω–∏—Ç—å API –∫–ª—é—á–∏

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ Telegram Bot Token

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ **@BotFather**
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot` –∏–ª–∏ `/mybots`
4. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω
5. –¢–æ–∫–µ–Ω –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫: `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz1234567890`

### –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç–µ DMarket API –∫–ª—é—á–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ [https://dmarket.com/account/api-settings](https://dmarket.com/account/api-settings)
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç DMarket
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Public Key** –∏ **Secret Key**
5. ‚ö†Ô∏è **–í–ê–ñ–ù–û**: Secret Key –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!

### –®–∞–≥ 3: –ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env` —Ñ–∞–π–ª

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# 1. Telegram Bot Token (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz1234567890

# 2. DMarket Public Key (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
DMARKET_PUBLIC_KEY=–≤–∞—à_–ø—É–±–ª–∏—á–Ω—ã–π_–∫–ª—é—á_–∑–¥–µ—Å—å

# 3. DMarket Secret Key (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
DMARKET_SECRET_KEY=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á_–∑–¥–µ—Å—å

# 4. –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º (–æ—Å—Ç–∞–≤—å—Ç–µ true –¥–ª—è –Ω–∞—á–∞–ª–∞!)
DRY_RUN=true
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É:

```bash
python -c "from src.utils.config import Config; c = Config.load(); c.validate(); print('‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞!')"
```

–ï—Å–ª–∏ –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
‚úÖ DRY_RUN=true - Bot is in safe mode (no real trades will be made)
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞!
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û

1. **–ù–ò–ö–û–ì–î–ê** –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª –≤ Git
   - ‚úÖ –§–∞–π–ª —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `git status` –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `.env`

2. **–í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å DRY_RUN=true**

   ```bash
   DRY_RUN=true   # –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º - –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
   ```

3. **–ù–µ –¥–µ–ª–∏—Ç–µ—Å—å –∫–ª—é—á–∞–º–∏**
   - –ù–∏–∫–æ–º—É –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `.env`
   - –ï—Å–ª–∏ –∫–ª—é—á–∏ —É—Ç–µ–∫–ª–∏ - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —É–¥–∞–ª–∏—Ç–µ –∏—Ö –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö DMarket

---

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (3 –∫–æ–º–∞–Ω–¥—ã)

```bash
# 1. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ .env —Ñ–∞–π–ª (—Å–º. –≤—ã—à–µ)

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
pip install -r requirements.txt

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python -m src.main
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ .env —Ñ–∞–π–ª–∞

–§–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ü–∏–∏:

| –°–µ–∫—Ü–∏—è             | –û–ø–∏—Å–∞–Ω–∏–µ              | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ?               |
| ------------------ | --------------------- | -------------------------- |
| **Telegram Bot**   | –¢–æ–∫–µ–Ω –±–æ—Ç–∞            | ‚úÖ –î–∞                       |
| **DMarket API**    | Public/Secret –∫–ª—é—á–∏   | ‚úÖ –î–∞                       |
| **Database**       | URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö       | ‚úÖ –î–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é SQLite) |
| **Security**       | –°–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  | ‚ùå –ù–µ—Ç                      |
| **Trading Safety** | DRY_RUN, –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–Ω | ‚úÖ –î–∞ (–æ—Å—Ç–∞–≤—å—Ç–µ defaults)   |
| **Rate Limiting**  | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–∏–º–∏—Ç–æ–≤     | ‚ùå –ù–µ—Ç (—Ä–∞–±–æ—Ç–∞—é—Ç defaults)  |
| **Monitoring**     | Sentry, Prometheus    | ‚ùå –ù–µ—Ç                      |
| **Daily Reports**  | –ê–≤—Ç–æ–æ—Ç—á–µ—Ç—ã            | ‚ùå –ù–µ—Ç                      |

---

## üõ†Ô∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL (–¥–ª—è production)

```bash
# –í .env —Ñ–∞–π–ª–µ –∑–∞–º–µ–Ω–∏—Ç–µ:
DATABASE_URL=postgresql://username:password@localhost:5432/dmarket_bot
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞

```bash
# –¢–æ–ª—å–∫–æ —ç—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ—Ç–∞
ALLOWED_USERS=123456789,987654321

# –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã)
ADMIN_USERS=123456789
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ Sentry

```bash
# –ü–æ–ª—É—á–∏—Ç–µ DSN –Ω–∞ https://sentry.io/
SENTRY_DSN=https://abc123@o123456.ingest.sentry.io/7654321
SENTRY_ENVIRONMENT=production
```

---

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `src/utils/config.py`:

```python
from src.utils.config import Config

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–∏—Ç–∞–µ—Ç .env)
config = Config.load()

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
config.validate()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
print(config.dmarket.public_key)
print(config.bot.token)
print(config.dry_run)  # True/False
```

### –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

1. **–î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** (–≤ `config.py`)
2. **YAML —Ñ–∞–π–ª** (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω): `Config.load("config/config.yaml")`
3. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** (`.env` —Ñ–∞–π–ª)
4. **–°–∏—Å—Ç–µ–º–Ω—ã–µ ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** (–∏–º–µ—é—Ç –≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

---

## ‚ùì FAQ

### Q: –ì–¥–µ –≤–∑—è—Ç—å Telegram ID –¥–ª—è ALLOWED_USERS?

–û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É [@userinfobot](https://t.me/userinfobot) - –æ–Ω –ø–æ–∫–∞–∂–µ—Ç –≤–∞—à ID.

### Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø–æ—Ç–µ—Ä—è–ª Secret Key?

–£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π –∫–ª—é—á –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö DMarket –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π. Secret Key –Ω–µ–ª—å–∑—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ—Ç–∞ –±–µ–∑ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π?

–î–∞, –º–∏–Ω–∏–º–∞–ª—å–Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è:

- `TELEGRAM_BOT_TOKEN`
- `DMARKET_PUBLIC_KEY`
- `DMARKET_SECRET_KEY`

–û—Å—Ç–∞–ª—å–Ω–æ–µ –∏–º–µ–µ—Ç —Ä–∞–∑—É–º–Ω—ã–µ defaults.

### Q: –ö–æ–≥–¥–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å DRY_RUN –Ω–∞ false?

–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ:

1. –ú–∏–Ω–∏–º—É–º 48-72 —á–∞—Å–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
3. –ü–æ–Ω–∏–º–∞–Ω–∏—è –≤—Å–µ—Ö —Ä–∏—Å–∫–æ–≤
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–∏–º–∏—Ç–æ–≤ (MAX_TRADE_VALUE, DAILY_LIMIT)

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `docs/README.md`
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**: `docs/QUICK_START.md`
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: `docs/SECURITY.md`
- **–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞—Ä–±–∏—Ç—Ä–∞–∂—É**: `docs/ARBITRAGE.md`
- **API —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫**: `docs/api_reference.md`

---

## ‚úÖ Checklist –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] –ó–∞–ø–æ–ª–Ω–µ–Ω `TELEGRAM_BOT_TOKEN`
- [ ] –ó–∞–ø–æ–ª–Ω–µ–Ω `DMARKET_PUBLIC_KEY`
- [ ] –ó–∞–ø–æ–ª–Ω–µ–Ω `DMARKET_SECRET_KEY`
- [ ] `DRY_RUN=true` (–¥–ª—è –Ω–∞—á–∞–ª–∞!)
- [ ] `.env` –Ω–µ –≤–∏–¥–µ–Ω –≤ `git status`
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞: `python -c "from src.utils.config import Config; Config.load().validate()"`
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `pip install -r requirements.txt`
- [ ] –ü–∞–ø–∫–∞ `data/` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: `mkdir -p data logs`

---

## üÜò –ü–æ–º–æ—â—å

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `logs/dmarket_bot.log`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ DEBUG —Ä–µ–∂–∏–º–µ: `DEBUG=true python -m src.main`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ issues: [GitHub Issues](https://github.com/Dykij/DMarket-Telegram-Bot/issues)
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

---

**–í–µ—Ä—Å–∏—è**: 1.0.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 01 —è–Ω–≤–∞—Ä—è 2026

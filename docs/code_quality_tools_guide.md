# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

## üìã –û–±–∑–æ—Ä

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞:

- **Ruff** - –ë—ã—Å—Ç—Ä—ã–π –ª–∏–Ω—Ç–µ—Ä –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –Ω–∞ Rust (–∑–∞–º–µ–Ω–∞ Flake8, isort, pyupgrade –∏ –¥—Ä.)
- **Black** - –ù–µ–ø—Ä–µ–∫–ª–æ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –∫–æ–¥–∞ Python
- **MyPy** - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ç–∏–ø–æ–≤
- **pytest** - –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **Coverage** - –ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏

---

## üîß Ruff - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ª–∏–Ω—Ç–µ—Ä –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä

### –ß—Ç–æ —Ç–∞–∫–æ–µ Ruff?

Ruff - —ç—Ç–æ **—á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ –±—ã—Å—Ç—Ä—ã–π** –ª–∏–Ω—Ç–µ—Ä –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –¥–ª—è Python, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Rust. –û–Ω –≤ 10-100 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

- **Flake8** + –≤—Å–µ –µ–≥–æ –ø–ª–∞–≥–∏–Ω—ã
- **isort** - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
- **pyupgrade** - –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- **autoflake** - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
- **pydocstyle** - –ø—Ä–æ–≤–µ—Ä–∫–∞ docstrings

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚ö° **–°–∫–æ—Ä–æ—Å—Ç—å**: 10-100x –±—ã—Å—Ç—Ä–µ–µ Flake8 –∏ Black
- üìè **800+ –ø—Ä–∞–≤–∏–ª** –∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ª–∏–Ω—Ç–µ—Ä–æ–≤
- üîß **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–æ–±–ª–µ–º
- üêç **Python 3.11+** —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- üì¶ **–í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤
- üõ†Ô∏è **pyproject.toml** –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ (–ª–∏–Ω—Ç–∏–Ω–≥)
ruff check src/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
ruff check src/ --fix

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç
ruff check .

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
ruff format src/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
ruff format --check src/

# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
ruff rule --all

# –û–±—ä—è—Å–Ω–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ
ruff rule E501
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `pyproject.toml` (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)

```toml
[tool.ruff]
line-length = 88              # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏
target-version = "py311"      # –¶–µ–ª–µ–≤–∞—è –≤–µ—Ä—Å–∏—è Python

[tool.ruff.lint]
# –í—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–∞–≤–∏–ª
select = [
    "E",    # pycodestyle errors
    "F",    # Pyflakes
    "W",    # pycodestyle warnings
    "I",    # isort
    "N",    # pep8-naming
    "UP",   # pyupgrade
    "ANN",  # flake8-annotations
    "S",    # flake8-bandit (security)
    "B",    # flake8-bugbear
    "A",    # flake8-builtins
    "C4",   # flake8-comprehensions
    "DTZ",  # flake8-datetimez
    "EM",   # flake8-errmsg
    "ISC",  # flake8-implicit-str-concat
    "G",    # flake8-logging-format
    "PIE",  # flake8-pie
    "PT",   # flake8-pytest-style
    "Q",    # flake8-quotes
    "RSE",  # flake8-raise
    "RET",  # flake8-return
    "SIM",  # flake8-simplify
    "ARG",  # flake8-unused-arguments
    "PTH",  # flake8-use-pathlib
    "ERA",  # eradicate (commented code)
    "PD",   # pandas-vet
    "PGH",  # pygrep-hooks
    "PL",   # Pylint
    "TRY",  # tryceratops
    "NPY",  # NumPy-specific rules
]

# –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ –ø—Ä–∞–≤–∏–ª–∞
ignore = [
    "ANN101",  # Missing type annotation for self
    "ANN102",  # Missing type annotation for cls
    "ANN401",  # Dynamically typed expressions (Any)
    "S101",    # Use of assert
    "PLR0913", # Too many arguments
    "RUF001",  # –ö–∏—Ä–∏–ª–ª–∏—Ü–∞ –≤ —Å—Ç—Ä–æ–∫–∞—Ö
    "RUF002",  # –ö–∏—Ä–∏–ª–ª–∏—Ü–∞ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö
    "RUF003",  # –ö–∏—Ä–∏–ª–ª–∏—Ü–∞ –≤ docstrings
]
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–∞–≤–∏–ª Ruff

| –ö–æ–¥     | –ö–∞—Ç–µ–≥–æ—Ä–∏—è               | –û–ø–∏—Å–∞–Ω–∏–µ                                               |
| ------- | ----------------------- | ------------------------------------------------------ |
| **E**   | pycodestyle errors      | –û—à–∏–±–∫–∏ —Å—Ç–∏–ª—è –∫–æ–¥–∞ PEP 8                                |
| **F**   | Pyflakes                | –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (–Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ) |
| **W**   | pycodestyle warnings    | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è —Å—Ç–∏–ª—è                                   |
| **I**   | isort                   | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤                      |
| **N**   | pep8-naming             | –°–æ–≥–ª–∞—à–µ–Ω–∏—è –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏                               |
| **UP**  | pyupgrade               | –ú–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ (f-strings, type hints)        |
| **ANN** | flake8-annotations      | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π —Ç–∏–ø–æ–≤                               |
| **S**   | flake8-bandit           | –ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏                                  |
| **B**   | flake8-bugbear          | –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –±–∞–≥–∏                                     |
| **A**   | flake8-builtins         | –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π                     |
| **C4**  | flake8-comprehensions   | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è comprehensions                             |
| **DTZ** | flake8-datetimez        | –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏/–≤—Ä–µ–º–µ–Ω–µ–º                               |
| **PIE** | flake8-pie              | –†–∞–∑–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è                                       |
| **PT**  | flake8-pytest-style     | –°—Ç–∏–ª—å pytest                                           |
| **SIM** | flake8-simplify         | –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞                                         |
| **ARG** | flake8-unused-arguments | –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã                               |
| **PTH** | flake8-use-pathlib      | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ pathlib                                  |
| **ERA** | eradicate               | –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥                                 |
| **PL**  | Pylint                  | –ü—Ä–∞–≤–∏–ª–∞ Pylint                                         |
| **TRY** | tryceratops             | –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π                                   |

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

Ruff –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –º–Ω–æ–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

```bash
# –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
ruff check --fix .

# –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)
ruff check --fix --unsafe-fixes .
```

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –ø—Ä–æ–±–ª–µ–º:**
- –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
- –ú–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `%` ‚Üí f-strings)
- –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VS Code

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ: [Ruff (astral-sh.ruff)](https://marketplace.visualstudio.com/items?itemName=charliermarsh.ruff)
2. –î–æ–±–∞–≤—å—Ç–µ –≤ `.vscode/settings.json`:

```json
{
  "[python]": {
    "editor.defaultFormatter": "charliermarsh.ruff",
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
      "source.fixAll.ruff": "explicit",
      "source.organizeImports.ruff": "explicit"
    }
  },
  "ruff.lint.enable": true,
  "ruff.format.enable": true
}
```

### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ Ruff –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:**
   ```bash
   ruff check . --fix && ruff format .
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ pre-commit hook** (—Å–º. `.pre-commit-config.yaml`):
   ```yaml
   repos:
     - repo: https://github.com/astral-sh/ruff-pre-commit
       rev: v0.8.0
       hooks:
         - id: ruff
           args: [--fix]
         - id: ruff-format
   ```

3. **–ò–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –ª–æ–∫–∞–ª—å–Ω–æ** —Ç–æ–ª—å–∫–æ –≤ –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞—è—Ö:
   ```python
   # ruff: noqa: E501
   very_long_line = "This is a very long line that exceeds 88 characters..."

   # –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –Ω–∞ —Å—Ç—Ä–æ–∫–µ
   import os  # noqa: F401
   ```

---

## üñ§ Black - –ù–µ–ø—Ä–µ–∫–ª–æ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä

### –ß—Ç–æ —Ç–∞–∫–æ–µ Black?

Black - —ç—Ç–æ **–æ–ø–∏–Ω–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π** (opinionated) —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä Python –∫–æ–¥–∞. –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∫–æ–¥ –ø–æ —Å—Ç—Ä–æ–≥–∏–º –ø—Ä–∞–≤–∏–ª–∞–º, –∏—Å–∫–ª—é—á–∞—è —Å–ø–æ—Ä—ã –æ —Å—Ç–∏–ª–µ.

> "Any color you like." - Black –Ω–µ –¥–∞–µ—Ç –≤—ã–±–æ—Ä–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

### –§–∏–ª–æ—Å–æ—Ñ–∏—è Black

- ‚úÖ **–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** - –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥ –≤—Å–µ–≥–¥–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ
- ‚úÖ **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** - –≤–µ—Å—å –∫–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ
- ‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å** - –Ω–µ —Ç—Ä–∞—Ç—å—Ç–µ –≤—Ä–µ–º—è –Ω–∞ —Ä—É—á–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **–§–æ–∫—É—Å –Ω–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–∏** - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª/–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
black src/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
black --check src/

# –ü–æ–∫–∞–∑–∞—Ç—å diff –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
black --diff src/

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
black src/main.py

# –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º (–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ AST)
black --fast src/
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `pyproject.toml` (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: Black –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ruff format` –≤–º–µ—Å—Ç–æ Black.

```toml
[tool.ruff.format]
quote-style = "double"
indent-style = "space"
skip-magic-trailing-comma = false
line-ending = "auto"
include = '\.pyi?$'                 # –®–∞–±–ª–æ–Ω –≤–∫–ª—é—á–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤

# –ò—Å–∫–ª—é—á–µ–Ω–∏—è
extend-exclude = '''
/(
  \.eggs
  | \.git
  | \.mypy_cache
  | \.venv
  | build
  | dist
)/
'''
```

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–î–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏**: 88 —Å–∏–º–≤–æ–ª–æ–≤ (–∫–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É —á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é –∏ —ç–∫—Ä–∞–Ω–Ω—ã–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º)

2. **–ö–∞–≤—ã—á–∫–∏**: –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ `"`, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ `'` –µ—Å–ª–∏ —ç—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

3. **–ò–º–ø–æ—Ä—Ç—ã**: –ö–∞–∂–¥—ã–π –∏–º–ø–æ—Ä—Ç –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ (–≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å isort/Ruff)

4. **–°–∫–æ–±–∫–∏**: –î–æ–±–∞–≤–ª—è–µ—Ç –≤–∏—Å—è—á–∏–µ –∑–∞–ø—è—Ç—ã–µ –≤ —Å–ø–∏—Å–∫–∞—Ö

**–î–æ Black:**
```python
def function(arg1, arg2, arg3, arg4, arg5):
    result = some_function(arg1, arg2, arg3, arg4, arg5, "very long string argument")
    return result
```

**–ü–æ—Å–ª–µ Black:**
```python
def function(arg1, arg2, arg3, arg4, arg5):
    result = some_function(
        arg1,
        arg2,
        arg3,
        arg4,
        arg5,
        "very long string argument",
    )
    return result
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ Black –¥–ª—è —É—á–∞—Å—Ç–∫–æ–≤ –∫–æ–¥–∞

```python
# fmt: off
manually_formatted_matrix = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9],
]
# fmt: on
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VS Code

Black —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ Ruff, –Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ:

```json
{
  "[python]": {
    "editor.defaultFormatter": "ms-python.black-formatter",
    "editor.formatOnSave": true
  }
}
```

---

## üîç MyPy - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–∏–ø–æ–≤

### –ß—Ç–æ —Ç–∞–∫–æ–µ MyPy?

MyPy - —ç—Ç–æ **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ç–∏–ø–æ–≤** –¥–ª—è Python. –û–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –∏ –Ω–∞—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∏ –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞.

### –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è?

- üêõ **–†–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫** - –Ω–∞—Ö–æ–¥–∏—Ç –±–∞–≥–∏ –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ –∫–æ–¥–∞
- üìö **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —Ç–∏–ø—ã —Å–ª—É–∂–∞—Ç –∂–∏–≤–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- üîß **IDE –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- üß™ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª/–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
mypy src/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
mypy src/main.py

# –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–∏–ø–∞–º–∏
mypy src/ --html-report ./mypy-report

# –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º
mypy src/ --strict

# –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–º–ø–æ—Ä—Ç—ã
mypy src/ --ignore-missing-imports
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `pyproject.toml` (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)

```toml
[tool.mypy]
python_version = "3.11"
warn_return_any = true              # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å –æ –≤–æ–∑–≤—Ä–∞—Ç–µ Any
warn_unused_configs = true          # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å –æ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
disallow_untyped_defs = true        # –¢—Ä–µ–±–æ–≤–∞—Ç—å —Ç–∏–ø—ã –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
disallow_any_generics = false       # –†–∞–∑—Ä–µ—à–∏—Ç—å Any –≤ generics
disallow_incomplete_defs = true     # –¢—Ä–µ–±–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
check_untyped_defs = true           # –ü—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–µ—Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
no_implicit_optional = true         # –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –Ω–µ—è–≤–Ω—ã–π Optional
warn_redundant_casts = true         # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å –æ –ª–∏—à–Ω–∏—Ö cast
warn_unused_ignores = true          # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å –æ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö # type: ignore
warn_no_return = true               # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ return
strict_equality = true              # –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞

exclude = [
    "tests/",
    "scripts/migrate_users.py",
]

[[tool.mypy.overrides]]
module = "tests.*"
ignore_errors = true                # –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ —Ç–µ—Å—Ç–∞—Ö
```

### –ü—Ä–∏–º–µ—Ä—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π —Ç–∏–ø–æ–≤

```python
# –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã
def greet(name: str) -> str:
    return f"Hello, {name}!"

# –ö–æ–ª–ª–µ–∫—Ü–∏–∏ (Python 3.9+)
def process_items(items: list[str]) -> dict[str, int]:
    return {item: len(item) for item in items}

# Optional –∏ Union
from typing import Optional

def find_user(user_id: int) -> Optional[str]:
    # –ú–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å str –∏–ª–∏ None
    return None

# –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (Python 3.10+)
def get_value(key: str) -> str | None:
    return None

# Callable (—Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã)
from typing import Callable

def apply_function(func: Callable[[int, int], int], a: int, b: int) -> int:
    return func(a, b)

# TypedDict –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤–∞—Ä–µ–π
from typing import TypedDict

class UserData(TypedDict):
    name: str
    age: int
    email: str

def process_user(user: UserData) -> None:
    print(user["name"])

# Async —Ñ—É–Ω–∫—Ü–∏–∏
async def fetch_data(url: str) -> dict[str, Any]:
    async with httpx.AsyncClient() as client:
        response = await client.get(url)
        return response.json()

# Generics
from typing import TypeVar, Generic

T = TypeVar("T")

class Stack(Generic[T]):
    def __init__(self) -> None:
        self._items: list[T] = []

    def push(self, item: T) -> None:
        self._items.append(item)

    def pop(self) -> T:
        return self._items.pop()
```

### –†–µ–∂–∏–º—ã —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏

MyPy –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∂–∏–º–æ–≤:

1. **–ë–∞–∑–æ–≤—ã–π —Ä–µ–∂–∏–º** - —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
2. **–°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º** (`--strict`) - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä–æ–≥–æ—Å—Ç—å:
   ```bash
   mypy --strict src/
   ```

3. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è** - –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–∏–ø—ã –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ:
   ```python
   # –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É
   # type: ignore
   result = some_untyped_function()

   # –û—Ç–∫–ª—é—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –æ—à–∏–±–∫—É
   # type: ignore[arg-type]
   ```

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã

```python
from typing import Any, NoReturn, Literal, Protocol

# Any - –ª—é–±–æ–π —Ç–∏–ø (—Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å –∏–∑–±–µ–≥–∞—Ç—å)
def process_data(data: Any) -> Any:
    return data

# NoReturn - —Ñ—É–Ω–∫—Ü–∏—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
def raise_error() -> NoReturn:
    raise RuntimeError("Error!")

# Literal - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
def set_mode(mode: Literal["dev", "prod"]) -> None:
    pass

# Protocol - —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è (duck typing)
class Drawable(Protocol):
    def draw(self) -> None:
        ...

def render(obj: Drawable) -> None:
    obj.draw()
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VS Code

MyPy –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Pylance (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Python):

```json
{
  "python.analysis.typeCheckingMode": "strict",
  "python.linting.mypyEnabled": true,
  "python.linting.mypyArgs": [
    "--ignore-missing-imports",
    "--follow-imports=silent"
  ]
}
```

---

## üìä Coverage - –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Coverage

```toml
[tool.coverage.run]
branch = true                # –ü–æ–∫—Ä—ã—Ç–∏–µ –≤–µ—Ç–≤–ª–µ–Ω–∏–π
source = ["src"]             # –ö–∞–∫–æ–π –∫–æ–¥ –∏–∑–º–µ—Ä—è—Ç—å
omit = [
    "tests/*",
    "*/__pycache__/*",
]

[tool.coverage.report]
precision = 2                # –¢–æ—á–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
fail_under = 80             # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (—Ü–µ–ª—å: 85%)
show_missing = true         # –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
exclude_lines = [
    "pragma: no cover",
    "def __repr__",
    "if TYPE_CHECKING:",
    "raise NotImplementedError",
    "if __name__ == .__main__.:",
    "@abstractmethod",
]
```

### –ö–æ–º–∞–Ω–¥—ã Coverage

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã —Å –∏–∑–º–µ—Ä–µ–Ω–∏–µ–º –ø–æ–∫—Ä—ã—Ç–∏—è
pytest --cov=src --cov-report=html --cov-report=term

# –¢–æ–ª—å–∫–æ –æ—Ç—á–µ—Ç –ø–æ–∫—Ä—ã—Ç–∏—è
coverage report

# HTML –æ—Ç—á–µ—Ç
coverage html
# –û—Ç–∫—Ä—ã—Ç—å htmlcov/index.html –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```

---

## üîÑ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Workflow)

### –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
ruff check . --fix
ruff format .

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
mypy src/

# 3. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest --cov=src --cov-report=term

# 4. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
ruff check . && mypy src/ && pytest
```

### Pre-commit —Ö—É–∫

–°–æ–∑–¥–∞–π—Ç–µ `.pre-commit-config.yaml`:

```yaml
repos:
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.8.0
    hooks:
      - id: ruff
        args: [--fix]
      - id: ruff-format

  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.11.0
    hooks:
      - id: mypy
        additional_dependencies: [types-all]
```

–£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
pip install pre-commit
pre-commit install
```

### Makefile –∫–æ–º–∞–Ω–¥—ã

```makefile
.PHONY: lint format typecheck test check

# –õ–∏–Ω—Ç–∏–Ω–≥
lint:
	ruff check .

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
format:
	ruff format .

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
typecheck:
	mypy src/

# –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
test:
	pytest --cov=src --cov-report=html --cov-report=term

# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
check: lint typecheck test
	@echo "‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã!"

# –ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ + —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
fix:
	ruff check . --fix
	ruff format .
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
make lint      # –¢–æ–ª—å–∫–æ –ª–∏–Ω—Ç–∏–Ω–≥
make format    # –¢–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make typecheck # –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
make test      # –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã
make check     # –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
make fix       # –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å
```

---

## üéØ –¶–µ–ª–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

| –ú–µ—Ç—Ä–∏–∫–∞                  | –¢–µ–∫—É—â–∞—è —Ü–µ–ª—å | –ò–¥–µ–∞–ª—å–Ω–∞—è —Ü–µ–ª—å |
| ------------------------ | ------------ | -------------- |
| **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏**     | 80%          | 90%+           |
| **MyPy –ø—Ä–æ–≤–µ—Ä–∫–∞**        | –í—Å–µ —Ñ–∞–π–ª—ã    | –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º  |
| **Ruff –æ—à–∏–±–∫–∏**          | 0            | 0              |
| **Black —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | 100%         | 100%           |

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Ruff Documentation](https://docs.astral.sh/ruff/)
- [Black Documentation](https://black.readthedocs.io/)
- [MyPy Documentation](https://mypy.readthedocs.io/)
- [Coverage.py Documentation](https://coverage.readthedocs.io/)

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Ruff Rules](https://docs.astral.sh/ruff/rules/) - –í—Å–µ –ø—Ä–∞–≤–∏–ª–∞ Ruff
- [MyPy Cheat Sheet](https://mypy.readthedocs.io/en/stable/cheat_sheet_py3.html) - –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ —Ç–∏–ø–∞–º
- [Python Type Hints PEP 484](https://peps.python.org/pep-0484/) - –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π —Ç–∏–ø–æ–≤

---

## üî§ –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏

### –ß–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞: –∫–∏—Ä–∏–ª–ª–∏—Ü–∞ –≤ –∫–æ–º–∞–Ω–¥–∞—Ö

–û–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –∫–æ–≤–∞—Ä–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å GitHub Copilot - —Å–ª—É—á–∞–π–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ —Ä—É—Å—Å–∫–∏—Ö –±—É–∫–≤ –≤ –∫–æ–º–∞–Ω–¥—ã —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–∞–º–µ–Ω—ã:**
- `pytest` ‚Üí `—Ä—Ét–µst` (—Ä—É—Å—Å–∫–∏–µ ¬´—Ä¬ª, ¬´—É¬ª, ¬´–µ¬ª)
- `pip` ‚Üí `—Äip` (—Ä—É—Å—Å–∫–∞—è ¬´—Ä¬ª)
- `python` ‚Üí `—Ä—Éth–æn` (—Ä—É—Å—Å–∫–∏–µ ¬´—Ä¬ª, ¬´—É¬ª, ¬´–æ¬ª)
- `ruff` ‚Üí `–≥uff` (—Ä—É—Å—Å–∫–∞—è ¬´–≥¬ª)

### –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
```bash
# –í—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫—É—é —Ä–∞—Å–∫–ª–∞–¥–∫—É –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π
Win + –ü—Ä–æ–±–µ–ª  # –∏–ª–∏ –≤–∞—à–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è
```

#### 2. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —à—Ä–∏—Ñ—Ç—ã
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à—Ä–∏—Ñ—Ç—ã —Å —á—ë—Ç–∫–∏–º —Ä–∞–∑–ª–∏—á–∏–µ–º –ø–æ—Ö–æ–∂–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤:
- **JetBrains Mono Nerd Font**
- **Fira Code Nerd Font**
- **Cascadia Code NF**
- **Iosevka Nerd Font**

#### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ VS Code
```json
{
  "editor.fontFamily": "'JetBrains Mono NF', 'Fira Code NF', monospace",
  "terminal.integrated.fontFamily": "'Cascadia Code NF'",
  "editor.renderWhitespace": "all",
  "editor.renderControlCharacters": true
}
```

#### 4. –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- **Highlight Bad Chars** - –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –Ω–µ-ASCII —Å–∏–º–≤–æ–ª—ã –∫—Ä–∞—Å–Ω—ã–º
- **Russian Characters Highlighter** - —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã
- **Error Lens** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ

#### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Windows Terminal
```json
{
    "font": {
        "face": "Cascadia Code NF",
        "size": 12
    },
    "highlightBadCharacters": true,
    "experimental.detectURLs": true
}
```

#### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º
```bash
# –ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± - –≤—ã–¥–µ–ª–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –∏ —É–≤–µ–ª–∏—á–∏—Ç—å
Ctrl + –∫–æ–ª–µ—Å–æ –º—ã—à–∏  # —É–≤–µ–ª–∏—á–∏—Ç—å —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

# –ò–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±–ª–æ–∫–Ω–æ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
Ctrl + A, Ctrl + C  # –≤—ã–¥–µ–ª–∏—Ç—å –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏

1. **–í—Å–µ–≥–¥–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞** –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—É—Ä—Å–æ—Ä–∞** - –ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ –Ω–∞–∂–º–∏—Ç–µ ‚Üê ‚Üí (–µ—Å–ª–∏ –∫—É—Ä—Å–æ—Ä "–ø—Ä—ã–≥–∞–µ—Ç", —Ç–∞–º –∫–∏—Ä–∏–ª–ª–∏—Ü–∞)
3. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ "Paste as Plain Text"
4. **–ê–ª–∏–∞—Å—ã** –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–∞–Ω–¥:
   ```bash
   # –í PowerShell –ø—Ä–æ—Ñ–∏–ª–µ
   Set-Alias pyt 'python -m pytest'
   Set-Alias rf ruff
   ```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ú–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ PowerShell –ø—Ä–æ—Ñ–∏–ª—å:
```powershell
function Test-Cyrillic {
    param([string]$Command)
    if ($Command -match '[–∞-—è—ë–ê-–Ø–Å]') {
        Write-Warning "‚ö†Ô∏è  –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü–∞ –≤ –∫–æ–º–∞–Ω–¥–µ: $Command"
        return $false
    }
    return $true
}
```

---

## ‚ùì FAQ

### –ü–æ—á–µ–º—É Ruff –≤–º–µ—Å—Ç–æ Flake8?

- **–°–∫–æ—Ä–æ—Å—Ç—å**: Ruff –≤ 10-100 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ
- **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**: –ó–∞–º–µ–Ω—è–µ—Ç Flake8 + isort + pyupgrade + autoflake
- **–ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø—Ä–æ–±–ª–µ–º –∏—Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å**: –ê–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö Python –≤–µ—Ä—Å–∏–π

### –ü–æ—á–µ–º—É Black "–Ω–µ–ø—Ä–µ–∫–ª–æ–Ω–Ω—ã–π"?

Black —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–Ω–æ–≥–æ –æ–ø—Ü–∏–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –≠—Ç–æ **—Ñ–∏—á–∞, –∞ –Ω–µ –±–∞–≥**:
- –ò—Å–∫–ª—é—á–∞–µ—Ç —Å–ø–æ—Ä—ã –æ —Å—Ç–∏–ª–µ –≤ –∫–æ–º–∞–Ω–¥–µ
- –≠–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è –Ω–∞ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∞

### –ö–∞–∫ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ–µ–∫—Ç?

1. –ù–∞—á–Ω–∏—Ç–µ —Å –ø—É–±–ª–∏—á–Ω–æ–≥–æ API (—Ñ—É–Ω–∫—Ü–∏–∏, –∫–ª–∞—Å—Å—ã)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `# type: ignore` –≤—Ä–µ–º–µ–Ω–Ω–æ
3. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–¥–∞–ª—è–π—Ç–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
4. –í–∫–ª—é—á–∞–π—Ç–µ –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞ MyPy –ø–æ—ç—Ç–∞–ø–Ω–æ

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ Ruff –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å Black?

Ruff –∏ Black —Å–æ–≤–º–µ—Å—Ç–∏–º—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. Ruff –¥–∞–∂–µ –º–æ–∂–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å Black:
```bash
ruff format .  # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ black
```

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 13 –Ω–æ—è–±—Ä—è 2025 –≥.

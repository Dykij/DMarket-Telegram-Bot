# üíß –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ DMarket

**–î–∞—Ç–∞**: 15 –Ω–æ—è–±—Ä—è 2025 –≥.
**–í–µ—Ä—Å–∏—è**: 1.0

---

## üìã –û–±–∑–æ—Ä

–ú–æ–¥—É–ª—å **LiquidityAnalyzer** –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –ø–æ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ DMarket. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–∫—É–ø–∫—É –Ω–µ–ª–∏–∫–≤–∏–¥–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å.

### –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏?

‚ùå **–ü—Ä–æ–±–ª–µ–º–∞**: –ë–æ—Ç –º–æ–∂–µ—Ç –ø–æ–∫—É–ø–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ:
- –ü—Ä–æ–¥–∞—é—Ç—Å—è –æ—á–µ–Ω—å —Ä–µ–¥–∫–æ (1-2 —Ä–∞–∑–∞ –≤ –º–µ—Å—è—Ü)
- –î–æ–ª–≥–æ –ª–µ–∂–∞—Ç –Ω–∞ —Ä—ã–Ω–∫–µ (20+ –¥–Ω–µ–π)
- –ò–º–µ—é—Ç –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ü–µ–Ω—É (—Å–∫–∞—á–∫–∏ 30%+)
- –ü–µ—Ä–µ–Ω–∞—Å—ã—â–µ–Ω—ã –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ (100+ –∞–∫—Ç–∏–≤–Ω—ã—Ö)

‚úÖ **–†–µ—à–µ–Ω–∏–µ**: LiquidityAnalyzer —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø—Ä–µ–¥–º–µ—Ç—ã –ø–æ:
- –ß–∞—Å—Ç–æ—Ç–µ –ø—Ä–æ–¥–∞–∂ (–ø—Ä–æ–¥–∞–∂–∏ –≤ –Ω–µ–¥–µ–ª—é)
- –°—Ä–µ–¥–Ω–µ–º—É –≤—Ä–µ–º–µ–Ω–∏ –¥–æ –ø—Ä–æ–¥–∞–∂–∏
- –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Ü–µ–Ω—ã
- –ì–ª—É–±–∏–Ω–µ —Ä—ã–Ω–∫–∞
- –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—é —Å–ø—Ä–æ—Å–∞ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### –ú–µ—Ç—Ä–∏–∫–∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏

LiquidityAnalyzer —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏:

1. **sales_per_week** - –ü—Ä–æ–¥–∞–∂–∏ –≤ –Ω–µ–¥–µ–ª—é
   - –ü—Ä–∏–º–µ—Ä: 15.0 = –≤ —Å—Ä–µ–¥–Ω–µ–º 15 –ø—Ä–æ–¥–∞–∂ –≤ –Ω–µ–¥–µ–ª—é
   - –ß–µ–º –≤—ã—à–µ, —Ç–µ–º –ª—É—á—à–µ

2. **avg_time_to_sell_days** - –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –¥–æ –ø—Ä–æ–¥–∞–∂–∏ (–¥–Ω–∏)
   - –ü—Ä–∏–º–µ—Ä: 3.5 –¥–Ω–µ–π = –ø—Ä–µ–¥–º–µ—Ç –ø—Ä–æ–¥–∞–µ—Ç—Å—è –≤ —Å—Ä–µ–¥–Ω–µ–º –∑–∞ 3.5 –¥–Ω—è
   - –ß–µ–º –Ω–∏–∂–µ, —Ç–µ–º –ª—É—á—à–µ

3. **active_offers_count** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
   - –ü—Ä–∏–º–µ—Ä: 25 = —Å–µ–π—á–∞—Å 25 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –Ω–∞ —Ä—ã–Ω–∫–µ
   - –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ = –ø–µ—Ä–µ–Ω–∞—Å—ã—â–µ–Ω–∏–µ

4. **price_stability** - –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ü–µ–Ω—ã (0-1)
   - –ü—Ä–∏–º–µ—Ä: 0.92 = —Ü–µ–Ω–∞ –æ—á–µ–Ω—å —Å—Ç–∞–±–∏–ª—å–Ω–∞ (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏ –Ω–∏–∑–∫–∏–π)
   - –ß–µ–º –≤—ã—à–µ, —Ç–µ–º –ª—É—á—à–µ

5. **market_depth** - –ì–ª—É–±–∏–Ω–∞ —Ä—ã–Ω–∫–∞
   - –ü—Ä–∏–º–µ—Ä: 850.0 = –≤—ã—Å–æ–∫–∏–π –æ–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤
   - –ß–µ–º –≤—ã—à–µ, —Ç–µ–º –ª—É—á—à–µ

6. **liquidity_score** - –û–±—â–∏–π —Å—á–µ—Ç –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ (0-100)
   - –ü—Ä–∏–º–µ—Ä: 75.5 = –≤—ã—Å–æ–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
   - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ —Å –≤–µ—Å–∞–º–∏

7. **is_liquid** - –õ–∏–∫–≤–∏–¥–Ω—ã–π –ª–∏ –ø—Ä–µ–¥–º–µ—Ç? (bool)
   - `True` = –º–æ–∂–Ω–æ –ø–æ–∫—É–ø–∞—Ç—å
   - `False` = –ª—É—á—à–µ –∏–∑–±–µ–≥–∞—Ç—å

---

## üìê –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ Liquidity Score

### –í–∑–≤–µ—à–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞

```python
liquidity_score = (
    sales_volume_score * 0.30 +      # 30% - –æ–±—ä–µ–º –ø—Ä–æ–¥–∞–∂
    time_to_sell_score * 0.25 +      # 25% - —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂–∏
    price_stability * 0.20 +          # 20% - —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ü–µ–Ω—ã
    demand_supply_ratio * 0.15 +     # 15% - —Å–ø—Ä–æ—Å/–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
    market_depth_score * 0.10        # 10% - –≥–ª—É–±–∏–Ω–∞ —Ä—ã–Ω–∫–∞
)
```

### –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### 1. Sales Volume Score (30%)

–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–¥–∞–∂ –≤ –Ω–µ–¥–µ–ª—é:

```python
sales_volume_score = min(100, (sales_per_week / 20.0) * 100)
```

- 20+ –ø—Ä–æ–¥–∞–∂ –≤ –Ω–µ–¥–µ–ª—é = 100 –±–∞–ª–ª–æ–≤ (–∏–¥–µ–∞–ª)
- 10 –ø—Ä–æ–¥–∞–∂ = 50 –±–∞–ª–ª–æ–≤ (—Å—Ä–µ–¥–Ω–µ)
- 2 –ø—Ä–æ–¥–∞–∂–∏ = 10 –±–∞–ª–ª–æ–≤ (–ø–ª–æ—Ö–æ)

#### 2. Time to Sell Score (25%)

–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–¥–∞–∂–∏ (–∏–Ω–≤–µ—Ä—Å–∏—è - —á–µ–º –º–µ–Ω—å—à–µ, —Ç–µ–º –ª—É—á—à–µ):

```python
time_score = max(0, 100 - (avg_time_to_sell_days / max_time * 100))
```

- 1-2 –¥–Ω—è = 100 –±–∞–ª–ª–æ–≤ (–æ—Ç–ª–∏—á–Ω–æ)
- 7 –¥–Ω–µ–π = 0 –±–∞–ª–ª–æ–≤ (–≥—Ä–∞–Ω–∏—Ü–∞)
- 14+ –¥–Ω–µ–π = 0 –±–∞–ª–ª–æ–≤ (–Ω–µ–ª–∏–∫–≤–∏–¥–Ω–æ)

#### 3. Price Stability (20%)

–ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏:

```python
price_stability_score = price_stability * 100
```

- 0.95 = 95 –±–∞–ª–ª–æ–≤ (–æ—á–µ–Ω—å —Å—Ç–∞–±–∏–ª—å–Ω–æ)
- 0.85 = 85 –±–∞–ª–ª–æ–≤ (—Å—Ç–∞–±–∏–ª—å–Ω–æ)
- 0.70 = 70 –±–∞–ª–ª–æ–≤ (–Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ)

#### 4. Demand/Supply Ratio (15%)

–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂ –∫ –∞–∫—Ç–∏–≤–Ω—ã–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º:

```python
demand_supply_ratio = min(100, (sales_per_week / max(1, active_offers_count)) * 100)
```

- –ë–æ–ª—å—à–µ –ø—Ä–æ–¥–∞–∂, —á–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π = –≤—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å
- –ú–∞–ª–æ –ø—Ä–æ–¥–∞–∂, –º–Ω–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π = –Ω–∏–∑–∫–∏–π —Å–ø—Ä–æ—Å

#### 5. Market Depth Score (10%)

–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—â–µ–≥–æ –æ–±—ä–µ–º–∞ —Ç–æ—Ä–≥–æ–≤:

```python
depth_score = min(100, (market_depth / 1000.0) * 100)
```

- 1000+ –æ–±—ä–µ–º = 100 –±–∞–ª–ª–æ–≤
- 500 –æ–±—ä–µ–º = 50 –±–∞–ª–ª–æ–≤
- 100 –æ–±—ä–µ–º = 10 –±–∞–ª–ª–æ–≤

---

## üéöÔ∏è –ü–æ—Ä–æ–≥–∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏

| Score      | –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –≠–º–æ–¥–∑–∏ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è        |
| ---------- | --------- | ------ | ------------------- |
| **80-100** | Very High | üü¢      | ‚úÖ –û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä!   |
| **60-79**  | High      | üü°      | ‚úÖ –•–æ—Ä–æ—à–∏–π –≤—ã–±–æ—Ä!    |
| **40-59**  | Medium    | üü†      | ‚ö†Ô∏è –û—Å—Ç–æ—Ä–æ–∂–Ω–æ!        |
| **20-39**  | Low       | üî¥      | ‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è! |
| **0-19**   | Very Low  | ‚ö´      | ‚ùå –ò–∑–±–µ–≥–∞—Ç—å!         |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```python
DEFAULT_RULES = {
    "min_sales_per_week": 10.0,        # –ú–∏–Ω–∏–º—É–º 10 –ø—Ä–æ–¥–∞–∂ –≤ –Ω–µ–¥–µ–ª—é
    "max_time_to_sell_days": 7.0,      # –ú–∞–∫—Å–∏–º—É–º 7 –¥–Ω–µ–π –¥–æ –ø—Ä–æ–¥–∞–∂–∏
    "max_active_offers": 50,           # –ú–∞–∫—Å–∏–º—É–º 50 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
    "min_price_stability": 0.85,       # –ú–∏–Ω–∏–º—É–º 85% —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
    "min_liquidity_score": 60.0,       # –ú–∏–Ω–∏–º—É–º 60 –±–∞–ª–ª–æ–≤
}
```

---

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```python
from src.dmarket.liquidity_analyzer import LiquidityAnalyzer
from src.dmarket.dmarket_api import DMarketAPI

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
api = DMarketAPI(public_key, secret_key)
analyzer = LiquidityAnalyzer(
    api_client=api,
    min_sales_per_week=10.0,
    max_time_to_sell_days=7.0,
    min_liquidity_score=60.0,
)

# –ê–Ω–∞–ª–∏–∑ –æ–¥–Ω–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞
metrics = await analyzer.analyze_item_liquidity(
    item_title="AK-47 | Redline (Field-Tested)",
    game="csgo",
    days_history=30
)

print(f"Liquidity Score: {metrics.liquidity_score:.1f}")
print(f"Is Liquid: {metrics.is_liquid}")
print(f"Description: {analyzer.get_liquidity_description(metrics.liquidity_score)}")
```

**–í—ã–≤–æ–¥:**
```
Liquidity Score: 75.5
Is Liquid: True
Description: üü° –í—ã—Å–æ–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤

```python
# –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã —Å –∞—Ä–±–∏—Ç—Ä–∞–∂–µ–º
arbitrage_items = await scanner.scan_level("standard", "csgo")

# –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ª–∏–∫–≤–∏–¥–Ω—ã–µ
liquid_items = await analyzer.filter_liquid_items(
    arbitrage_items,
    game="csgo"
)

print(f"–í—Å–µ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π: {len(arbitrage_items)}")
print(f"–õ–∏–∫–≤–∏–¥–Ω—ã—Ö: {len(liquid_items)}")

for item in liquid_items:
    print(f"{item['title']}: Score {item['liquidity_score']:.1f}")
```

**–í—ã–≤–æ–¥:**
```
–í—Å–µ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π: 50
–õ–∏–∫–≤–∏–¥–Ω—ã—Ö: 15

AK-47 | Redline (Field-Tested): Score 75.5
AWP | Asiimov (Field-Tested): Score 82.3
M4A4 | Howl (Field-Tested): Score 65.8
...
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π

```python
from src.dmarket.liquidity_rules import (
    CONSERVATIVE_RULES,
    BALANCED_RULES,
    AGGRESSIVE_RULES
)

# –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (—Ç–æ–ª—å–∫–æ –≤—ã—Å–æ–∫–æ–ª–∏–∫–≤–∏–¥–Ω—ã–µ)
conservative_analyzer = LiquidityAnalyzer(
    api_client=api,
    min_sales_per_week=CONSERVATIVE_RULES.min_sales_per_week,
    max_time_to_sell_days=CONSERVATIVE_RULES.max_time_to_sell_days,
    min_liquidity_score=CONSERVATIVE_RULES.min_liquidity_score,
)

# –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (–ø—Ä–∏–Ω–∏–º–∞–µ–º –±–æ–ª—å—à–µ —Ä–∏—Å–∫–æ–≤)
aggressive_analyzer = LiquidityAnalyzer(
    api_client=api,
    min_sales_per_week=AGGRESSIVE_RULES.min_sales_per_week,
    max_time_to_sell_days=AGGRESSIVE_RULES.max_time_to_sell_days,
    min_liquidity_score=AGGRESSIVE_RULES.min_liquidity_score,
)
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∞–Ω–∞–ª–∏–∑–∞

### –ü—Ä–∏–º–µ—Ä 1: –í—ã—Å–æ–∫–æ–ª–∏–∫–≤–∏–¥–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç

**–ü—Ä–µ–¥–º–µ—Ç**: AK-47 | Redline (Field-Tested)

```python
metrics = LiquidityMetrics(
    item_title="AK-47 | Redline (Field-Tested)",
    sales_per_week=15.0,           # 15 –ø—Ä–æ–¥–∞–∂ –≤ –Ω–µ–¥–µ–ª—é - —Ö–æ—Ä–æ—à–æ
    avg_time_to_sell_days=3.5,     # –ü—Ä–æ–¥–∞–µ—Ç—Å—è –∑–∞ 3.5 –¥–Ω—è - –±—ã—Å—Ç—Ä–æ
    active_offers_count=25,         # 25 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π - —É–º–µ—Ä–µ–Ω–Ω–æ
    price_stability=0.92,           # 92% —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å - –æ—Ç–ª–∏—á–Ω–æ
    market_depth=850.0,             # –í—ã—Å–æ–∫–∏–π –æ–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤
    liquidity_score=75.5,           # –í–´–°–û–ö–ê–Ø –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
    is_liquid=True                  # ‚úÖ –ú–û–ñ–ù–û –ü–û–ö–£–ü–ê–¢–¨
)
```

**–†–∞—Å—á–µ—Ç score:**
- Sales: (15/20) * 100 * 0.30 = 22.5
- Time: (100 - (3.5/7) * 100) * 0.25 = 12.5
- Stability: 0.92 * 100 * 0.20 = 18.4
- Demand/Supply: (15/25) * 100 * 0.15 = 9.0
- Depth: (850/1000) * 100 * 0.10 = 8.5
- **Total: 70.9**

### –ü—Ä–∏–º–µ—Ä 2: –ù–∏–∑–∫–æ–ª–∏–∫–≤–∏–¥–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç

**–ü—Ä–µ–¥–º–µ—Ç**: Rare Expensive Knife

```python
metrics = LiquidityMetrics(
    item_title="Rare Expensive Knife",
    sales_per_week=2.0,             # –¢–æ–ª—å–∫–æ 2 –ø—Ä–æ–¥–∞–∂–∏ - –ø–ª–æ—Ö–æ
    avg_time_to_sell_days=15.0,     # 15 –¥–Ω–µ–π –¥–æ –ø—Ä–æ–¥–∞–∂–∏ - –¥–æ–ª–≥–æ
    active_offers_count=80,          # 80 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π - –ø–µ—Ä–µ–Ω–∞—Å—ã—â–µ–Ω–∏–µ
    price_stability=0.70,            # 70% —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å - –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ
    market_depth=200.0,              # –ù–∏–∑–∫–∏–π –æ–±—ä–µ–º
    liquidity_score=25.3,            # –ù–ò–ó–ö–ê–Ø –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
    is_liquid=False                  # ‚ùå –ù–ï –ü–û–ö–£–ü–ê–¢–¨
)
```

**–†–∞—Å—á–µ—Ç score:**
- Sales: (2/20) * 100 * 0.30 = 3.0
- Time: 0 (–ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç 7 –¥–Ω–µ–π) * 0.25 = 0
- Stability: 0.70 * 100 * 0.20 = 14.0
- Demand/Supply: (2/80) * 100 * 0.15 = 0.4
- Depth: (200/1000) * 100 * 0.10 = 2.0
- **Total: 19.4**

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã LiquidityAnalyzer

```python
LiquidityAnalyzer(
    api_client: DMarketAPI,              # API –∫–ª–∏–µ–Ω—Ç DMarket
    min_sales_per_week: float = 10.0,    # –ú–∏–Ω. –ø—Ä–æ–¥–∞–∂ –≤ –Ω–µ–¥–µ–ª—é
    max_time_to_sell_days: float = 7.0,  # –ú–∞–∫—Å. –¥–Ω–µ–π –¥–æ –ø—Ä–æ–¥–∞–∂–∏
    max_active_offers: int = 50,         # –ú–∞–∫—Å. –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
    min_price_stability: float = 0.85,   # –ú–∏–Ω. —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (0-1)
    min_liquidity_score: float = 60.0,   # –ú–∏–Ω. –æ–±—â–∏–π score
)
```

### –ü—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–∞–≤–∏–ª

#### Conservative (–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π)

–î–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∏—Å–∫–∏:

```python
min_sales_per_week=15.0        # –¢–æ–ª—å–∫–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
max_time_to_sell_days=5.0      # –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–¥–∞–∂–∞
max_active_offers=30           # –ù–∏–∑–∫–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è
min_price_stability=0.90       # –û—á–µ–Ω—å —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ü–µ–Ω–∞
min_liquidity_score=70.0       # –¢–æ–ª—å–∫–æ –≤—ã—Å–æ–∫–æ–ª–∏–∫–≤–∏–¥–Ω—ã–µ
```

#### Balanced (–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)

–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å —Ä–∏—Å–∫–∞ –∏ –ø—Ä–∏–±—ã–ª–∏:

```python
min_sales_per_week=10.0        # –£–º–µ—Ä–µ–Ω–Ω–∞—è –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å
max_time_to_sell_days=7.0      # –ù–µ–¥–µ–ª—è –Ω–∞ –ø—Ä–æ–¥–∞–∂—É
max_active_offers=50           # –°—Ä–µ–¥–Ω—è—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è
min_price_stability=0.85       # –•–æ—Ä–æ—à–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
min_liquidity_score=60.0       # –°—Ä–µ–¥–Ω—è—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
```

#### Aggressive (–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π)

–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö —Ç—Ä–µ–π–¥–µ—Ä–æ–≤:

```python
min_sales_per_week=5.0         # –ü—Ä–∏–Ω–∏–º–∞–µ–º —Ä–µ–¥–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã
max_time_to_sell_days=10.0     # –ì–æ—Ç–æ–≤—ã –∂–¥–∞—Ç—å –¥–æ–ª—å—à–µ
max_active_offers=70           # –ü—Ä–∏–Ω–∏–º–∞–µ–º –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—é
min_price_stability=0.75       # –î–æ–ø—É—Å–∫–∞–µ–º –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
min_liquidity_score=50.0       # –°—Ä–µ–¥–Ω–µ-–Ω–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
```

---

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ArbitrageScanner

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

```python
from src.dmarket.arbitrage_scanner import ArbitrageScanner
from src.dmarket.liquidity_analyzer import LiquidityAnalyzer

api = DMarketAPI(public_key, secret_key)
scanner = ArbitrageScanner(api)
analyzer = LiquidityAnalyzer(api, min_liquidity_score=65.0)

# –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å + —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å
async def scan_and_filter(level: str, game: str):
    # 1. –ù–∞–π—Ç–∏ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
    opportunities = await scanner.scan_level(level, game)

    # 2. –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
    liquid_opportunities = await analyzer.filter_liquid_items(
        opportunities,
        game=game
    )

    return liquid_opportunities

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
results = await scan_and_filter("standard", "csgo")
print(f"–ù–∞–π–¥–µ–Ω–æ –ª–∏–∫–≤–∏–¥–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π: {len(results)}")
```

---

## üìà –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é

**–î–ª—è —Ä–∞–∑–≥–æ–Ω–∞ –±–∞–ª–∞–Ω—Å–∞** (–º–Ω–æ–≥–æ –º–µ–ª–∫–∏—Ö —Å–¥–µ–ª–æ–∫):
```python
analyzer = LiquidityAnalyzer(
    api,
    min_sales_per_week=20.0,      # –û—á–µ–Ω—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
    max_time_to_sell_days=3.0,    # –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–¥–∞–∂–∞
    min_liquidity_score=75.0      # –¢–æ–ª—å–∫–æ –≤—ã—Å–æ–∫–æ–ª–∏–∫–≤–∏–¥–Ω—ã–µ
)
```

**–î–ª—è –∫—Ä—É–ø–Ω—ã—Ö —Å–¥–µ–ª–æ–∫** (–≤—ã—Å–æ–∫–∞—è –ø—Ä–∏–±—ã–ª—å):
```python
analyzer = LiquidityAnalyzer(
    api,
    min_sales_per_week=5.0,       # –ú–æ–∂–µ–º –∂–¥–∞—Ç—å –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
    max_time_to_sell_days=14.0,   # –¢–µ—Ä–ø–µ–Ω–∏–µ –æ–∫—É–ø–∞–µ—Ç—Å—è
    min_liquidity_score=50.0      # –ü—Ä–∏–Ω–∏–º–∞–µ–º —Ä–∏—Å–∫–∏
)
```

### 2. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```python
# –ö—ç—à–∏—Ä—É–π—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ —Ä–∞–∑—É–º–Ω–æ–µ –≤—Ä–µ–º—è
from functools import lru_cache

@lru_cache(maxsize=100)
async def get_liquidity_cached(item_title: str):
    return await analyzer.analyze_item_liquidity(item_title, "csgo")
```

### 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π

```python
liquid_items = await analyzer.filter_liquid_items(items, "csgo")

# –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
logger.info(
    "liquidity_filtering_complete",
    total=len(items),
    liquid=len(liquid_items),
    filter_rate=f"{((len(items) - len(liquid_items)) / len(items) * 100):.1f}%"
)
```

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –í—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞**: –°–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–µ –ø–æ—Ä–æ–≥–∏

**–†–µ—à–µ–Ω–∏–µ**: –û—Å–ª–∞–±—å—Ç–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
```python
# –ë—ã–ª–æ
analyzer = LiquidityAnalyzer(api, min_liquidity_score=80.0)

# –°—Ç–∞–ª–æ
analyzer = LiquidityAnalyzer(api, min_liquidity_score=55.0)
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—É—Å—Ç–∞—è –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–¥–∞–∂

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç –∏–ª–∏ —Ä–µ–¥–∫–∏–π

**–†–µ—à–µ–Ω–∏–µ**: Analyzer –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–∞–µ—Ç –∫–∞–∫ –Ω–µ–ª–∏–∫–≤–∏–¥–Ω—ã–π
```python
# –ù–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç –±–µ–∑ –∏—Å—Ç–æ—Ä–∏–∏
metrics = await analyzer.analyze_item_liquidity("New Item", "csgo")
# metrics.is_liquid = False (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ API –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∏—Å—Ç–æ—Ä–∏–∏

**–ü—Ä–∏—á–∏–Ω–∞**: Rate limit –∏–ª–∏ —Å–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞

**–†–µ—à–µ–Ω–∏–µ**: Analyzer –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ gracefully
```python
# –ü—Ä–∏ –æ—à–∏–±–∫–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç is_liquid=False
try:
    metrics = await analyzer.analyze_item_liquidity(item, "csgo")
except Exception:
    # –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –≤–Ω—É—Ç—Ä–∏ analyzer
    pass
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [ArbitrageScanner Guide](MULTI_LEVEL_ARBITRAGE_GUIDE.md)
- [DMarket API Spec](DMARKET_API_FULL_SPEC.md)
- [Code Quality Guide](code_quality_tools_guide.md)
- [Testing Guide](testing_guide.md)

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 15 –Ω–æ—è–±—Ä—è 2025 –≥.

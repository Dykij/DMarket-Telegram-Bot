src\utils\rate_limiter.py:10:1: error: Skipping analyzing "src.utils.notifier":
module is installed, but missing library stubs or py.typed marker 
[import-untyped]
        from src.utils.notifier import Notifier
    ^
src\utils\rate_limiter.py: note: In member "__init__" of class "RateLimiter":
src\utils\rate_limiter.py:45:5: error: Argument 3 to "__init__" becomes
"Any | None" due to an unfollowed import  [no-any-unimported]
        def __init__(
        ^
src\utils\rate_limiter.py: note: In member "update_from_headers" of class "RateLimiter":
src\utils\rate_limiter.py:202:29: error: Value of type "Task[None]" must be
used  [unused-awaitable]
                                asyncio.create_task(
                                ^
src\utils\rate_limiter.py:202:29: note: Are you missing an await?
src\utils\prometheus_metrics.py: note: In function "create_metrics_app":
src\utils\prometheus_metrics.py:259:1: error: Function is missing a return type
annotation  [no-untyped-def]
    def create_metrics_app():
    ^
src\utils\prometheus_metrics.py: note: In member "__init__" of class "Timer":
src\utils\prometheus_metrics.py:283:5: error: Function is missing a return type
annotation  [no-untyped-def]
        def __init__(self):
        ^
src\utils\prometheus_metrics.py:283:5: note: Use "-> None" if function does not return a value
src\utils\prometheus_metrics.py: note: In member "__enter__" of class "Timer":
src\utils\prometheus_metrics.py:287:5: error: Function is missing a type
annotation  [no-untyped-def]
        def __enter__(self):
        ^
src\utils\prometheus_metrics.py: note: In member "__exit__" of class "Timer":
src\utils\prometheus_metrics.py:291:5: error: Function is missing a type
annotation  [no-untyped-def]
        def __exit__(self, exc_type, exc_val, exc_tb):
        ^
src\utils\prometheus_metrics.py:292:24: error: Unsupported operand types for -
("float" and "None")  [operator]
            self.elapsed = time.perf_counter() - self.start_time
                           ^
src\utils\prometheus_metrics.py:292:24: note: Right operand is of type "Any | None"
src\utils\market_analyzer.py: note: In member "analyze_price_history" of class "MarketAnalyzer":
src\utils\market_analyzer.py:92:34: error: Incompatible types in assignment
(expression has type "tuple[Any, ...]", variable has type "list[Any]") 
[assignment]
                timestamps, prices = zip(*combined, strict=False)
                                     ^
src\utils\market_analyzer.py:92:34: error: Incompatible types in assignment
(expression has type "tuple[Any, ...]", variable has type "list[float]") 
[assignment]
                timestamps, prices = zip(*combined, strict=False)
                                     ^
src\utils\market_analyzer.py: note: In member "_calculate_pattern_confidence" of class "MarketAnalyzer":
src\utils\market_analyzer.py:483:13: error: Incompatible types in assignment
(expression has type "float | floating[Any]", variable has type "float") 
[assignment]
                confidence *= max(1 - volatility * 2, 0.6)
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_analyzer.py:483:27: error: Value of type variable
"SupportsRichComparisonT" of "max" cannot be "float | floating[Any] | int" 
[type-var]
                confidence *= max(1 - volatility * 2, 0.6)
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_analyzer.py: note: In function "analyze_market_opportunity":
src\utils\market_analyzer.py:571:29: error: Incompatible types in assignment
(expression has type "float", variable has type "int")  [assignment]
                current_price = float(item_data["price"]["amount"]) / 100
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_analyzer.py:573:29: error: Incompatible types in assignment
(expression has type "float", variable has type "int")  [assignment]
                current_price = float(item_data["price"])
                                ^~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\price_sanity_checker.py: note: In member "_get_price_history" of class "PriceSanityChecker":
src\utils\price_sanity_checker.py:264:13: error: Returning Any from function
declared to return "list[dict[str, Any]]"  [no-any-return]
                return history
                ^~~~~~~~~~~~~~
src\utils\api_circuit_breaker.py:3: error: "type: ignore" comment without error
code (consider "type: ignore[import-untyped]" instead)  [ignore-without-code]
    from circuitbreaker import CircuitBreaker, CircuitBreakerError  # type...
    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\utils\api_circuit_breaker.py: note: In class "APICircuitBreaker":
src\utils\api_circuit_breaker.py:13:25: error: Class cannot subclass
"CircuitBreaker" (has type "Any")  [misc]
    class APICircuitBreaker(CircuitBreaker):
                            ^
src\utils\api_circuit_breaker.py:13:25: error: Base type CircuitBreaker becomes
"Any" due to an unfollowed import  [no-any-unimported]
    class APICircuitBreaker(CircuitBreaker):
                            ^~~~~~~~~~~~~~
src\telegram_bot\notification_queue.py: note: In member "__init__" of class "NotificationQueue":
src\telegram_bot\notification_queue.py:46:21: error: Missing type parameters
for generic type "PriorityQueue"  [type-arg]
            self.queue: asyncio.PriorityQueue = asyncio.PriorityQueue()
                        ^
src\telegram_bot\notification_queue.py:48: error: Missing type parameters for
generic type "Task"  [type-arg]
            self.worker_task: asyncio.Task | None = None
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\notification_queue.py: note: In member "start" of class "NotificationQueue":
src\telegram_bot\notification_queue.py:57:5: error: Function is missing a
return type annotation  [no-untyped-def]
        async def start(self):
        ^
src\telegram_bot\notification_queue.py:57:5: note: Use "-> None" if function does not return a value
src\telegram_bot\notification_queue.py:63:48: error: Call to untyped function
"_worker" in typed context  [no-untyped-call]
            self.worker_task = asyncio.create_task(self._worker())
                                                   ^~~~~~~~~~~~~~
src\telegram_bot\notification_queue.py: note: In member "stop" of class "NotificationQueue":
src\telegram_bot\notification_queue.py:66:5: error: Function is missing a
return type annotation  [no-untyped-def]
        async def stop(self):
        ^
src\telegram_bot\notification_queue.py:66:5: note: Use "-> None" if function does not return a value
src\telegram_bot\notification_queue.py: note: In member "enqueue" of class "NotificationQueue":
src\telegram_bot\notification_queue.py:77:5: error: Function is missing a
return type annotation  [no-untyped-def]
        async def enqueue(
        ^
src\telegram_bot\notification_queue.py: note: In member "_worker" of class "NotificationQueue":
src\telegram_bot\notification_queue.py:101:5: error: Function is missing a
return type annotation  [no-untyped-def]
        async def _worker(self):
        ^
src\telegram_bot\notification_queue.py:101:5: note: Use "-> None" if function does not return a value
src\telegram_bot\notification_queue.py: note: In member "_wait_for_rate_limits" of class "NotificationQueue":
src\telegram_bot\notification_queue.py:123:5: error: Function is missing a
return type annotation  [no-untyped-def]
        async def _wait_for_rate_limits(self, chat_id: int):
        ^
src\telegram_bot\notification_queue.py: note: In member "_send_message" of class "NotificationQueue":
src\telegram_bot\notification_queue.py:139:5: error: Function is missing a
return type annotation  [no-untyped-def]
        async def _send_message(self, message: NotificationMessage):
        ^
src\telegram_bot\notification_queue.py:157:17: error: Call to untyped function
"_cleanup_timestamps" in typed context  [no-untyped-call]
                    self._cleanup_timestamps()
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\notification_queue.py: note: In member "_cleanup_timestamps" of class "NotificationQueue":
src\telegram_bot\notification_queue.py:178:5: error: Function is missing a
return type annotation  [no-untyped-def]
        def _cleanup_timestamps(self):
        ^
src\telegram_bot\notification_queue.py:178:5: note: Use "-> None" if function does not return a value
src\utils\sentry_integration.py: note: In function "init_sentry":
src\utils\sentry_integration.py:82:25: error: Argument "before_send" to "init"
has incompatible type
"Callable[[dict[str, Any], dict[str, Any]], dict[str, Any] | None]"; expected
"Callable[[Event, dict[str, Any]], Event | None] | None"  [arg-type]
                before_send=before_send_callback,
                            ^~~~~~~~~~~~~~~~~~~~
src\utils\sentry_integration.py: note: In function "set_transaction_name":
src\utils\sentry_integration.py:261:5: error: Module has no attribute
"set_transaction"; maybe "start_transaction" or "set_transaction_name"? 
[attr-defined]
        sentry_sdk.set_transaction(name)
        ^~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py: note: In member "create_price_chart" of class "MarketVisualizer":
src\utils\market_visualizer.py:148:39: error: Call to untyped function
"DateFormatter" in typed context  [no-untyped-call]
            ax1.xaxis.set_major_formatter(mdates.DateFormatter("%m/%d"))
                                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py: note: At top level:
src\utils\market_visualizer.py:154:13: error: Name "ax2" may be undefined 
[possibly-undefined]
                ax2.bar(
                ^~~
src\utils\market_visualizer.py: note: In member "create_price_chart" of class "MarketVisualizer":
src\utils\market_visualizer.py:168:43: error: Call to untyped function
"DateFormatter" in typed context  [no-untyped-call]
                ax2.xaxis.set_major_formatter(mdates.DateFormatter("%m/%d"...
                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py:196:18: error: Argument "rect" to "tight_layout"
of "Figure" has incompatible type "list[float]"; expected
"tuple[float, float, float, float] | None"  [arg-type]
                rect=[0, 0.03, 1, 0.95],
                     ^~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py: note: In member "create_market_comparison_chart" of class "MarketVisualizer":
src\utils\market_visualizer.py:279:38: error: Call to untyped function
"DateFormatter" in typed context  [no-untyped-call]
            ax.xaxis.set_major_formatter(mdates.DateFormatter("%m/%d"))
                                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py: note: In member "create_pattern_visualization" of class "MarketVisualizer":
src\utils\market_visualizer.py:399:18: error: Call to untyped function
"date2num" in typed context  [no-untyped-call]
                    (mdates.date2num(area["start"]), area["min_price"]),
                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py:400:17: error: Call to untyped function
"date2num" in typed context  [no-untyped-call]
                    mdates.date2num(area["end"]) - mdates.date2num(area["s...
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py:433:38: error: Call to untyped function
"DateFormatter" in typed context  [no-untyped-call]
            ax.xaxis.set_major_formatter(mdates.DateFormatter("%m/%d"))
                                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py: note: In member "create_market_summary_image" of class "MarketVisualizer":
src\utils\market_visualizer.py:487:26: error: Incompatible types in assignment
(expression has type "FreeTypeFont | ImageFont", variable has type
"FreeTypeFont")  [assignment]
                font_large = ImageFont.load_default()
                             ^~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py:488:27: error: Incompatible types in assignment
(expression has type "FreeTypeFont | ImageFont", variable has type
"FreeTypeFont")  [assignment]
                font_medium = ImageFont.load_default()
                              ^~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py:489:26: error: Incompatible types in assignment
(expression has type "FreeTypeFont | ImageFont", variable has type
"FreeTypeFont")  [assignment]
                font_small = ImageFont.load_default()
                             ^~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py:496:33: error: Incompatible types in assignment
(expression has type "float", variable has type "int")  [assignment]
                    current_price = float(item_data["price"]["amount"]) / ...
                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py:498:33: error: Incompatible types in assignment
(expression has type "float", variable has type "int")  [assignment]
                    current_price = float(item_data["price"])
                                    ^~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py: note: In member "color_trend_regions" of class "MarketVisualizer":
src\utils\market_visualizer.py:716:5: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
        def color_trend_regions(self, ax, df: pd.DataFrame) -> None:
        ^
src\utils\market_visualizer.py:772:18: error: Call to untyped function
"date2num" in typed context  [no-untyped-call]
                    (mdates.date2num(x_start), y_min),
                     ^~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py:773:17: error: Call to untyped function
"date2num" in typed context  [no-untyped-call]
                    mdates.date2num(x_end) - mdates.date2num(x_start),
                    ^~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py: note: In member "add_support_resistance" of class "MarketVisualizer":
src\utils\market_visualizer.py:782:5: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
        def add_support_resistance(self, ax, df: pd.DataFrame) -> None:
        ^
src\utils\market_visualizer.py: note: In function "add_support_resistance":
src\utils\market_visualizer.py:820:9: error: Function is missing a type
annotation  [no-untyped-def]
            def filter_clusters(points, threshold=0.05):
            ^
src\utils\market_visualizer.py: note: In member "add_support_resistance" of class "MarketVisualizer":
src\utils\market_visualizer.py:852:26: error: Call to untyped function
"filter_clusters" in typed context  [no-untyped-call]
            support_points = filter_clusters(support_points)
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_visualizer.py:853:29: error: Call to untyped function
"filter_clusters" in typed context  [no-untyped-call]
            resistance_points = filter_clusters(resistance_points)
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\logging_utils.py: note: In function "setup_sentry":
src\utils\logging_utils.py:125:5: error: Function is missing a type annotation 
[no-untyped-def]
        def filter_sensitive_data(event, hint):
        ^
src\utils\logging_utils.py:187:22: error: Extra key "profiles_sample_rate" for
TypedDict "Experiments"  [typeddict-unknown-key]
            _experiments={
                         ^
src\utils\logging_utils.py: note: In function "setup_logging":
src\utils\logging_utils.py:243:29: error: Incompatible types in assignment
(expression has type "Formatter", variable has type "ColoredFormatter") 
[assignment]
            console_formatter = logging.Formatter(format_string)
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\logging_utils.py: note: In function "setup_structlog":
src\utils\logging_utils.py:320:20: error: Argument "processors" to "configure"
has incompatible type "list[object]"; expected
"Iterable[Callable[[Any, str, MutableMapping[str, Any]], Mapping[str, Any] | str | bytes | bytearray | tuple[Any, ...]]] | None"
 [arg-type]
            processors=processors,
                       ^~~~~~~~~~
src\utils\state_manager.py:23:1: error: Module "src.models.user" does not
explicitly export attribute "Base"  [attr-defined]
    from src.models.user import Base
    ^
src\utils\state_manager.py: note: In member "create_checkpoint" of class "StateManager":
src\utils\state_manager.py:124:9: error: Unexpected keyword argument "scan_id"
for "info" of "Logger"  [call-arg]
            logger.info(
            ^
src\utils\state_manager.py:124:9: error: Unexpected keyword argument "user_id"
for "info" of "Logger"  [call-arg]
            logger.info(
            ^
src\utils\state_manager.py:124:9: error: Unexpected keyword argument
"operation_type" for "info" of "Logger"  [call-arg]
            logger.info(
            ^
src\utils\state_manager.py:131:16: error: Unexpected keyword argument
"metadata" for "CheckpointData"; did you mean "extra_data"?  [call-arg]
            return CheckpointData(
                   ^
src\utils\state_manager.py: note: In member "save_checkpoint" of class "StateManager":
src\utils\state_manager.py:164:33: error: Incompatible types in assignment
(expression has type "str | None", variable has type "Column[str]") 
[assignment]
                checkpoint.cursor = cursor
                                    ^~~~~~
src\utils\state_manager.py:165:42: error: Incompatible types in assignment
(expression has type "int", variable has type "Column[int]")  [assignment]
                checkpoint.processed_items = processed_items
                                             ^~~~~~~~~~~~~~~
src\utils\state_manager.py:166:38: error: Incompatible types in assignment
(expression has type "int | None", variable has type "Column[int]") 
[assignment]
                checkpoint.total_items = total_items
                                         ^~~~~~~~~~~
src\utils\state_manager.py:167:33: error: Incompatible types in assignment
(expression has type "str", variable has type "Column[str]")  [assignment]
                checkpoint.status = status
                                    ^~~~~~
src\utils\state_manager.py:168:36: error: Incompatible types in assignment
(expression has type "datetime", variable has type "Column[datetime]") 
[assignment]
                checkpoint.timestamp = datetime.now(UTC)
                                       ^~~~~~~~~~~~~~~~~
src\utils\state_manager.py:173:13: error: Unexpected keyword argument "scan_id"
for "warning" of "Logger"  [call-arg]
                logger.warning(
                ^
src\utils\state_manager.py:181:9: error: Unexpected keyword argument "scan_id"
for "debug" of "Logger"  [call-arg]
            logger.debug(
            ^
src\utils\state_manager.py:181:9: error: Unexpected keyword argument
"processed" for "debug" of "Logger"  [call-arg]
            logger.debug(
            ^
src\utils\state_manager.py:181:9: error: Unexpected keyword argument "total"
for "debug" of "Logger"  [call-arg]
            logger.debug(
            ^
src\utils\state_manager.py:181:9: error: Unexpected keyword argument "status"
for "debug" of "Logger"  [call-arg]
            logger.debug(
            ^
src\utils\state_manager.py: note: In member "load_checkpoint" of class "StateManager":
src\utils\state_manager.py:207:21: error: Argument "scan_id" to
"CheckpointData" has incompatible type "Column[UUID]"; expected "UUID" 
[arg-type]
                scan_id=checkpoint.scan_id,
                        ^~~~~~~~~~~~~~~~~~
src\utils\state_manager.py:208:20: error: Argument "cursor" to "CheckpointData"
has incompatible type "Column[str]"; expected "str | None"  [arg-type]
                cursor=checkpoint.cursor,
                       ^~~~~~~~~~~~~~~~~
src\utils\state_manager.py:209:29: error: Argument "processed_items" to
"CheckpointData" has incompatible type "Column[int]"; expected "int"  [arg-type]
                processed_items=checkpoint.processed_items,
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\state_manager.py:210:25: error: Argument "total_items" to
"CheckpointData" has incompatible type "Column[int]"; expected "int | None" 
[arg-type]
                total_items=checkpoint.total_items,
                            ^~~~~~~~~~~~~~~~~~~~~~
src\utils\state_manager.py:211:23: error: Argument "timestamp" to
"CheckpointData" has incompatible type "Column[datetime]"; expected "datetime" 
[arg-type]
                timestamp=checkpoint.timestamp,
                          ^~~~~~~~~~~~~~~~~~~~
src\utils\state_manager.py:212:24: error: Argument "extra_data" to
"CheckpointData" has incompatible type "Column[Any]"; expected "dict[str, Any]" 
[arg-type]
                extra_data=checkpoint.extra_data,
                           ^~~~~~~~~~~~~~~~~~~~~
src\utils\state_manager.py:213:20: error: Argument "status" to "CheckpointData"
has incompatible type "Column[str]"; expected "str"  [arg-type]
                status=checkpoint.status,
                       ^~~~~~~~~~~~~~~~~
src\utils\state_manager.py: note: In member "get_active_checkpoints" of class "StateManager":
src\utils\state_manager.py:244:25: error: Argument "scan_id" to
"CheckpointData" has incompatible type "Column[UUID]"; expected "UUID" 
[arg-type]
                    scan_id=cp.scan_id,
                            ^~~~~~~~~~
src\utils\state_manager.py:245:24: error: Argument "cursor" to "CheckpointData"
has incompatible type "Column[str]"; expected "str | None"  [arg-type]
                    cursor=cp.cursor,
                           ^~~~~~~~~
src\utils\state_manager.py:246:33: error: Argument "processed_items" to
"CheckpointData" has incompatible type "Column[int]"; expected "int"  [arg-type]
                    processed_items=cp.processed_items,
                                    ^~~~~~~~~~~~~~~~~~
src\utils\state_manager.py:247:29: error: Argument "total_items" to
"CheckpointData" has incompatible type "Column[int]"; expected "int | None" 
[arg-type]
                    total_items=cp.total_items,
                                ^~~~~~~~~~~~~~
src\utils\state_manager.py:248:27: error: Argument "timestamp" to
"CheckpointData" has incompatible type "Column[datetime]"; expected "datetime" 
[arg-type]
                    timestamp=cp.timestamp,
                              ^~~~~~~~~~~~
src\utils\state_manager.py:249:28: error: Argument "extra_data" to
"CheckpointData" has incompatible type "Column[Any]"; expected "dict[str, Any]" 
[arg-type]
                    extra_data=cp.extra_data,
                               ^~~~~~~~~~~~~
src\utils\state_manager.py:250:24: error: Argument "status" to "CheckpointData"
has incompatible type "Column[str]"; expected "str"  [arg-type]
                    status=cp.status,
                           ^~~~~~~~~
src\utils\state_manager.py: note: In function "register_shutdown_handlers":
src\utils\state_manager.py:338:9: error: Function is missing a type annotation 
[no-untyped-def]
            def signal_handler(signum, frame):
            ^
src\utils\state_manager.py:346:13: error: Value of type "Task[None]" must be
used  [unused-awaitable]
                asyncio.create_task(
                ^
src\utils\state_manager.py:346:13: note: Are you missing an await?
src\utils\state_manager.py: note: In member "set_shutdown_callback" of class "StateManager":
src\utils\state_manager.py:420:47: error: Function "builtins.callable" is not
valid as a type  [valid-type]
        def set_shutdown_callback(self, callback: callable) -> None:
                                                  ^
src\utils\state_manager.py:420:47: note: Perhaps you meant "typing.Callable" instead of "callable"?
src\utils\state_manager.py: note: In member "trigger_emergency_shutdown" of class "StateManager":
src\utils\state_manager.py:442:17: error: Incompatible types in "await" (actual
type "None", expected type "Awaitable[Any]")  [misc]
                    await self._shutdown_callback(reason)
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\state_manager.py:442:23: error: Too many arguments  [call-arg]
                    await self._shutdown_callback(reason)
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\state_manager.py: note: In member "save_checkpoint" of class "LocalStateManager":
src\utils\state_manager.py:491:9: error: Unexpected keyword argument "scan_id"
for "debug" of "Logger"  [call-arg]
            logger.debug(
            ^
src\utils\state_manager.py:491:9: error: Unexpected keyword argument "file" for
"debug" of "Logger"  [call-arg]
            logger.debug(
            ^
src\utils\state_manager.py: note: In member "load_checkpoint" of class "LocalStateManager":
src\utils\state_manager.py:507:20: error: Unexpected keyword argument
"metadata" for "CheckpointData"; did you mean "extra_data"?  [call-arg]
                return CheckpointData(
                       ^
src\utils\state_manager.py:517:13: error: Unexpected keyword argument "scan_id"
for "exception" of "Logger"  [call-arg]
                logger.exception(
                ^
src\utils\state_manager.py:517:13: error: Unexpected keyword argument "error"
for "exception" of "Logger"  [call-arg]
                logger.exception(
                ^
src\utils\market_analytics.py:19:10: error: Too many arguments for "get_logger"
 [call-arg]
    logger = get_logger(__name__, {"component": "market_analytics"})
             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_analytics.py: note: In member "rsi" of class "TechnicalIndicators":
src\utils\market_analytics.py:80:13: error: Unexpected keyword argument
"required" for "warning" of "Logger"  [call-arg]
                logger.warning("Insufficient data for RSI", required=perio...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\utils\market_analytics.py:80:13: error: Unexpected keyword argument "got"
for "warning" of "Logger"  [call-arg]
                logger.warning("Insufficient data for RSI", required=perio...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\utils\market_analytics.py:101:9: error: Unexpected keyword argument "value"
for "debug" of "Logger"  [call-arg]
            logger.debug("RSI calculated", value=rsi_value, period=period)
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_analytics.py:101:9: error: Unexpected keyword argument
"period" for "debug" of "Logger"  [call-arg]
            logger.debug("RSI calculated", value=rsi_value, period=period)
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_analytics.py: note: In member "macd" of class "TechnicalIndicators":
src\utils\market_analytics.py:128:13: error: Unexpected keyword argument
"required" for "warning" of "Logger"  [call-arg]
                logger.warning(
                ^
src\utils\market_analytics.py:128:13: error: Unexpected keyword argument "got"
for "warning" of "Logger"  [call-arg]
                logger.warning(
                ^
src\utils\market_analytics.py:156:43: error: Argument 2 to "debug" of "Logger"
has incompatible type "**dict[str, float]"; expected
"bool | tuple[type[BaseException], BaseException, TracebackType | None] | tuple[None, None, None] | BaseException | None"
 [arg-type]
            logger.debug("MACD calculated", **result)
                                              ^~~~~~
src\utils\market_analytics.py:156:43: error: Argument 2 to "debug" of "Logger"
has incompatible type "**dict[str, float]"; expected "bool"  [arg-type]
            logger.debug("MACD calculated", **result)
                                              ^~~~~~
src\utils\market_analytics.py:156:43: error: Argument 2 to "debug" of "Logger"
has incompatible type "**dict[str, float]"; expected "int"  [arg-type]
            logger.debug("MACD calculated", **result)
                                              ^~~~~~
src\utils\market_analytics.py:156:43: error: Argument 2 to "debug" of "Logger"
has incompatible type "**dict[str, float]"; expected
"Mapping[str, object] | None"  [arg-type]
            logger.debug("MACD calculated", **result)
                                              ^~~~~~
src\utils\market_analytics.py: note: In member "bollinger_bands" of class "TechnicalIndicators":
src\utils\market_analytics.py:202:13: error: Unexpected keyword argument
"required" for "warning" of "Logger"  [call-arg]
                logger.warning(
                ^
src\utils\market_analytics.py:202:13: error: Unexpected keyword argument "got"
for "warning" of "Logger"  [call-arg]
                logger.warning(
                ^
src\utils\market_analytics.py:220:54: error: Argument 2 to "debug" of "Logger"
has incompatible type "**dict[str, float]"; expected
"bool | tuple[type[BaseException], BaseException, TracebackType | None] | tuple[None, None, None] | BaseException | None"
 [arg-type]
            logger.debug("Bollinger Bands calculated", **result)
                                                         ^~~~~~
src\utils\market_analytics.py:220:54: error: Argument 2 to "debug" of "Logger"
has incompatible type "**dict[str, float]"; expected "bool"  [arg-type]
            logger.debug("Bollinger Bands calculated", **result)
                                                         ^~~~~~
src\utils\market_analytics.py:220:54: error: Argument 2 to "debug" of "Logger"
has incompatible type "**dict[str, float]"; expected "int"  [arg-type]
            logger.debug("Bollinger Bands calculated", **result)
                                                         ^~~~~~
src\utils\market_analytics.py:220:54: error: Argument 2 to "debug" of "Logger"
has incompatible type "**dict[str, float]"; expected
"Mapping[str, object] | None"  [arg-type]
            logger.debug("Bollinger Bands calculated", **result)
                                                         ^~~~~~
src\utils\market_analytics.py: note: In member "calculate_fair_price" of class "MarketAnalyzer":
src\utils\market_analytics.py:253:13: error: Unexpected keyword argument
"required" for "warning" of "Logger"  [call-arg]
                logger.warning(
                ^
src\utils\market_analytics.py:253:13: error: Unexpected keyword argument "got"
for "warning" of "Logger"  [call-arg]
                logger.warning(
                ^
src\utils\market_analytics.py:277:13: error: Unexpected keyword argument
"method" for "error" of "Logger"  [call-arg]
                logger.error("Unknown fair price method", method=method)
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_analytics.py:280:9: error: Unexpected keyword argument "price"
for "info" of "Logger"  [call-arg]
            logger.info("Fair price calculated", price=fair_price, method=...
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\utils\market_analytics.py:280:9: error: Unexpected keyword argument
"method" for "info" of "Logger"  [call-arg]
            logger.info("Fair price calculated", price=fair_price, method=...
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\utils\market_analytics.py: note: In member "detect_trend" of class "MarketAnalyzer":
src\utils\market_analytics.py:301:13: error: Unexpected keyword argument "got"
for "warning" of "Logger"  [call-arg]
                logger.warning("Insufficient data for trend detection", go...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\utils\market_analytics.py:318:9: error: Unexpected keyword argument "trend"
for "info" of "Logger"  [call-arg]
            logger.info(
            ^
src\utils\market_analytics.py:318:9: error: Unexpected keyword argument
"short_ma" for "info" of "Logger"  [call-arg]
            logger.info(
            ^
src\utils\market_analytics.py:318:9: error: Unexpected keyword argument
"long_ma" for "info" of "Logger"  [call-arg]
            logger.info(
            ^
src\utils\market_analytics.py: note: In member "predict_price_drop" of class "MarketAnalyzer":
src\utils\market_analytics.py:372:17: error: Dict entry 0 has incompatible type
"str": "dict[str, float]"; expected "str": "float | SignalType"  [dict-item]
                    "value": macd_data,
                    ^~~~~~~~~~~~~~~~~~
src\utils\market_analytics.py:380:13: error: Dict entry 0 has incompatible type
"str": "TrendDirection"; expected "str": "float | SignalType"  [dict-item]
                "value": trend,
                ^~~~~~~~~~~~~~
src\utils\market_analytics.py:397:17: error: Dict entry 0 has incompatible type
"str": "dict[str, float]"; expected "str": "float | SignalType"  [dict-item]
                    "value": bb,
                    ^~~~~~~~~~~
src\utils\market_analytics.py:403:27: error: Generator has incompatible item
type "float | SignalType"; expected "bool"  [misc]
            sell_weight = sum(s["weight"] for s in signals.values() if s["...
                              ^~~~~~~~~~~
src\utils\market_analytics.py:404:26: error: Generator has incompatible item
type "float | SignalType"; expected "bool"  [misc]
            buy_weight = sum(s["weight"] for s in signals.values() if s["s...
                             ^~~~~~~~~~~
src\utils\market_analytics.py:422:48: error: Argument 2 to "info" of "Logger"
has incompatible type "**dict[str, object]"; expected
"bool | tuple[type[BaseException], BaseException, TracebackType | None] | tuple[None, None, None] | BaseException | None"
 [arg-type]
            logger.info("Price drop prediction", **{k: v for k, v in resul...
                                                   ^~~~~~~~~~~~~~~~~~~~~~~...
src\utils\market_analytics.py:422:48: error: Argument 2 to "info" of "Logger"
has incompatible type "**dict[str, object]"; expected "bool"  [arg-type]
            logger.info("Price drop prediction", **{k: v for k, v in resul...
                                                   ^~~~~~~~~~~~~~~~~~~~~~~...
src\utils\market_analytics.py:422:48: error: Argument 2 to "info" of "Logger"
has incompatible type "**dict[str, object]"; expected "int"  [arg-type]
            logger.info("Price drop prediction", **{k: v for k, v in resul...
                                                   ^~~~~~~~~~~~~~~~~~~~~~~...
src\utils\market_analytics.py:422:48: error: Argument 2 to "info" of "Logger"
has incompatible type "**dict[str, object]"; expected
"Mapping[str, object] | None"  [arg-type]
            logger.info("Price drop prediction", **{k: v for k, v in resul...
                                                   ^~~~~~~~~~~~~~~~~~~~~~~...
src\utils\market_analytics.py: note: In member "calculate_support_resistance" of class "MarketAnalyzer":
src\utils\market_analytics.py:464:9: error: Unexpected keyword argument
"support_count" for "debug" of "Logger"  [call-arg]
            logger.debug(
            ^
src\utils\market_analytics.py:464:9: error: Unexpected keyword argument
"resistance_count" for "debug" of "Logger"  [call-arg]
            logger.debug(
            ^
src\utils\market_analytics.py: note: In member "analyze_liquidity" of class "MarketAnalyzer":
src\utils\market_analytics.py:536:45: error: Argument 2 to "info" of "Logger"
has incompatible type "**dict[str, object]"; expected
"bool | tuple[type[BaseException], BaseException, TracebackType | None] | tuple[None, None, None] | BaseException | None"
 [arg-type]
            logger.info("Liquidity analyzed", **result)
                                                ^~~~~~
src\utils\market_analytics.py:536:45: error: Argument 2 to "info" of "Logger"
has incompatible type "**dict[str, object]"; expected "bool"  [arg-type]
            logger.info("Liquidity analyzed", **result)
                                                ^~~~~~
src\utils\market_analytics.py:536:45: error: Argument 2 to "info" of "Logger"
has incompatible type "**dict[str, object]"; expected "int"  [arg-type]
            logger.info("Liquidity analyzed", **result)
                                                ^~~~~~
src\utils\market_analytics.py:536:45: error: Argument 2 to "info" of "Logger"
has incompatible type "**dict[str, object]"; expected
"Mapping[str, object] | None"  [arg-type]
            logger.info("Liquidity analyzed", **result)
                                                ^~~~~~
src\utils\market_analytics.py: note: In member "generate_trading_insights" of class "MarketAnalyzer":
src\utils\market_analytics.py:571:13: error: Dict entry 0 has incompatible type
"str": "TrendDirection"; expected "str": "float"  [dict-item]
                "direction": trend,
                ^~~~~~~~~~~~~~~~~~
src\utils\market_analytics.py:572:13: error: Dict entry 1 has incompatible type
"str": "str"; expected "str": "float"  [dict-item]
                "strength": "strong" if trend != TrendDirection.NEUTRAL el...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\utils\market_analytics.py:581:42: error: Incompatible types in assignment
(expression has type "dict[str, list[float]]", target has type
"dict[str, float]")  [assignment]
            insights["support_resistance"] = sr_levels
                                             ^~~~~~~~~
src\utils\market_analytics.py:620:13: error: Dict entry 0 has incompatible type
"str": "str"; expected "str": "float"  [dict-item]
                "recommendation": overall_recommendation,
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\market_analytics.py:624:9: error: Unexpected keyword argument
"recommendation" for "info" of "Logger"  [call-arg]
            logger.info(
            ^
src\utils\market_analytics.py:624:9: error: Unexpected keyword argument "score"
for "info" of "Logger"  [call-arg]
            logger.info(
            ^
src\utils\exceptions.py: note: In member "error_code" of class "DMarketSpecificError":
src\utils\exceptions.py:292:9: error: Statement is unreachable  [unreachable]
            return ""
            ^~~~~~~~~
src\utils\exceptions.py: note: In function "handle_exceptions":
src\utils\exceptions.py:502:21: error: Missing type parameters for generic type
"Callable"  [type-arg]
        func_or_logger: Callable | logging.Logger | None = None,
                        ^
src\utils\daily_report_scheduler.py:11:1: error: Skipping analyzing
"apscheduler.schedulers.asyncio": module is installed, but missing library stubs
or py.typed marker  [import-untyped]
    from apscheduler.schedulers.asyncio import AsyncIOScheduler
    ^
src\utils\daily_report_scheduler.py:12:1: error: Skipping analyzing
"apscheduler.triggers.cron": module is installed, but missing library stubs or
py.typed marker  [import-untyped]
    from apscheduler.triggers.cron import CronTrigger
    ^
src\utils\analytics.py: note: In member "create_price_history_chart" of class "ChartGenerator":
src\utils\analytics.py:95:42: error: Call to untyped function "DateFormatter"
in typed context  [no-untyped-call]
                ax.xaxis.set_major_formatter(mdates.DateFormatter("%m/%d")...
                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\analytics.py:96:40: error: Call to untyped function "DayLocator" in
typed context  [no-untyped-call]
                ax.xaxis.set_major_locator(mdates.DayLocator(interval=1))
                                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\analytics.py: note: In member "create_volume_analysis_chart" of class "ChartGenerator":
src\utils\analytics.py:316:28: error: Call to untyped function "date2num" in
typed context  [no-untyped-call]
                z = np.polyfit(mdates.date2num(df["date"]), df["volume"], ...
                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\analytics.py:320:19: error: Call to untyped function "date2num" in
typed context  [no-untyped-call]
                    p(mdates.date2num(df["date"])),
                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\analytics.py:336:42: error: Call to untyped function "DateFormatter"
in typed context  [no-untyped-call]
                ax.xaxis.set_major_formatter(mdates.DateFormatter("%m/%d")...
                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py: note: In member "__new__" of class "UserProfileManager":
src\telegram_bot\user_profiles.py:61:5: error: Function is missing a return
type annotation  [no-untyped-def]
        def __new__(cls):
        ^
src\telegram_bot\user_profiles.py:64:13: error: Cannot determine type of
"_initialized"  [has-type]
                cls._instance._initialized = False
                ^~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py: note: In member "__init__" of class "UserProfileManager":
src\telegram_bot\user_profiles.py:68:12: error: Cannot determine type of
"_initialized"  [has-type]
            if self._initialized:
               ^~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py:71:9: error: Need type annotation for
"_profiles" (hint: "_profiles: dict[<type>, <type>] = ...")  [var-annotated]
            self._profiles = {}  # Dict[int, Dict[str, Any]]
            ^~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py:74:9: error: Need type annotation for
"_admin_ids" (hint: "_admin_ids: set[<type>] = ...")  [var-annotated]
            self._admin_ids = set()  # Set[int]
            ^~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py: note: In member "_init_encryption" of class "UserProfileManager":
src\telegram_bot\user_profiles.py:95:40: error: Incompatible types in
assignment (expression has type "bytes", variable has type "None")  [assignment]
                    self._encryption_key = f.read()
                                           ^~~~~~~~
src\telegram_bot\user_profiles.py:98:36: error: Incompatible types in
assignment (expression has type "bytes", variable has type "None")  [assignment]
                self._encryption_key = Fernet.generate_key()
                                       ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py:100:25: error: Argument 1 to "write" of
"BufferedWriter" has incompatible type "None"; expected "Buffer"  [arg-type]
                    f.write(self._encryption_key)
                            ^~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py:112:24: error: Incompatible types in
assignment (expression has type "Fernet", variable has type "None") 
[assignment]
            self._fernet = Fernet(self._encryption_key)
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py:112:31: error: Argument 1 to "Fernet" has
incompatible type "None"; expected "bytes | str"  [arg-type]
            self._fernet = Fernet(self._encryption_key)
                                  ^~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py: note: In member "_encrypt" of class "UserProfileManager":
src\telegram_bot\user_profiles.py:130:9: error: Returning Any from function
declared to return "str"  [no-any-return]
            return self._fernet.encrypt(data.encode()).decode()
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py:130:16: error: "None" has no attribute
"encrypt"  [attr-defined]
            return self._fernet.encrypt(data.encode()).decode()
                   ^~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py: note: In member "_decrypt" of class "UserProfileManager":
src\telegram_bot\user_profiles.py:149:13: error: Returning Any from function
declared to return "str"  [no-any-return]
                return self._fernet.decrypt(encrypted_data.encode()).decod...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py:149:20: error: "None" has no attribute
"decrypt"  [attr-defined]
                return self._fernet.decrypt(encrypted_data.encode()).decod...
                       ^~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py: note: In member "save_profiles" of class "UserProfileManager":
src\telegram_bot\user_profiles.py:223:36: error: Incompatible types in
assignment (expression has type "float", variable has type "int")  [assignment]
                self._last_save_time = current_time
                                       ^~~~~~~~~~~~
src\telegram_bot\user_profiles.py: note: In member "get_profile" of class "UserProfileManager":
src\telegram_bot\user_profiles.py:243:9: error: Returning Any from function
declared to return "dict[str, Any]"  [no-any-return]
            return self._profiles[user_id]
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py: note: In member "get_api_key" of class "UserProfileManager":
src\telegram_bot\user_profiles.py:333:9: error: Returning Any from function
declared to return "str"  [no-any-return]
            return profile["api_keys"].get(key_name, "")
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py: note: In function "get_user_settings":
src\telegram_bot\user_profiles.py:513:5: error: Returning Any from function
declared to return "dict[str, Any]"  [no-any-return]
        return profile.get("settings", {})
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py: note: In function "require_access_level":
src\telegram_bot\user_profiles.py:537:1: error: Function is missing a return
type annotation  [no-untyped-def]
    def require_access_level(feature: str):
    ^
src\telegram_bot\user_profiles.py:548:5: error: Function is missing a type
annotation  [no-untyped-def]
        def decorator(func):
        ^
src\telegram_bot\user_profiles.py:549:9: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
            async def wrapper(
            ^
src\telegram_bot\user_profiles.py:556:23: error: Item "None" of
"Message | None" has no attribute "reply_text"  [union-attr]
                    await update.message.reply_text(
                          ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\user_profiles.py:564:23: error: Item "None" of
"Message | None" has no attribute "reply_text"  [union-attr]
                    await update.message.reply_text(
                          ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\chart_generator.py: note: In member "_generate_chart_url" of class "ChartGenerator":
src\telegram_bot\chart_generator.py:253:55: error: Missing type parameters for
generic type "dict"  [type-arg]
    ...async def _generate_chart_url(self, chart_config: dict) -> str | None:
                                                         ^
src\telegram_bot\chart_generator.py:310:17: error: Returning Any from function
declared to return "str | None"  [no-any-return]
                    return chart_url
                    ^~~~~~~~~~~~~~~~
src\telegram_bot\utils\error_handler.py: note: In function "handle_network_error":
src\telegram_bot\utils\error_handler.py:94:8: error: "update" has type "Update"
which does not implement __bool__ or __len__ so it could always be true in
boolean context  [truthy-bool]
        if update and update.effective_chat:
           ^~~~~~
src\telegram_bot\utils\error_handler.py: note: In function "handle_forbidden_error":
src\telegram_bot\utils\error_handler.py:153:8: error: "update" has type
"Update" which does not implement __bool__ or __len__ so it could always be true
in boolean context  [truthy-bool]
        if update and update.effective_chat:
           ^~~~~~
src\telegram_bot\utils\error_handler.py: note: In function "handle_bad_request":
src\telegram_bot\utils\error_handler.py:202:8: error: "update" has type
"Update" which does not implement __bool__ or __len__ so it could always be true
in boolean context  [truthy-bool]
        if update and update.effective_chat:
           ^~~~~~
src\telegram_bot\utils\error_handler.py: note: In function "handle_dmarket_api_error":
src\telegram_bot\utils\error_handler.py:247:8: error: "update" has type
"Update" which does not implement __bool__ or __len__ so it could always be true
in boolean context  [truthy-bool]
        if update and update.effective_chat:
           ^~~~~~
src\telegram_bot\utils\error_handler.py: note: In function "error_handler":
src\telegram_bot\utils\error_handler.py:286:38: error: "update" has type
"Update" which does not implement __bool__ or __len__ so it could always be true
in boolean context  [truthy-bool]
        update_str = update.to_dict() if update else "╨Э╨╡╤В ╨┤╨░╨╜╨╜╤Л╤Е update"
                                         ^~~~~~
src\telegram_bot\utils\error_handler.py:307:8: error: "update" has type
"Update" which does not implement __bool__ or __len__ so it could always be true
in boolean context  [truthy-bool]
        if update:
           ^~~~~~
src\telegram_bot\utils\error_handler.py:319:8: error: "update" has type
"Update" which does not implement __bool__ or __len__ so it could always be true
in boolean context  [truthy-bool]
        if update and update.effective_chat:
           ^~~~~~
src\telegram_bot\utils\error_handler.py: note: In function "setup_error_handler":
src\telegram_bot\utils\error_handler.py:362:18: error: Missing type parameters
for generic type "Application"  [type-arg]
        application: Application,
                     ^
src\telegram_bot\utils\error_handler.py: note: In function "exception_guard":
src\telegram_bot\utils\error_handler.py:393:6: error: Missing type parameters
for generic type "Callable"  [type-arg]
    ) -> Callable:
         ^
src\telegram_bot\utils\error_handler.py: note: In function "register_global_exception_handlers":
src\telegram_bot\utils\error_handler.py:494:5: error: Function is missing a
type annotation for one or more arguments  [no-untyped-def]
        def exception_handler(exc_type, exc_value, exc_traceback) -> None:
        ^
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "get_current_filters":
src\telegram_bot\handlers\game_filter_handlers.py:234:5: error: Returning Any
from function declared to return "dict[str, Any]"  [no-any-return]
        return game_filters.copy()
        ^~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "get_filter_description":
src\telegram_bot\handlers\game_filter_handlers.py:437:5: error: Returning Any
from function declared to return "str"  [no-any-return]
        return game_filter.get_filter_description(filters)
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:437:12: error:
"BaseGameFilter" has no attribute "get_filter_description"  [attr-defined]
        return game_filter.get_filter_description(filters)
               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "build_api_params_for_game":
src\telegram_bot\handlers\game_filter_handlers.py:453:5: error: Returning Any
from function declared to return "dict[str, Any]"  [no-any-return]
        return game_filter.build_api_params(filters)
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:453:12: error:
"BaseGameFilter" has no attribute "build_api_params"  [attr-defined]
        return game_filter.build_api_params(filters)
               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "handle_game_filters":
src\telegram_bot\handlers\game_filter_handlers.py:482:11: error: Item "None" of
"Message | None" has no attribute "reply_text"  [union-attr]
        await update.message.reply_text(
              ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "handle_select_game_filter_callback":
src\telegram_bot\handlers\game_filter_handlers.py:500:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:503:12: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:503:12: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:532:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "handle_price_range_callback":
src\telegram_bot\handlers\game_filter_handlers.py:548:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:551:12: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:551:12: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:597:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "handle_float_range_callback":
src\telegram_bot\handlers\game_filter_handlers.py:612:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:615:12: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:615:12: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:620:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:669:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "handle_set_category_callback":
src\telegram_bot\handlers\game_filter_handlers.py:687:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:690:12: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:690:12: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:738:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "handle_set_rarity_callback":
src\telegram_bot\handlers\game_filter_handlers.py:753:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:756:12: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:756:12: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:801:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "handle_set_exterior_callback":
src\telegram_bot\handlers\game_filter_handlers.py:819:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:822:12: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:822:12: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:827:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:866:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "handle_set_hero_callback":
src\telegram_bot\handlers\game_filter_handlers.py:881:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:884:12: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:884:12: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:889:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:924:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "handle_set_class_callback":
src\telegram_bot\handlers\game_filter_handlers.py:939:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:942:12: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:942:12: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:947:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:981:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "handle_filter_callback":
src\telegram_bot\handlers\game_filter_handlers.py:996:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:999:12: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:999:12: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:1002:15: error: Item "None"
of "CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py: note: In function "handle_back_to_filters_callback":
src\telegram_bot\handlers\game_filter_handlers.py:1130:11: error: Item "None"
of "CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:1133:12: error: Item "None"
of "CallbackQuery | None" has no attribute "data"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:1133:12: error: Item "None"
of "str | Any | None" has no attribute "split"  [union-attr]
        data = query.data.split(":")
               ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:1140:15: error: Item "None"
of "CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\game_filter_handlers.py:1157:15: error: Item "None"
of "CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\test_sentry_command.py: note: In function "_test_breadcrumbs":
src\telegram_bot\commands\test_sentry_command.py:158:11: error: Item "None" of
"Message | None" has no attribute "reply_text"  [union-attr]
        await update.message.reply_text("тЬЕ Breadcrumbs ╤В╨╡╤Б╤В ╨▓╤Л╨┐╨╛╨╗╨╜╨╡╨╜")
              ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\test_sentry_command.py: note: In function "_test_simple_error":
src\telegram_bot\commands\test_sentry_command.py:182:11: error: Item "None" of
"Message | None" has no attribute "reply_text"  [union-attr]
        await update.message.reply_text("тЬЕ Simple error ╤В╨╡╤Б╤В ╨▓╤Л╨┐╨╛╨╗╨╜╨╡╨╜")
              ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\test_sentry_command.py: note: In function "_test_api_error":
src\telegram_bot\commands\test_sentry_command.py:223:11: error: Item "None" of
"Message | None" has no attribute "reply_text"  [union-attr]
        await update.message.reply_text("тЬЕ API error ╤В╨╡╤Б╤В ╨▓╤Л╨┐╨╛╨╗╨╜╨╡╨╜")
              ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\test_sentry_command.py: note: In function "_test_division_error":
src\telegram_bot\commands\test_sentry_command.py:245:11: error: Item "None" of
"Message | None" has no attribute "reply_text"  [union-attr]
        await update.message.reply_text("тЬЕ Division error ╤В╨╡╤Б╤В ╨▓╤Л╨┐╨╛╨╗╨╜╨╡╨╜")
              ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\resume_command.py:13:10: error: Too many arguments
for "get_logger"  [call-arg]
    logger = get_logger(__name__, {"component": "resume_command"})
             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\resume_command.py: note: In function "resume_command":
src\telegram_bot\commands\resume_command.py:39:9: error: Unexpected keyword
argument "user_id" for "error" of "Logger"  [call-arg]
            logger.error(
            ^
src\telegram_bot\commands\resume_command.py:52:9: error: Unexpected keyword
argument "user_id" for "info" of "Logger"  [call-arg]
            logger.info(
            ^
src\telegram_bot\commands\resume_command.py:52:9: error: Unexpected keyword
argument "consecutive_errors" for "info" of "Logger"  [call-arg]
            logger.info(
            ^
src\telegram_bot\commands\resume_command.py:67:13: error: Unexpected keyword
argument "user_id" for "warning" of "Logger"  [call-arg]
                logger.warning(
                ^
src\telegram_bot\commands\resume_command.py:84:5: error: Unexpected keyword
argument "user_id" for "info" of "Logger"  [call-arg]
        logger.info(
        ^
src\telegram_bot\commands\resume_command.py:84:5: error: Unexpected keyword
argument "reset_errors" for "info" of "Logger"  [call-arg]
        logger.info(
        ^
src\telegram_bot\commands\logs_command.py: note: In function "logs_command":
src\telegram_bot\commands\logs_command.py:32:15: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\basic_commands.py: note: In function "start_command":
src\telegram_bot\commands\basic_commands.py:21:17: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
        logger.info(f"╨Я╨╛╨╗╤М╨╖╨╛╨▓╨░╤В╨╡╨╗╤М {user.id} ╨╕╤Б╨┐╨╛╨╗╤М╨╖╨╛╨▓╨░╨╗ ╨║╨╛╨╝╨░╨╜╨┤╤Г /start")
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\basic_commands.py:26:17: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
            user_id=user.id,
                    ^~~~~~~
src\telegram_bot\commands\basic_commands.py:27:18: error: Item "None" of
"User | None" has no attribute "username"  [union-attr]
            username=user.username or "",
                     ^~~~~~~~~~~~~
src\telegram_bot\commands\basic_commands.py: note: In function "help_command":
src\telegram_bot\commands\basic_commands.py:40:17: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
        logger.info(f"╨Я╨╛╨╗╤М╨╖╨╛╨▓╨░╤В╨╡╨╗╤М {user.id} ╨╕╤Б╨┐╨╛╨╗╤М╨╖╨╛╨▓╨░╨╗ ╨║╨╛╨╝╨░╨╜╨┤╤Г /help")
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\basic_commands.py:45:17: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
            user_id=user.id,
                    ^~~~~~~
src\telegram_bot\commands\basic_commands.py:46:18: error: Item "None" of
"User | None" has no attribute "username"  [union-attr]
            username=user.username or "",
                     ^~~~~~~~~~~~~
src\telegram_bot\commands\basic_commands.py: note: In function "register_basic_commands":
src\telegram_bot\commands\basic_commands.py:61:34: error: Missing type
parameters for generic type "Application"  [type-arg]
    def register_basic_commands(app: Application) -> None:
                                     ^
src\dmarket\api_validator.py:16:5: error: Module "src.telegram_bot.notifier"
has no attribute "Notifier"  [attr-defined]
        from src.telegram_bot.notifier import Notifier
        ^
src\dmarket\api_validator.py: note: In function "send_api_change_notification":
src\dmarket\api_validator.py:23:1: error: Argument 4 to
"send_api_change_notification" becomes "Any | None" due to an unfollowed import 
[no-any-unimported]
    async def send_api_change_notification(
    ^
src\dmarket\api_validator.py: note: In function "validate_response":
src\dmarket\api_validator.py:80:6: error: Missing type parameters for generic
type "Callable"  [type-arg]
    ) -> Callable:
         ^
src\dmarket\api_validator.py:102:25: error: Missing type parameters for generic
type "Callable"  [type-arg]
        def decorator(func: Callable) -> Callable:
                            ^
src\dmarket\api_validator.py:117:17: error: Returning Any from function
declared to return "dict[str, Any] | T"  [no-any-return]
                    return response_data
                    ^~~~~~~~~~~~~~~~~~~~
src\dmarket\api_validator.py:149:17: error: Returning Any from function
declared to return "dict[str, Any] | T"  [no-any-return]
                    return response_data
                    ^~~~~~~~~~~~~~~~~~~~
src\dmarket\dmarket_api.py:44:5: error: Module "src.telegram_bot.notifier" has
no attribute "Notifier"  [attr-defined]
        from src.telegram_bot.notifier import Notifier
        ^
src\dmarket\dmarket_api.py: note: In member "__init__" of class "DMarketAPI":
src\dmarket\dmarket_api.py:150:5: error: Argument 11 to "__init__" becomes
"Any | None" due to an unfollowed import  [no-any-unimported]
        def __init__(
        ^
src\dmarket\dmarket_api.py: note: In member "get_supported_games" of class "DMarketAPI":
src\dmarket\dmarket_api.py:3021:31: error: Subclass of "dict[str, Any]" and
"list[Any]" cannot exist: would have incompatible method signatures 
[unreachable]
                if not isinstance(response, list):
                                  ^~~~~~~~
src\dmarket\dmarket_api.py:3027:13: error: Statement is unreachable 
[unreachable]
                logger.info(f"╨Я╨╛╨╗╤Г╤З╨╡╨╜╨╛ {len(response)} ╨╕╨│╤А ╨╛╤В DMarket API"...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\price_analyzer.py: note: In function "get_item_price_history":
src\utils\price_analyzer.py:25:1: error: Need type annotation for
"_price_history_cache" (hint:
"_price_history_cache: dict[<type>, <type>] = ...")  [var-annotated]
    _price_history_cache = {}
    ^~~~~~~~~~~~~~~~~~~~
src\utils\price_analyzer.py:52:13: error: Returning Any from function declared
to return "list[dict[str, Any]]"  [no-any-return]
                return cache_data["data"]
                ^~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage.py: note: In function "fetch_market_items":
src\dmarket\arbitrage.py:159:9: error: Returning Any from function declared to
return "list[dict[str, Any]]"  [no-any-return]
            return data.get("objects", [])
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage.py: note: In member "__init__" of class "ArbitrageTrader":
src\dmarket\arbitrage.py:540:13: error: Argument 1 to "DMarketAPI" has
incompatible type "str | None"; expected "str"  [arg-type]
                self.public_key,
                ^~~~~~~~~~~~~~~
src\dmarket\arbitrage.py:541:13: error: Argument 2 to "DMarketAPI" has
incompatible type "str | None"; expected "str | bytes"  [arg-type]
                self.secret_key,
                ^~~~~~~~~~~~~~~
src\dmarket\arbitrage.py:552:9: error: Need type annotation for
"transaction_history" (hint: "transaction_history: list[<type>] = ...") 
[var-annotated]
            self.transaction_history = []
            ^~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage.py: note: In member "_handle_trading_error" of class "ArbitrageTrader":
src\dmarket\arbitrage.py:637:32: error: Incompatible types in assignment
(expression has type "float", variable has type "int")  [assignment]
            self.last_error_time = current_time
                                   ^~~~~~~~~~~~
src\dmarket\arbitrage.py:642:32: error: Incompatible types in assignment
(expression has type "float", variable has type "int")  [assignment]
                self.pause_until = current_time + 900  # 900 ╤Б╨╡╨║╤Г╨╜╨┤ = 15 ╨╝...
                                   ^~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage.py:648:32: error: Incompatible types in assignment
(expression has type "float", variable has type "int")  [assignment]
                self.pause_until = current_time + 3600  # 3600 ╤Б╨╡╨║╤Г╨╜╨┤ = 1 ...
                                   ^~~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage.py: note: In member "find_profitable_items" of class "ArbitrageTrader":
src\dmarket\arbitrage.py:741:44: error: "DMarketAPI" has no attribute
"get_price_info"  [attr-defined]
                            price_data = await self.api.get_price_info(
                                               ^~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage.py: note: In member "execute_arbitrage_trade" of class "ArbitrageTrader":
src\dmarket\arbitrage.py:853:36: error: Unexpected keyword argument
"market_hash_name" for "buy_item" of "DMarketAPI"  [call-arg]
                    buy_result = await self.api.buy_item(
                                       ^
src\dmarket\arbitrage.py: note: In function "_get_arbitrage_cache":
src\dmarket\arbitrage.py:1656:37: error: Missing type parameters for generic
type "tuple"  [type-arg]
    def _get_arbitrage_cache(cache_key: tuple) -> list[dict[str, Any]] | N...
                                        ^
src\dmarket\arbitrage.py: note: In function "_save_arbitrage_cache":
src\dmarket\arbitrage.py:1680:38: error: Missing type parameters for generic
type "tuple"  [type-arg]
    def _save_arbitrage_cache(cache_key: tuple, items: list[dict[str, Any]...
                                         ^
src\dmarket\dmarket_api.py: note: In member "execute_arbitrage_trade" of class "ArbitrageTrader":
src\dmarket\dmarket_api.py:1527:5: note: "buy_item" of "DMarketAPI" defined here
src\dmarket\arbitrage.py: note: In member "start_auto_trading" of class "ArbitrageTrader":
src\dmarket\arbitrage.py:955:9: error: Value of type "Task[None]" must be used 
[unused-awaitable]
            asyncio.create_task(
            ^
src\dmarket\arbitrage.py:955:9: note: Are you missing an await?
src\dmarket\arbitrage.py: note: In function "find_arbitrage_items":
src\dmarket\arbitrage.py:1359:23: error: Subclass of "dict[str, Any]" and
"tuple[Any, ...]" cannot exist: would have incompatible method signatures 
[unreachable]
            if isinstance(item, tuple):
                          ^~~~
src\dmarket\arbitrage.py:1361:13: error: Statement is unreachable 
[unreachable]
                item_dict = {
                ^
src\dmarket\arbitrage.py: note: In function "_group_items_by_name":
src\dmarket\arbitrage.py:1716:5: error: Need type annotation for "grouped"
(hint: "grouped: dict[<type>, <type>] = ...")  [var-annotated]
        grouped = {}
        ^~~~~~~
src\telegram_bot\notifier.py: note: In function "get_current_price":
src\telegram_bot\notifier.py:86:1: error: Need type annotation for
"_current_prices_cache" (hint:
"_current_prices_cache: dict[<type>, <type>] = ...")  [var-annotated]
    _current_prices_cache = {}
    ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\notifier.py:289:13: error: Returning Any from function
declared to return "float | None"  [no-any-return]
                return cache_data["price"]
                ^~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\notifier.py: note: In function "send_critical_shutdown_notification":
src\telegram_bot\notifier.py:725:26: error: "type[Priority]" has no attribute
"CRITICAL"  [attr-defined]
                    priority=Priority.CRITICAL,
                             ^~~~~~~~~~~~~~~~~
src\telegram_bot\notifier.py: note: In function "handle_buy_cancel_callback":
src\telegram_bot\notifier.py:1043:1: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
    async def handle_buy_cancel_callback(
    ^
src\telegram_bot\notifier.py: note: In function "handle_alert_callback":
src\telegram_bot\notifier.py:1077:1: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
    async def handle_alert_callback(
    ^
src\telegram_bot\notifier.py: note: In function "create_alert_command":
src\telegram_bot\notifier.py:1142:1: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
    async def create_alert_command(
    ^
src\telegram_bot\notifier.py: note: In function "list_alerts_command":
src\telegram_bot\notifier.py:1247:1: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
    async def list_alerts_command(
    ^
src\telegram_bot\notifier.py: note: In function "remove_alert_command":
src\telegram_bot\notifier.py:1293:1: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
    async def remove_alert_command(
    ^
src\telegram_bot\notifier.py: note: In function "settings_command":
src\telegram_bot\notifier.py:1351:1: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
    async def settings_command(
    ^
src\telegram_bot\notifier.py: note: In function "register_notification_handlers":
src\telegram_bot\notifier.py:1440:1: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
    def register_notification_handlers(application) -> None:
    ^
src\telegram_bot\notifier.py:1480:9: error: Value of type "Task[None]" must be
used  [unused-awaitable]
            asyncio.create_task(
            ^
src\telegram_bot\notifier.py:1480:9: note: Are you missing an await?
src\utils\websocket_client.py: note: In member "__init__" of class "DMarketWebSocketClient":
src\utils\websocket_client.py:45:9: error: Need type annotation for "handlers"
(hint: "handlers: dict[<type>, <type>] = ...")  [var-annotated]
            self.handlers = {}
            ^~~~~~~~~~~~~
src\utils\websocket_client.py:51:9: error: Need type annotation for
"subscriptions" (hint: "subscriptions: set[<type>] = ...")  [var-annotated]
            self.subscriptions = set()
            ^~~~~~~~~~~~~~~~~~
src\utils\websocket_client.py: note: In member "connect" of class "DMarketWebSocketClient":
src\utils\websocket_client.py:75:34: error: Incompatible types in assignment
(expression has type "ClientWebSocketResponse", variable has type "None") 
[assignment]
                self.ws_connection = await self.session.ws_connect(
                                     ^
src\utils\websocket_client.py:77:25: error: Argument "timeout" to "ws_connect"
of "ClientSession" has incompatible type "float"; expected
"ClientWSTimeout | _SENTINEL"  [arg-type]
                    timeout=30.0,
                            ^~~~
src\utils\websocket_client.py: note: In member "close" of class "DMarketWebSocketClient":
src\utils\websocket_client.py:102:13: error: Statement is unreachable 
[unreachable]
                logger.info("Closing WebSocket connection...")
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\websocket_client.py: note: In member "listen" of class "DMarketWebSocketClient":
src\utils\websocket_client.py:124:33: error: "None" has no attribute "receive" 
[attr-defined]
                    message = await self.ws_connection.receive()
                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\websocket_client.py: note: In member "_authenticate" of class "DMarketWebSocketClient":
src\utils\websocket_client.py:233:38: error: Right operand of "or" is never
evaluated  [unreachable]
            if not self.ws_connection or not self.is_connected:
                                         ^~~~~~~~~~~~~~~~~~~~~
src\utils\websocket_client.py:237:9: error: Statement is unreachable 
[unreachable]
            if not self.api_client.public_key or not self.api_client.secre...
            ^
src\utils\websocket_client.py: note: In member "subscribe" of class "DMarketWebSocketClient":
src\utils\websocket_client.py:284:38: error: Right operand of "or" is never
evaluated  [unreachable]
            if not self.ws_connection or not self.is_connected:
                                         ^~~~~~~~~~~~~~~~~~~~~
src\utils\websocket_client.py:289:9: error: Statement is unreachable 
[unreachable]
            subscription = {
            ^
src\utils\websocket_client.py: note: In member "unsubscribe" of class "DMarketWebSocketClient":
src\utils\websocket_client.py:315:38: error: Right operand of "or" is never
evaluated  [unreachable]
            if not self.ws_connection or not self.is_connected:
                                         ^~~~~~~~~~~~~~~~~~~~~
src\utils\websocket_client.py:320:9: error: Statement is unreachable 
[unreachable]
            unsubscription = {
            ^
src\utils\websocket_client.py: note: In member "send_message" of class "DMarketWebSocketClient":
src\utils\websocket_client.py:379:38: error: Right operand of "or" is never
evaluated  [unreachable]
            if not self.ws_connection or not self.is_connected:
                                         ^~~~~~~~~~~~~~~~~~~~~
src\utils\websocket_client.py:383:9: error: Statement is unreachable 
[unreachable]
            await self.ws_connection.send_json(message)
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\telegram_error_handlers.py: note: In function "telegram_error_boundary":
src\utils\telegram_error_handlers.py:24:6: error: Missing type parameters for
generic type "Callable"  [type-arg]
    ) -> Callable:
         ^
src\utils\telegram_error_handlers.py:49:25: error: Missing type parameters for
generic type "Callable"  [type-arg]
        def decorator(func: Callable) -> Callable:
                            ^
src\utils\retry_decorator.py: note: In function "retry_on_failure":
src\utils\retry_decorator.py:34:6: error: Missing type parameters for generic
type "Callable"  [type-arg]
    ) -> Callable:
         ^
src\utils\retry_decorator.py:55:9: error: Missing return statement  [return]
            async def async_wrapper(*args: Any, **kwargs: Any) -> T:
            ^
src\utils\retry_decorator.py:67:34: error: Incompatible types in "await"
(actual type "T", expected type "Awaitable[Any]")  [misc]
                            result = await func(*args, **kwargs)
                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\retry_decorator.py:76:25: error: Returning Any from function declared
to return "T"  [no-any-return]
                            return result
                            ^~~~~~~~~~~~~
src\utils\retry_decorator.py:100:9: error: Missing return statement  [return]
            def sync_wrapper(*args: Any, **kwargs: Any) -> T:
            ^
src\utils\retry_decorator.py:103:32: error: "Callable[[], T]" has no attribute
"__iter__" (not iterable)  [attr-defined]
                for attempt_obj in retry(
                                   ^
src\utils\retry_decorator.py:120:21: error: Returning Any from function
declared to return "T"  [no-any-return]
                        return result
                        ^~~~~~~~~~~~~
src\utils\retry_decorator.py: note: At top level:
src\utils\retry_decorator.py:148: error: Unused "type: ignore" comment 
[unused-ignore]
            return sync_wrapper  # type: ignore[return-value]
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\retry_decorator.py: note: In function "retry_api_call":
src\utils\retry_decorator.py:157:6: error: Missing type parameters for generic
type "Callable"  [type-arg]
    ) -> Callable:
         ^
src\utils\reactive_websocket.py:21:10: error: Too many arguments for
"get_logger"  [call-arg]
    logger = get_logger(__name__, {"component": "reactive_websocket"})
             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\reactive_websocket.py: note: In member "__init__" of class "ReactiveDMarketWebSocket":
src\utils\reactive_websocket.py:216: error: Missing type parameters for generic
type "Task"  [type-arg]
            self._listen_task: asyncio.Task | None = None
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\reactive_websocket.py: note: In member "connect" of class "ReactiveDMarketWebSocket":
src\utils\reactive_websocket.py:238:34: error: Incompatible types in assignment
(expression has type "ClientWebSocketResponse", variable has type "None") 
[assignment]
                self.ws_connection = await self.session.ws_connect(
                                     ^
src\utils\reactive_websocket.py:240:25: error: Argument "timeout" to
"ws_connect" of "ClientSession" has incompatible type "float"; expected
"ClientWSTimeout | _SENTINEL"  [arg-type]
                    timeout=30.0,
                            ^~~~
src\utils\reactive_websocket.py: note: In member "disconnect" of class "ReactiveDMarketWebSocket":
src\utils\reactive_websocket.py:286:13: error: Statement is unreachable 
[unreachable]
                await self.ws_connection.close()
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\reactive_websocket.py: note: In member "_listen" of class "ReactiveDMarketWebSocket":
src\utils\reactive_websocket.py:302:13: error: Statement is unreachable 
[unreachable]
                try:
                ^
src\utils\reactive_websocket.py: note: In member "_authenticate" of class "ReactiveDMarketWebSocket":
src\utils\reactive_websocket.py:380:38: error: Right operand of "or" is never
evaluated  [unreachable]
            if not self.ws_connection or not self.is_connected:
                                         ^~~~~~~~~~~~~~~~~~~~~
src\utils\reactive_websocket.py:384:9: error: Statement is unreachable 
[unreachable]
            auth_message = {
            ^
src\utils\reactive_websocket.py: note: In member "subscribe_to" of class "ReactiveDMarketWebSocket":
src\utils\reactive_websocket.py:435:38: error: Right operand of "or" is never
evaluated  [unreachable]
            if not self.ws_connection or not self.is_connected:
                                         ^~~~~~~~~~~~~~~~~~~~~
src\utils\reactive_websocket.py:441:9: error: Statement is unreachable 
[unreachable]
            sub_message = {
            ^
src\utils\reactive_websocket.py: note: In member "unsubscribe_from" of class "ReactiveDMarketWebSocket":
src\utils\reactive_websocket.py:473:38: error: Right operand of "or" is never
evaluated  [unreachable]
            if not self.ws_connection or not self.is_connected:
                                         ^~~~~~~~~~~~~~~~~~~~~
src\utils\reactive_websocket.py:478:9: error: Statement is unreachable 
[unreachable]
            unsub_message = {
            ^
src\utils\reactive_websocket.py: note: In member "subscribe_to_market_prices" of class "ReactiveDMarketWebSocket":
src\utils\reactive_websocket.py:547:33: error: Incompatible types in assignment
(expression has type "list[str]", target has type "str")  [assignment]
                params["itemIds"] = items
                                    ^~~~~
src\utils\api_error_handling.py: note: In function "handle_response":
src\utils\api_error_handling.py:40:45: error: Missing type parameters for
generic type "dict"  [type-arg]
    async def handle_response(response: Any) -> dict:
                                                ^
src\utils\api_error_handling.py:63:17: error: Returning Any from function
declared to return "dict[Any, Any]"  [no-any-return]
                    return await response.json()
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\utils\api_error_handling.py:64:13: error: Returning Any from function
declared to return "dict[Any, Any]"  [no-any-return]
                return response.json
                ^~~~~~~~~~~~~~~~~~~~
src\utils\api_error_handling.py: note: In function "retry_request":
src\utils\api_error_handling.py:87:11: error: Missing type parameters for
generic type "Callable"  [type-arg]
        func: Callable,
              ^
src\telegram_bot\smart_notifier.py: note: In function "save_user_preferences":
src\telegram_bot\smart_notifier.py:54:1: error: Need type annotation for
"_active_alerts" (hint: "_active_alerts: dict[<type>, <type>] = ...") 
[var-annotated]
    _active_alerts = {}
    ^~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py: note: In function "create_alert":
src\telegram_bot\smart_notifier.py:54:1: error: Need type annotation for
"_active_alerts" (hint: "_active_alerts: dict[<type>, <type>] = ...") 
[var-annotated]
    _active_alerts = {}
    ^~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py: note: In function "deactivate_alert":
src\telegram_bot\smart_notifier.py:54:1: error: Need type annotation for
"_active_alerts" (hint: "_active_alerts: dict[<type>, <type>] = ...") 
[var-annotated]
    _active_alerts = {}
    ^~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py: note: In function "get_user_alerts":
src\telegram_bot\smart_notifier.py:54:1: error: Need type annotation for
"_active_alerts" (hint: "_active_alerts: dict[<type>, <type>] = ...") 
[var-annotated]
    _active_alerts = {}
    ^~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py: note: In function "check_price_alerts":
src\telegram_bot\smart_notifier.py:54:1: error: Need type annotation for
"_active_alerts" (hint: "_active_alerts: dict[<type>, <type>] = ...") 
[var-annotated]
    _active_alerts = {}
    ^~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py: note: At top level:
src\telegram_bot\smart_notifier.py:55:1: error: Need type annotation for
"_notification_history" (hint:
"_notification_history: dict[<type>, <type>] = ...")  [var-annotated]
    _notification_history = {}
    ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py: note: In function "check_price_alerts":
src\telegram_bot\smart_notifier.py:335:13: error: Need type annotation for
"game_alerts" (hint: "game_alerts: dict[<type>, <type>] = ...")  [var-annotated]
                game_alerts = {}
                ^~~~~~~~~~~
src\telegram_bot\smart_notifier.py: note: In function "check_market_opportunities":
src\telegram_bot\smart_notifier.py:445:18: error: List comprehension has
incompatible type List[Any | None]; expected List[str]  [misc]
                    [item.get("itemId") for item in items_to_analyze],
                     ^~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py: note: In function "should_throttle_notification":
src\telegram_bot\smart_notifier.py:552:20: error: Incompatible types in
assignment (expression has type "float", variable has type "int")  [assignment]
            cooldown = base_cooldown / 2
                       ^~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:567:5: error: Returning Any from function
declared to return "bool"  [no-any-return]
        return time.time() - last_time < cooldown  # Throttle notification
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py: note: In function "send_market_opportunity_notification":
src\telegram_bot\smart_notifier.py:844:30: error: "type[Priority]" has no
attribute "MEDIUM"  [attr-defined]
                        priority=Priority.MEDIUM,
                                 ^~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py: note: In function "handle_notification_callback":
src\telegram_bot\smart_notifier.py:882:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:884:8: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        if query.data.startswith("disable_alert:"):
           ^~~~~~~~~~
src\telegram_bot\smart_notifier.py:884:8: error: Item "None" of
"str | Any | None" has no attribute "startswith"  [union-attr]
        if query.data.startswith("disable_alert:"):
           ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:885:20: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
            alert_id = query.data.split(":", 1)[1]
                       ^~~~~~~~~~
src\telegram_bot\smart_notifier.py:885:20: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
            alert_id = query.data.split(":", 1)[1]
                       ^~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:886:42: error: Item "None" of
"CallbackQuery | None" has no attribute "from_user"  [union-attr]
            success = await deactivate_alert(query.from_user.id, alert_id)
                                             ^~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:889:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:890:22: error: Item
"MaybeInaccessibleMessage" of "MaybeInaccessibleMessage | Any | None" has no
attribute "text"  [union-attr]
                    text=f"{query.message.text}\n\nтЬЕ Alert has been disabl...
                         ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:890:22: error: Item "None" of
"MaybeInaccessibleMessage | Any | None" has no attribute "text"  [union-attr]
                    text=f"{query.message.text}\n\nтЬЕ Alert has been disabl...
                         ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:890:25: error: Item "None" of
"CallbackQuery | None" has no attribute "message"  [union-attr]
                    text=f"{query.message.text}\n\nтЬЕ Alert has been disabl...
                            ^~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:895:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_reply_markup" 
[union-attr]
                await query.edit_message_reply_markup(reply_markup=None)
                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:897:10: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        elif query.data.startswith("track_item:"):
             ^~~~~~~~~~
src\telegram_bot\smart_notifier.py:897:10: error: Item "None" of
"str | Any | None" has no attribute "startswith"  [union-attr]
        elif query.data.startswith("track_item:"):
             ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:898:17: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
            parts = query.data.split(":", 2)
                    ^~~~~~~~~~
src\telegram_bot\smart_notifier.py:898:17: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
            parts = query.data.split(":", 2)
                    ^~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:906:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:907:22: error: Item
"MaybeInaccessibleMessage" of "MaybeInaccessibleMessage | Any | None" has no
attribute "text"  [union-attr]
                    text=f"{query.message.text}\n\nтЭМ Could not create aler...
                         ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:907:22: error: Item "None" of
"MaybeInaccessibleMessage | Any | None" has no attribute "text"  [union-attr]
                    text=f"{query.message.text}\n\nтЭМ Could not create aler...
                         ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:907:25: error: Item "None" of
"CallbackQuery | None" has no attribute "message"  [union-attr]
                    text=f"{query.message.text}\n\nтЭМ Could not create aler...
                            ^~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:918:23: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                    await query.edit_message_text(
                          ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:919:26: error: Item
"MaybeInaccessibleMessage" of "MaybeInaccessibleMessage | Any | None" has no
attribute "text"  [union-attr]
                        text=f"{query.message.text}\n\nтЭМ Could not create ...
                             ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:919:26: error: Item "None" of
"MaybeInaccessibleMessage | Any | None" has no attribute "text"  [union-attr]
                        text=f"{query.message.text}\n\nтЭМ Could not create ...
                             ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:919:29: error: Item "None" of
"CallbackQuery | None" has no attribute "message"  [union-attr]
                        text=f"{query.message.text}\n\nтЭМ Could not create ...
                                ^~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:930:17: error: Item "None" of
"CallbackQuery | None" has no attribute "from_user"  [union-attr]
                    query.from_user.id,
                    ^~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:942:17: error: Item "None" of
"CallbackQuery | None" has no attribute "from_user"  [union-attr]
                    query.from_user.id,
                    ^~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:968:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:969:22: error: Item
"MaybeInaccessibleMessage" of "MaybeInaccessibleMessage | Any | None" has no
attribute "text"  [union-attr]
                    text=f"{query.message.text}\n\nтЬЕ Alerts created for pr...
                         ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:969:22: error: Item "None" of
"MaybeInaccessibleMessage | Any | None" has no attribute "text"  [union-attr]
                    text=f"{query.message.text}\n\nтЬЕ Alerts created for pr...
                         ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:969:25: error: Item "None" of
"CallbackQuery | None" has no attribute "message"  [union-attr]
                    text=f"{query.message.text}\n\nтЬЕ Alerts created for pr...
                            ^~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:975:50: error: Item "None" of
"CallbackQuery | None" has no attribute "from_user"  [union-attr]
                    f"Created price alerts for user {query.from_user.id} o...
                                                     ^~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:980:50: error: Item "None" of
"CallbackQuery | None" has no attribute "from_user"  [union-attr]
                    f"Error creating alert for user {query.from_user.id} o...
                                                     ^~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:983:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:984:22: error: Item
"MaybeInaccessibleMessage" of "MaybeInaccessibleMessage | Any | None" has no
attribute "text"  [union-attr]
                    text=f"{query.message.text}\n\nтЭМ Error creating alert:...
                         ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:984:22: error: Item "None" of
"MaybeInaccessibleMessage | Any | None" has no attribute "text"  [union-attr]
                    text=f"{query.message.text}\n\nтЭМ Error creating alert:...
                         ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py:984:25: error: Item "None" of
"CallbackQuery | None" has no attribute "message"  [union-attr]
                    text=f"{query.message.text}\n\nтЭМ Error creating alert:...
                            ^~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py: note: In function "get_item_by_id":
src\telegram_bot\smart_notifier.py:1082:13: error: Returning Any from function
declared to return "dict[str, Any] | None"  [no-any-return]
                return items[0]
                ^~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py: note: In function "get_market_items_for_game":
src\telegram_bot\smart_notifier.py:1121:9: error: Returning Any from function
declared to return "list[dict[str, Any]]"  [no-any-return]
            return response.get("items", [])
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\smart_notifier.py: note: In function "register_notification_handlers":
src\telegram_bot\smart_notifier.py:1277:1: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
    def register_notification_handlers(application) -> None:
    ^
src\telegram_bot\smart_notifier.py:1299:9: error: Value of type "Task[None]"
must be used  [unused-awaitable]
            asyncio.create_task(
            ^
src\telegram_bot\smart_notifier.py:1299:9: note: Are you missing an await?
src\telegram_bot\handlers\notification_filters_handler.py: note: In member "__init__" of class "NotificationFilters":
src\telegram_bot\handlers\notification_filters_handler.py:56:5: error: Function
is missing a return type annotation  [no-untyped-def]
        def __init__(self):
        ^
src\telegram_bot\handlers\notification_filters_handler.py:56:5: note: Use "-> None" if function does not return a value
src\telegram_bot\handlers\notification_filters_handler.py: note: In member "get_user_filters" of class "NotificationFilters":
src\telegram_bot\handlers\notification_filters_handler.py:60:49: error: Missing
type parameters for generic type "dict"  [type-arg]
        def get_user_filters(self, user_id: int) -> dict:
                                                    ^
src\telegram_bot\handlers\notification_filters_handler.py:72:9: error:
Returning Any from function declared to return "dict[Any, Any]"  [no-any-return]
            return self._filters[user_id].copy()
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_filters_handler.py: note: In member "update_user_filters" of class "NotificationFilters":
src\telegram_bot\handlers\notification_filters_handler.py:74:58: error: Missing
type parameters for generic type "dict"  [type-arg]
    ...   def update_user_filters(self, user_id: int, filters: dict) -> None:
                                                               ^
src\telegram_bot\handlers\notification_filters_handler.py: note: In member "_get_default_filters" of class "NotificationFilters":
src\telegram_bot\handlers\notification_filters_handler.py:96:35: error: Missing
type parameters for generic type "dict"  [type-arg]
        def _get_default_filters() -> dict:
                                      ^
src\telegram_bot\handlers\notification_filters_handler.py: note: At top level:
src\telegram_bot\handlers\notification_filters_handler.py:154:20: error: Call
to untyped function "NotificationFilters" in typed context  [no-untyped-call]
    _filters_manager = NotificationFilters()
                       ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_filters_handler.py:167:2: error:
Argument 1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\notification_filters_handler.py:252:2: error:
Argument 1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\notification_filters_handler.py:312:2: error:
Argument 1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\notification_filters_handler.py: note: In function "toggle_game_filter":
src\telegram_bot\handlers\notification_filters_handler.py:334:17: error: Item
"None" of "str | None" has no attribute "split"  [union-attr]
        game_code = query.data.split("_")[-1]
                    ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_filters_handler.py:350:11: error:
"Never" not callable  [misc]
        await show_games_filter(update, context)
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_filters_handler.py: note: At top level:
src\telegram_bot\handlers\notification_filters_handler.py:353:2: error:
Argument 1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\notification_filters_handler.py:419:2: error:
Argument 1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\notification_filters_handler.py: note: In function "set_profit_filter":
src\telegram_bot\handlers\notification_filters_handler.py:441:26: error: Item
"None" of "str | None" has no attribute "split"  [union-attr]
        profit_value = float(query.data.split("_")[-1])
                             ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_filters_handler.py:449:11: error:
"Never" not callable  [misc]
        await show_profit_filter(update, context)
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_filters_handler.py: note: At top level:
src\telegram_bot\handlers\notification_filters_handler.py:452:2: error:
Argument 1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\notification_filters_handler.py:511:2: error:
Argument 1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\notification_filters_handler.py: note: In function "toggle_level_filter":
src\telegram_bot\handlers\notification_filters_handler.py:533:18: error: Item
"None" of "str | None" has no attribute "split"  [union-attr]
        level_code = query.data.split("_")[-1]
                     ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_filters_handler.py:549:11: error:
"Never" not callable  [misc]
        await show_levels_filter(update, context)
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_filters_handler.py: note: At top level:
src\telegram_bot\handlers\notification_filters_handler.py:552:2: error:
Argument 1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\notification_filters_handler.py:611:2: error:
Argument 1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\notification_filters_handler.py: note: In function "toggle_type_filter":
src\telegram_bot\handlers\notification_filters_handler.py:633:17: error: Item
"None" of "str | None" has no attribute "split"  [union-attr]
        type_code = query.data.split("_")[-1]
                    ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_filters_handler.py:649:11: error:
"Never" not callable  [misc]
        await show_types_filter(update, context)
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_filters_handler.py: note: At top level:
src\telegram_bot\handlers\notification_filters_handler.py:652:2: error:
Argument 1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\notification_filters_handler.py: note: In function "reset_filters":
src\telegram_bot\handlers\notification_filters_handler.py:677:11: error:
"Never" not callable  [misc]
        await show_notification_filters(update, context)
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_filters_handler.py: note: In function "register_notification_filter_handlers":
src\telegram_bot\handlers\notification_filters_handler.py:680:56: error:
Missing type parameters for generic type "Application"  [type-arg]
    ...gister_notification_filter_handlers(application: Application) -> None:
                                                        ^
src\telegram_bot\handlers\notification_digest_handler.py: note: In member "__init__" of class "NotificationDigestManager":
src\telegram_bot\handlers\notification_digest_handler.py:97:5: error: Function
is missing a return type annotation  [no-untyped-def]
        def __init__(self):
        ^
src\telegram_bot\handlers\notification_digest_handler.py:97:5: note: Use "-> None" if function does not return a value
src\telegram_bot\handlers\notification_digest_handler.py:106: error: Missing
type parameters for generic type "Task"  [type-arg]
            self._scheduler_task: asyncio.Task | None = None
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py: note: In function "get_digest_manager":
src\telegram_bot\handlers\notification_digest_handler.py:397:27: error: Call to
untyped function "NotificationDigestManager" in typed context  [no-untyped-call]
            _digest_manager = NotificationDigestManager()
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py: note: At top level:
src\telegram_bot\handlers\notification_digest_handler.py:404:2: error: Argument
1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger_instance, reraise=False)
     ^
src\telegram_bot\handlers\notification_digest_handler.py: note: In function "show_digest_menu":
src\telegram_bot\handlers\notification_digest_handler.py:417:15: error: Item
"None" of "User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:478:15: error: Item
"None" of "Message | None" has no attribute "reply_text"  [union-attr]
            await update.message.reply_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py: note: At top level:
src\telegram_bot\handlers\notification_digest_handler.py:483:2: error: Argument
1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger_instance, reraise=False)
     ^
src\telegram_bot\handlers\notification_digest_handler.py: note: In function "toggle_digest":
src\telegram_bot\handlers\notification_digest_handler.py:493:11: error: Item
"None" of "CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:495:15: error: Item
"None" of "User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:503:11: error: "Never"
not callable  [misc]
        await show_digest_menu(update, context)
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py: note: At top level:
src\telegram_bot\handlers\notification_digest_handler.py:506:2: error: Argument
1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger_instance, reraise=False)
     ^
src\telegram_bot\handlers\notification_digest_handler.py: note: In function "show_frequency_menu":
src\telegram_bot\handlers\notification_digest_handler.py:516:11: error: Item
"None" of "CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:518:15: error: Item
"None" of "User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:552:11: error: Item
"None" of "CallbackQuery | None" has no attribute "edit_message_text" 
[union-attr]
        await query.edit_message_text(text, reply_markup=reply_markup, par...
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py: note: At top level:
src\telegram_bot\handlers\notification_digest_handler.py:555:2: error: Argument
1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger_instance, reraise=False)
     ^
src\telegram_bot\handlers\notification_digest_handler.py: note: In function "set_frequency":
src\telegram_bot\handlers\notification_digest_handler.py:565:11: error: Item
"None" of "CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:567:15: error: Item
"None" of "User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:571:18: error: Item
"None" of "CallbackQuery | None" has no attribute "data"  [union-attr]
        freq_value = query.data.replace("digest_set_freq_", "")
                     ^~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:571:18: error: Item
"None" of "str | Any | None" has no attribute "replace"  [union-attr]
        freq_value = query.data.replace("digest_set_freq_", "")
                     ^~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:578:11: error: "Never"
not callable  [misc]
        await show_digest_menu(update, context)
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py: note: At top level:
src\telegram_bot\handlers\notification_digest_handler.py:581:2: error: Argument
1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger_instance, reraise=False)
     ^
src\telegram_bot\handlers\notification_digest_handler.py: note: In function "show_grouping_menu":
src\telegram_bot\handlers\notification_digest_handler.py:591:11: error: Item
"None" of "CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:593:15: error: Item
"None" of "User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:623:11: error: Item
"None" of "CallbackQuery | None" has no attribute "edit_message_text" 
[union-attr]
        await query.edit_message_text(text, reply_markup=reply_markup, par...
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py: note: At top level:
src\telegram_bot\handlers\notification_digest_handler.py:626:2: error: Argument
1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger_instance, reraise=False)
     ^
src\telegram_bot\handlers\notification_digest_handler.py: note: In function "set_grouping_mode":
src\telegram_bot\handlers\notification_digest_handler.py:636:11: error: Item
"None" of "CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:638:15: error: Item
"None" of "User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:642:18: error: Item
"None" of "CallbackQuery | None" has no attribute "data"  [union-attr]
        mode_value = query.data.replace("digest_set_group_", "")
                     ^~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:642:18: error: Item
"None" of "str | Any | None" has no attribute "replace"  [union-attr]
        mode_value = query.data.replace("digest_set_group_", "")
                     ^~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:649:11: error: "Never"
not callable  [misc]
        await show_digest_menu(update, context)
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py: note: At top level:
src\telegram_bot\handlers\notification_digest_handler.py:652:2: error: Argument
1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger_instance, reraise=False)
     ^
src\telegram_bot\handlers\notification_digest_handler.py: note: In function "show_min_items_menu":
src\telegram_bot\handlers\notification_digest_handler.py:662:11: error: Item
"None" of "CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:664:15: error: Item
"None" of "User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:686:11: error: Item
"None" of "CallbackQuery | None" has no attribute "edit_message_text" 
[union-attr]
        await query.edit_message_text(text, reply_markup=reply_markup, par...
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py: note: At top level:
src\telegram_bot\handlers\notification_digest_handler.py:689:2: error: Argument
1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger_instance, reraise=False)
     ^
src\telegram_bot\handlers\notification_digest_handler.py: note: In function "set_min_items":
src\telegram_bot\handlers\notification_digest_handler.py:699:11: error: Item
"None" of "CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:701:15: error: Item
"None" of "User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:705:21: error: Item
"None" of "CallbackQuery | None" has no attribute "data"  [union-attr]
        min_value = int(query.data.replace("digest_set_min_", ""))
                        ^~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:705:21: error: Item
"None" of "str | Any | None" has no attribute "replace"  [union-attr]
        min_value = int(query.data.replace("digest_set_min_", ""))
                        ^~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:711:11: error: "Never"
not callable  [misc]
        await show_digest_menu(update, context)
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py: note: At top level:
src\telegram_bot\handlers\notification_digest_handler.py:714:2: error: Argument
1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger_instance, reraise=False)
     ^
src\telegram_bot\handlers\notification_digest_handler.py: note: In function "reset_digest_settings":
src\telegram_bot\handlers\notification_digest_handler.py:724:11: error: Item
"None" of "CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer("╨Э╨░╤Б╤В╤А╨╛╨╣╨║╨╕ ╤Б╨▒╤А╨╛╤И╨╡╨╜╤Л ╨║ ╨╖╨╜╨░╤З╨╡╨╜╨╕╤П╨╝ ╨┐╨╛ ╤Г╨╝╨╛╨╗╤З╨░╨╜╨╕╤О")
              ^~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:726:15: error: Item
"None" of "User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py:733:11: error: "Never"
not callable  [misc]
        await show_digest_menu(update, context)
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py: note: At top level:
src\telegram_bot\handlers\notification_digest_handler.py:736:2: error: Argument
1 has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger_instance, reraise=False)
     ^
src\telegram_bot\handlers\notification_digest_handler.py: note: In function "digest_command":
src\telegram_bot\handlers\notification_digest_handler.py:745:11: error: "Never"
not callable  [misc]
        await show_digest_menu(update, context)
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\notification_digest_handler.py: note: In function "register_notification_digest_handlers":
src\telegram_bot\handlers\notification_digest_handler.py:748:1: error: Function
is missing a type annotation for one or more arguments  [no-untyped-def]
    def register_notification_digest_handlers(application) -> None:
    ^
src\telegram_bot\handlers\liquidity_settings_handler.py: note: In function "get_liquidity_settings":
src\telegram_bot\handlers\liquidity_settings_handler.py:41:5: error: Returning
Any from function declared to return "dict[str, Any]"  [no-any-return]
        return profile["liquidity_settings"]
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dmarket_handlers.py: note: In member "__init__" of class "DMarketHandler":
src\telegram_bot\handlers\dmarket_handlers.py:35:13: error: "Never" not
callable  [misc]
                self.initialize_api()
                ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dmarket_handlers.py: note: In class "DMarketHandler":
src\telegram_bot\handlers\dmarket_handlers.py:37:6: error: Argument 1 has
incompatible type "Callable[[DMarketHandler], None]"; expected "Never" 
[arg-type]
        @handle_exceptions(logger, "╨Ю╤И╨╕╨▒╨║╨░ ╨╕╨╜╨╕╤Ж╨╕╨░╨╗╨╕╨╖╨░╤Ж╨╕╨╕ API", reraise=Fal...
         ^
src\telegram_bot\handlers\dmarket_handlers.py:47:6: error: Argument 1 has
incompatible type
"Callable[[DMarketHandler, Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
        @handle_exceptions(logger, "╨Ю╤И╨╕╨▒╨║╨░ ╨┐╤А╨╕ ╨┐╤А╨╛╨▓╨╡╤А╨║╨╡ ╤Б╤В╨░╤В╤Г╤Б╨░", reraise=...
         ^
src\telegram_bot\handlers\dmarket_handlers.py:72:6: error: Argument 1 has
incompatible type
"Callable[[DMarketHandler, Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
        @handle_exceptions(logger, "╨Ю╤И╨╕╨▒╨║╨░ ╨┐╤А╨╕ ╨┐╨╛╨╗╤Г╤З╨╡╨╜╨╕╨╕ ╨▒╨░╨╗╨░╨╜╤Б╨░", reraise...
         ^
src\telegram_bot\handlers\dmarket_handlers.py: note: In function "register_dmarket_handlers":
src\telegram_bot\handlers\dmarket_handlers.py:133:10: error: Missing type
parameters for generic type "Application"  [type-arg]
        app: Application,
             ^
src\dmarket\smart_market_finder.py: note: In member "__init__" of class "SmartMarketFinder":
src\dmarket\smart_market_finder.py:81:9: error: Need type annotation for
"_cache" (hint: "_cache: dict[<type>, <type>] = ...")  [var-annotated]
            self._cache = {}
            ^~~~~~~~~~~
src\dmarket\smart_market_finder.py: note: In member "_get_market_items_with_aggregated_prices" of class "SmartMarketFinder":
src\dmarket\smart_market_finder.py:526:17: error: Returning Any from function
declared to return "list[dict[str, Any]]"  [no-any-return]
                    return items
                    ^~~~~~~~~~~~
src\dmarket\smart_market_finder.py:554:13: error: Returning Any from function
declared to return "list[dict[str, Any]]"  [no-any-return]
                return items
                ^~~~~~~~~~~~
src\dmarket\sales_history.py: note: In function "get_item_sales_history":
src\dmarket\sales_history.py:128:45: error: Subclass of "dict[str, Any]" and
"list[Any]" cannot exist: would have incompatible method signatures 
[unreachable]
            if not sales_data or not isinstance(sales_data, list):
                                                ^~~~~~~~~~
src\dmarket\sales_history.py:133:9: error: Statement is unreachable 
[unreachable]
            sales_history = []
            ^~~~~~~~~~~~~~~~~~
src\dmarket\sales_history.py: note: In function "_calculate_std_dev":
src\dmarket\sales_history.py:499:5: error: Returning Any from function declared
to return "float"  [no-any-return]
        return (sum_of_squares / (len(numbers) - 1)) ** 0.5
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\sales_history.py: note: In function "_load_from_cache":
src\dmarket\sales_history.py:526:13: error: Returning Any from function
declared to return "list[dict[str, Any]]"  [no-any-return]
                return json.load(f)
                ^~~~~~~~~~~~~~~~~~~
src\dmarket\sales_history.py: note: In function "get_sales_history":
src\dmarket\sales_history.py:580:34: error: "DMarketAPI" has no attribute
"request"; maybe "_request"?  [attr-defined]
                    response = await api_client.request(
                                     ^~~~~~~~~~~~~~~~~~
src\dmarket\sales_history.py:592:38: error: "DMarketAPI" has no attribute
"request"; maybe "_request"?  [attr-defined]
                        response = await api.request(
                                         ^~~~~~~~~~~
src\dmarket\sales_history.py: note: In function "execute_api_request":
src\dmarket\sales_history.py:715:13: error: Returning Any from function
declared to return "dict[str, Any]"  [no-any-return]
                return await api_client.request(
                ^
src\dmarket\sales_history.py:715:26: error: "DMarketAPI" has no attribute
"request"; maybe "_request"?  [attr-defined]
                return await api_client.request(
                             ^~~~~~~~~~~~~~~~~~
src\dmarket\sales_history.py:725:13: error: Returning Any from function
declared to return "dict[str, Any]"  [no-any-return]
                return await api.request(
                ^
src\dmarket\sales_history.py:725:26: error: "DMarketAPI" has no attribute
"request"; maybe "_request"?  [attr-defined]
                return await api.request(
                             ^~~~~~~~~~~
src\dmarket\sales_history.py: note: In function "get_arbitrage_opportunities_with_sales_history":
src\dmarket\sales_history.py:754:33: error: Missing positional argument "game"
in call to "find_arbitrage_items"  [call-arg]
            arbitrage_items = await find_arbitrage_items(api_client=api_cl...
                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\dmarket\market_analysis.py:31:1: error: Need type annotation for
"price_history_cache" (hint: "price_history_cache: dict[<type>, <type>] = ...") 
[var-annotated]
    price_history_cache = {}
    ^~~~~~~~~~~~~~~~~~~
src\dmarket\market_analysis.py:35:1: error: Need type annotation for
"market_trends_cache" (hint: "market_trends_cache: dict[<type>, <type>] = ...") 
[var-annotated]
    market_trends_cache = {}
    ^~~~~~~~~~~~~~~~~~~
src\dmarket\market_analysis.py: note: In function "generate_market_report":
src\dmarket\market_analysis.py:467:65: error: Argument 1 to
"_get_market_direction" has incompatible type "Collection[Collection[str]]";
expected "list[dict[str, Any]]"  [arg-type]
    ...          "price_change_direction": _get_market_direction(results[0]),
                                                                 ^~~~~~~~~~
src\dmarket\market_analysis.py:468:73: error: Argument 1 to
"_extract_trending_categories" has incompatible type
"Collection[Collection[str]]"; expected "list[dict[str, Any]]"  [arg-type]
    ...  "top_trending_categories": _extract_trending_categories(results[1]),
                                                                 ^~~~~~~~~~
src\dmarket\market_analysis.py:470:21: error: Argument 1 to
"_calculate_market_volatility_level" has incompatible type
"Collection[Collection[str]]"; expected "list[dict[str, Any]]"  [arg-type]
                        results[2],
                        ^~~~~~~~~~
src\dmarket\market_analysis.py:472:45: error: "Collection[Collection[str]]" has
no attribute "get"  [attr-defined]
                    "average_market_liquidity": market_depth.get("summary"...
                                                ^~~~~~~~~~~~~~~~
src\dmarket\market_analysis.py:475:34: error: "Collection[Collection[str]]" has
no attribute "get"  [attr-defined]
                    "market_health": market_depth.get("summary", {}).get("...
                                     ^~~~~~~~~~~~~~~~
src\dmarket\market_analysis.py:476:73: error: Argument 1 to
"_generate_market_recommendations" has incompatible type
"list[Collection[Collection[str]]]"; expected "list[list[dict[str, Any]]]" 
[arg-type]
    ...     "recommended_actions": _generate_market_recommendations(results),
                                                                    ^~~~~~~
src\dmarket\market_analysis.py: note: In function "_get_historical_prices":
src\dmarket\market_analysis.py:697:31: error: Incompatible default for argument
"dmarket_api" (default has type "None", argument has type "DMarketAPI") 
[assignment]
        dmarket_api: DMarketAPI = None,
                                  ^~~~
src\dmarket\market_analysis.py:697:31: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\dmarket\market_analysis.py:697:31: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\dmarket\market_analysis.py: note: In function "_calculate_popularity_score":
src\dmarket\market_analysis.py:817:5: error: Returning Any from function
declared to return "float"  [no-any-return]
        return popularity
        ^~~~~~~~~~~~~~~~~
src\dmarket\market_analysis.py: note: In function "_extract_trending_categories":
src\dmarket\market_analysis.py:880:5: error: Need type annotation for
"category_counts" (hint: "category_counts: dict[<type>, <type>] = ...") 
[var-annotated]
        category_counts = {}
        ^~~~~~~~~~~~~~~
src\dmarket\arbitrage_scanner.py: note: In member "__init__" of class "ArbitrageScanner":
src\dmarket\arbitrage_scanner.py:134:9: error: Need type annotation for
"_cache" (hint: "_cache: dict[<type>, <type>] = ...")  [var-annotated]
            self._cache = {}  # ╨Ъ╨╡╤И ╨┤╨╗╤П ╤А╨╡╨╖╤Г╨╗╤М╤В╨░╤В╨╛╨▓ ╤Б╨║╨░╨╜╨╕╤А╨╛╨▓╨░╨╜╨╕╤П
            ^~~~~~~~~~~
src\dmarket\arbitrage_scanner.py: note: In member "_get_cached_results" of class "ArbitrageScanner":
src\dmarket\arbitrage_scanner.py:171:46: error: Missing type parameters for
generic type "tuple"  [type-arg]
        def _get_cached_results(self, cache_key: tuple) -> list[dict[str, ...
                                                 ^
src\dmarket\arbitrage_scanner.py:191:9: error: Returning Any from function
declared to return "list[dict[str, Any]] | None"  [no-any-return]
            return items
            ^~~~~~~~~~~~
src\dmarket\arbitrage_scanner.py: note: In member "_save_to_cache" of class "ArbitrageScanner":
src\dmarket\arbitrage_scanner.py:193:41: error: Missing type parameters for
generic type "tuple"  [type-arg]
        def _save_to_cache(self, cache_key: tuple, items: list[dict[str, A...
                                            ^
src\dmarket\arbitrage_scanner.py: note: In member "get_api_client" of class "ArbitrageScanner":
src\dmarket\arbitrage_scanner.py:222:39: error: Incompatible types in
assignment (expression has type "LiquidityAnalyzer", variable has type "None") 
[assignment]
                self.liquidity_analyzer = LiquidityAnalyzer(
                                          ^
src\dmarket\arbitrage_scanner.py: note: At top level:
src\dmarket\arbitrage_scanner.py:348:17: error: Name "items" may be undefined 
[possibly-undefined]
                    items.extend(
                    ^~~~~
src\dmarket\arbitrage_scanner.py:360:13: error: Name "items" may be undefined 
[possibly-undefined]
                items.sort(key=lambda x: x.get("profit", 0), reverse=True)
                ^~~~~
src\dmarket\arbitrage_scanner.py: note: In member "scan_game" of class "ArbitrageScanner":
src\dmarket\arbitrage_scanner.py:365:17: error: Statement is unreachable 
[unreachable]
                    candidates = items[: max_items * 2]
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage_scanner.py: note: In member "_standardize_items" of class "ArbitrageScanner":
src\dmarket\arbitrage_scanner.py:406:16: error: Missing type parameters for
generic type "list"  [type-arg]
            items: list,
                   ^
src\dmarket\arbitrage_scanner.py: note: In member "scan_multiple_games" of class "ArbitrageScanner":
src\dmarket\arbitrage_scanner.py:488:9: error: Need type annotation for
"results" (hint: "results: dict[<type>, <type>] = ...")  [var-annotated]
            results = {}
            ^~~~~~~
src\dmarket\arbitrage_scanner.py: note: In member "check_user_balance" of class "ArbitrageScanner":
src\dmarket\arbitrage_scanner.py:562:17: error: Statement is unreachable 
[unreachable]
                    error_message = "╨Э╨╡ ╤Г╨┤╨░╨╗╨╛╤Б╤М ╨┐╨╛╨╗╤Г╤З╨╕╤В╤М ╨▒╨░╨╗╨░╨╜╤Б (╨╜╨╡╨║╨╛╤А╤А╨╡╨║╤В...
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\dmarket\arbitrage_scanner.py: note: In member "_get_from_cache" of class "ArbitrageScanner":
src\dmarket\arbitrage_scanner.py:1095:9: error: Returning Any from function
declared to return "list[dict[str, Any]] | None"  [no-any-return]
            return data
            ^~~~~~~~~~~
src\dmarket\arbitrage_scanner.py: note: In member "scan_level" of class "ArbitrageScanner":
src\dmarket\arbitrage_scanner.py:1139:32: error: Item "None" of
"DMarketAPI | None" has no attribute "get_market_items"  [union-attr]
            items_response = await self.api_client.get_market_items(
                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage_scanner.py:1155:36: error: Item "None" of
"DMarketAPI | None" has no attribute "get_aggregated_prices_bulk"  [union-attr]
                    aggregated = await self.api_client.get_aggregated_pric...
                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\dmarket\arbitrage_scanner.py:1205:29: error: Argument 1 to "_save_to_cache"
of "ArbitrageScanner" has incompatible type "str"; expected "tuple[Any, ...]" 
[arg-type]
            self._save_to_cache(cache_key, results)
                                ^~~~~~~~~
src\dmarket\arbitrage_scanner.py: note: In member "_analyze_item" of class "ArbitrageScanner":
src\dmarket\arbitrage_scanner.py:1276:17: error: Statement is unreachable 
[unreachable]
                    try:
                    ^
src\dmarket\arbitrage_scanner.py: note: In member "get_level_stats" of class "ArbitrageScanner":
src\dmarket\arbitrage_scanner.py:1462:37: error: "object" object is not
iterable  [misc]
                _min_price, max_price = config["price_range"]
                                        ^~~~~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage_scanner.py:1466:31: error: Cannot determine type of
"max_price"  [has-type]
                    "max_profit": max_price,
                                  ^~~~~~~~~
src\dmarket\arbitrage_scanner.py: note: In member "get_market_overview" of class "ArbitrageScanner":
src\dmarket\arbitrage_scanner.py:1515:48: error: "object" object is not
iterable  [misc]
                            price_from, price_to = cfg["price_range"]
                                                   ^~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage_scanner.py:1516:28: error: Cannot determine type of
"price_from"  [has-type]
                            if price_from <= price_usd <= price_to:
                               ^~~~~~~~~~
src\dmarket\arbitrage_scanner.py:1516:55: error: Cannot determine type of
"price_to"  [has-type]
                            if price_from <= price_usd <= price_to:
                                                          ^~~~~~~~
src\dmarket\arbitrage_sales_analysis.py: note: In member "__init__" of class "SalesAnalyzer":
src\dmarket\arbitrage_sales_analysis.py:38:9: error: Need type annotation for
"_sales_cache" (hint: "_sales_cache: dict[<type>, <type>] = ...") 
[var-annotated]
            self._sales_cache = {}  # Cache for sales data
            ^~~~~~~~~~~~~~~~~
src\dmarket\arbitrage_sales_analysis.py: note: In member "get_item_sales_history" of class "SalesAnalyzer":
src\dmarket\arbitrage_sales_analysis.py:92:17: error: Returning Any from
function declared to return "list[dict[str, Any]]"  [no-any-return]
                    return cached_data
                    ^~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage_sales_analysis.py:107:24: error: Incompatible return
value type (got "dict[str, list[Never]]", expected "list[dict[str, Any]]") 
[return-value]
                    return {"sales": []}
                           ^~~~~~~~~~~~~
src\dmarket\arbitrage_sales_analysis.py:112:24: error: Incompatible return
value type (got "dict[str, list[Never]]", expected "list[dict[str, Any]]") 
[return-value]
                    return {"sales": []}
                           ^~~~~~~~~~~~~
src\dmarket\arbitrage_sales_analysis.py:147:20: error: Incompatible return
value type (got "dict[str, list[Never]]", expected "list[dict[str, Any]]") 
[return-value]
                return {"sales": []}
                       ^~~~~~~~~~~~~
src\dmarket\arbitrage_sales_analysis.py: note: In member "analyze_sales_volume" of class "SalesAnalyzer":
src\dmarket\arbitrage_sales_analysis.py:170:23: error: Subclass of
"list[dict[str, Any]]" and "dict[Any, Any]" cannot exist: would have
incompatible method signatures  [unreachable]
            if isinstance(sales, dict):
                          ^~~~~
src\dmarket\arbitrage_sales_analysis.py:171:13: error: Statement is unreachable
 [unreachable]
                sales_list = sales.get("sales", [])
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage_sales_analysis.py: note: In member "estimate_time_to_sell" of class "SalesAnalyzer":
src\dmarket\arbitrage_sales_analysis.py:241:31: error: If condition is always
true  [redundant-expr]
            sales_list = sales if isinstance(sales, list) else sales.get("...
                                  ^~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage_sales_analysis.py:242:59: error: Right operand of "or" is
never evaluated  [unreachable]
    ... has_sales = sales and (isinstance(sales, list) or sales.get("sales"))
                                                          ^~~~~~~~~~~~~~~~~~
src\dmarket\arbitrage_sales_analysis.py: note: In member "analyze_price_trends" of class "SalesAnalyzer":
src\dmarket\arbitrage_sales_analysis.py:371:12: error: Left operand of "or" is
always false  [redundant-expr]
            if sales is None or len(sales) < self.min_sample_size:
               ^~~~~~~~~~~~~
src\dmarket\arbitrage_sales_analysis.py: note: In member "evaluate_arbitrage_potential" of class "SalesAnalyzer":
src\dmarket\arbitrage_sales_analysis.py:513:13: error: Argument 2 to
"estimate_time_to_sell" of "SalesAnalyzer" has incompatible type "float";
expected "str"  [arg-type]
                sell_price,
                ^~~~~~~~~~
src\dmarket\arbitrage_sales_analysis.py:514:13: error: Argument 3 to
"estimate_time_to_sell" of "SalesAnalyzer" has incompatible type "str"; expected
"float | None"  [arg-type]
                game,
                ^~~~
src\dmarket\arbitrage_sales_analysis.py: note: In member "find_best_arbitrage_opportunities" of class "SalesAnalyzer":
src\dmarket\arbitrage_sales_analysis.py:713:33: error: Incompatible types in
assignment (expression has type "float", variable has type "int")  [assignment]
                    current_price = float(item["price"].get("amount", 0)) ...
                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\dmarket\arbitrage_sales_analysis.py: note: In function "find_best_arbitrage_opportunities":
src\dmarket\arbitrage_sales_analysis.py:867:29: error: Incompatible types in
assignment (expression has type "float", variable has type "int")  [assignment]
                current_price = float(item["price"].get("amount", 0)) / 10...
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\__init__.py: note: In function "find_arbitrage_opportunities":
src\dmarket\__init__.py:18:1: error: Function is missing a return type
annotation  [no-untyped-def]
    def find_arbitrage_opportunities(
    ^
src\dmarket\__init__.py:86:37: error: Unsupported operand types for <= ("float"
and "object")  [operator]
            opp for opp in test_data if opp["profit_percentage"] >= min_pr...
                                        ^
src\dmarket\__init__.py:92:13: error: Argument "key" to "sorted" has
incompatible type "Callable[[dict[str, object]], object]"; expected
"Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]" 
[arg-type]
            key=lambda x: x["profit_percentage"],
                ^
src\dmarket\__init__.py:92:23: error: Incompatible return value type (got
"object", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]") 
[return-value]
            key=lambda x: x["profit_percentage"],
                          ^~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:14:1: error: Skipping analyzing
"src.telegram_bot.sales_analysis_handlers": module is installed, but missing
library stubs or py.typed marker  [import-untyped]
    from src.telegram_bot.sales_analysis_handlers import (
    ^
src\telegram_bot\sales_analysis_callbacks.py:14:1: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports
src\telegram_bot\sales_analysis_callbacks.py: note: In function "handle_sales_history_callback":
src\telegram_bot\sales_analysis_callbacks.py:33:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:37:21: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:37:21: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:39:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:48:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:61:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:76:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:120:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:129:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:136:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py: note: In function "handle_liquidity_callback":
src\telegram_bot\sales_analysis_callbacks.py:145:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:149:21: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:149:21: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:151:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:161:42: error: Unsupported right
operand type for in ("dict[Any, Any] | None")  [operator]
        if hasattr(context, "user_data") and "current_game" in context.use...
                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\telegram_bot\sales_analysis_callbacks.py:162:16: error: Value of type
"dict[Any, Any] | None" is not indexable  [index]
            game = context.user_data["current_game"]
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:165:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:179:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:239:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:248:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:255:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py: note: In function "handle_refresh_sales_callback":
src\telegram_bot\sales_analysis_callbacks.py:267:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:271:21: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:271:21: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:273:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:282:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:296:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:341:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:350:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:357:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py: note: In function "handle_refresh_liquidity_callback":
src\telegram_bot\sales_analysis_callbacks.py:370:5: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        update.callback_query.data = update.callback_query.data.replace(
        ^~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:370:34: error: Item "None" of
"str | Any | None" has no attribute "replace"  [union-attr]
        update.callback_query.data = update.callback_query.data.replace(
                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py: note: In function "handle_all_arbitrage_sales_callback":
src\telegram_bot\sales_analysis_callbacks.py:383:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:387:21: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:387:21: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:389:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:398:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:413:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:463:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:472:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:479:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py: note: In function "handle_refresh_arbitrage_sales_callback":
src\telegram_bot\sales_analysis_callbacks.py:491:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:495:21: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:495:21: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:497:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:507:9: error: Unsupported target
for indexed assignment ("dict[Any, Any] | None")  [index]
            context.user_data["current_game"] = game
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:510:22: error: Item "None" of
"CallbackQuery | None" has no attribute "message"  [union-attr]
        update.message = query.message
                         ^~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:510:22: error: Incompatible types
in assignment (expression has type "MaybeInaccessibleMessage | Any | None",
variable has type "Message | None")  [assignment]
        update.message = query.message
                         ^~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py: note: In function "handle_setup_sales_filters_callback":
src\telegram_bot\sales_analysis_callbacks.py:520:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:524:21: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:524:21: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:532:9: error: Unsupported target
for indexed assignment ("dict[Any, Any] | None")  [index]
            context.user_data["current_game"] = game
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:587:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py: note: In function "handle_all_volume_stats_callback":
src\telegram_bot\sales_analysis_callbacks.py:600:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:604:21: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:604:21: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:606:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:615:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:630:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:673:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:684:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:693:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py: note: In function "handle_refresh_volume_stats_callback":
src\telegram_bot\sales_analysis_callbacks.py:705:11: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:709:21: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:709:21: error: Item "None" of
"str | Any | None" has no attribute "split"  [union-attr]
        callback_data = query.data.split(":", 1)
                        ^~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:711:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:721:9: error: Unsupported target
for indexed assignment ("dict[Any, Any] | None")  [index]
            context.user_data["current_game"] = game
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:724:22: error: Item "None" of
"CallbackQuery | None" has no attribute "message"  [union-attr]
        update.message = query.message
                         ^~~~~~~~~~~~~
src\telegram_bot\sales_analysis_callbacks.py:724:22: error: Incompatible types
in assignment (expression has type "MaybeInaccessibleMessage | Any | None",
variable has type "Message | None")  [assignment]
        update.message = query.message
                         ^~~~~~~~~~~~~
src\telegram_bot\pagination.py: note: In member "__init__" of class "PaginationManager":
src\telegram_bot\pagination.py:26:9: error: Need type annotation for
"items_by_user" (hint: "items_by_user: dict[<type>, <type>] = ...") 
[var-annotated]
            self.items_by_user = {}  # Dict[int, List[Any]]
            ^~~~~~~~~~~~~~~~~~
src\telegram_bot\pagination.py:27:9: error: Need type annotation for
"current_page_by_user" (hint:
"current_page_by_user: dict[<type>, <type>] = ...")  [var-annotated]
            self.current_page_by_user = {}  # Dict[int, int]
            ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\pagination.py:28:9: error: Need type annotation for
"mode_by_user" (hint: "mode_by_user: dict[<type>, <type>] = ...") 
[var-annotated]
            self.mode_by_user = {}  # Dict[int, str]
            ^~~~~~~~~~~~~~~~~
src\telegram_bot\pagination.py:30:9: error: Need type annotation for
"user_settings" (hint: "user_settings: dict[<type>, <type>] = ...") 
[var-annotated]
            self.user_settings = {}  # Dict[int, Dict[str, Any]]
            ^~~~~~~~~~~~~~~~~~
src\telegram_bot\pagination.py:31:9: error: Need type annotation for
"page_cache" (hint: "page_cache: dict[<type>, <type>] = ...")  [var-annotated]
            self.page_cache = {}  # Dict[int, Dict[int, Tuple[List[Any], i...
            ^~~~~~~~~~~~~~~
src\telegram_bot\pagination.py: note: In member "get_items_per_page" of class "PaginationManager":
src\telegram_bot\pagination.py:78:13: error: Returning Any from function
declared to return "int"  [no-any-return]
                return self.user_settings[user_id]["items_per_page"]
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\pagination.py: note: In member "get_page" of class "PaginationManager":
src\telegram_bot\pagination.py:126:13: error: Returning Any from function
declared to return "tuple[list[Any], int, int]"  [no-any-return]
                return self.page_cache[user_id][current_page]
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\pagination.py: note: In member "get_mode" of class "PaginationManager":
src\telegram_bot\pagination.py:259:9: error: Returning Any from function
declared to return "str"  [no-any-return]
            return self.mode_by_user.get(user_id, "default")
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\pagination.py: note: In member "format_current_page" of class "PaginationManager":
src\telegram_bot\pagination.py:314:5: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
        def format_current_page(
        ^
src\telegram_bot\pagination.py:317:20: error: Missing type parameters for
generic type "Callable"  [type-arg]
            formatter: Callable | None = None,
                       ^
src\telegram_bot\pagination.py:347:13: error: Returning Any from function
declared to return "str"  [no-any-return]
                return formatter(items, current_page, total_pages, **kwarg...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\pagination.py:359:17: error: Module
"src.telegram_bot.utils.formatters" has no attribute "format_inventory_items" 
[attr-defined]
                    from src.telegram_bot.utils.formatters import format_i...
                    ^
src\telegram_bot\pagination.py:361:17: error: Returning Any from function
declared to return "str"  [no-any-return]
                    return format_inventory_items(
                    ^
src\telegram_bot\market_alerts.py: note: In member "start_monitoring" of class "MarketAlertsManager":
src\telegram_bot\market_alerts.py:97:32: error: Incompatible types in
assignment (expression has type "Task[None]", variable has type "None") 
[assignment]
            self.background_task = asyncio.create_task(self._monitor_marke...
                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\telegram_bot\market_alerts.py:97:32: note: Maybe you forgot to use "await"?
src\telegram_bot\market_alerts.py: note: In member "stop_monitoring" of class "MarketAlertsManager":
src\telegram_bot\market_alerts.py:109:13: error: Statement is unreachable 
[unreachable]
                self.background_task.cancel()
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\market_alerts.py: note: In member "_monitor_market" of class "MarketAlertsManager":
src\telegram_bot\market_alerts.py:180:40: error: Incompatible types in
assignment (expression has type "Task[None]", variable has type "None") 
[assignment]
                    self.background_task = asyncio.create_task(self._monit...
                                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\telegram_bot\market_alerts.py:180:40: note: Maybe you forgot to use "await"?
src\telegram_bot\market_alerts.py: note: In member "_check_arbitrage" of class "MarketAlertsManager":
src\telegram_bot\market_alerts.py:436:26: error: Missing positional arguments
"public_key", "secret_key" in call to "DMarketAPI"  [call-arg]
                api_client = DMarketAPI()
                             ^~~~~~~~~~~~
src\telegram_bot\market_alerts.py:440:37: error: Unexpected keyword argument
"max_items" for "scan_level" of "ArbitrageScanner"  [call-arg]
                arbitrage_items = await scanner.scan_level(
                                        ^
src\dmarket\arbitrage_scanner.py:1097:5: note: "scan_level" of "ArbitrageScanner" defined here
src\telegram_bot\initialization.py: note: In function "initialize_bot":
src\telegram_bot\initialization.py:92:73: error: Missing type parameters for
generic type "Application"  [type-arg]
    ...ialize_bot(token: str, setup_persistence: bool = True) -> Application:
                                                                 ^
src\telegram_bot\initialization.py: note: In function "setup_signal_handlers":
src\telegram_bot\initialization.py:205:40: error: Missing type parameters for
generic type "Application"  [type-arg]
    def setup_signal_handlers(application: Application) -> None:
                                           ^
src\telegram_bot\initialization.py: note: In function "register_handlers":
src\telegram_bot\initialization.py:237:18: error: Missing type parameters for
generic type "Application"  [type-arg]
        application: Application,
                     ^
src\telegram_bot\initialization.py:238:33: error: Missing type parameters for
generic type "Callable"  [type-arg]
        command_handlers: dict[str, Callable] | None = None,
                                    ^
src\telegram_bot\initialization.py:239:54: error: Missing type parameters for
generic type "Callable"  [type-arg]
    ...message_handlers: list[tuple[filters.BaseFilter, Callable]] | None = N...
                                                        ^
src\telegram_bot\initialization.py:240:40: error: Missing type parameters for
generic type "Callable"  [type-arg]
        callback_handlers: list[tuple[str, Callable]] | None = None,
                                           ^
src\telegram_bot\initialization.py:241:33: error: Missing type parameters for
generic type "ConversationHandler"  [type-arg]
        conversation_handlers: list[ConversationHandler] | None = None,
                                    ^
src\telegram_bot\initialization.py: note: In function "initialize_services":
src\telegram_bot\initialization.py:282:44: error: Missing type parameters for
generic type "Application"  [type-arg]
    async def initialize_services(application: Application) -> None:
                                               ^
src\telegram_bot\initialization.py: note: In function "start_bot":
src\telegram_bot\initialization.py:303:34: error: Missing type parameters for
generic type "Application"  [type-arg]
    async def start_bot(application: Application) -> None:
                                     ^
src\telegram_bot\initialization.py:318:11: error: Item "None" of
"Updater | None" has no attribute "start_polling"  [union-attr]
        await application.updater.start_polling(
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\initialization.py:319:25: error:
"Callable[[], ApplicationBuilder[ExtBot[None], CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]], dict[Any, Any], dict[Any, Any], dict[Any, Any], JobQueue[CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]]]]"
has no attribute "get_updates_allowed_updates"  [attr-defined]
            allowed_updates=application.builder.get_updates_allowed_update...
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\initialization.py: note: In function "setup_and_run_bot":
src\telegram_bot\initialization.py:358:33: error: Missing type parameters for
generic type "Callable"  [type-arg]
        command_handlers: dict[str, Callable] | None = None,
                                    ^
src\telegram_bot\initialization.py:359:54: error: Missing type parameters for
generic type "Callable"  [type-arg]
    ...message_handlers: list[tuple[filters.BaseFilter, Callable]] | None = N...
                                                        ^
src\telegram_bot\initialization.py:360:40: error: Missing type parameters for
generic type "Callable"  [type-arg]
        callback_handlers: list[tuple[str, Callable]] | None = None,
                                           ^
src\telegram_bot\initialization.py:361:33: error: Missing type parameters for
generic type "ConversationHandler"  [type-arg]
        conversation_handlers: list[ConversationHandler] | None = None,
                                    ^
src\telegram_bot\handlers\target_handler.py:27:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\target_handler.py:115:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]], str], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\target_handler.py:202:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]], str], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\target_handler.py:276:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\target_handler.py: note: In function "handle_target_callback":
src\telegram_bot\handlers\target_handler.py:297:15: error: "Never" not callable
 [misc]
            await start_targets_menu(update, context)
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\target_handler.py:299:15: error: "Never" not callable
 [misc]
            await handle_smart_targets(update, context)
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\target_handler.py:301:15: error: "Never" not callable
 [misc]
            await handle_competition_analysis(update, context)
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\settings_handlers.py:105:2: error: Argument 1 has
incompatible type "Callable[[], None]"; expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\settings_handlers.py:122:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\settings_handlers.py:143:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\settings_handlers.py: note: In function "settings_callback":
src\telegram_bot\handlers\settings_handlers.py:198:13: error: "Never" not
callable  [misc]
                save_user_profiles()
                ^~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\settings_handlers.py:258:9: error: "Never" not
callable  [misc]
            save_user_profiles()
            ^~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\settings_handlers.py:338:9: error: "Never" not
callable  [misc]
            save_user_profiles()
            ^~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\settings_handlers.py: note: At top level:
src\telegram_bot\handlers\settings_handlers.py:375:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\settings_handlers.py: note: In function "handle_setup_input":
src\telegram_bot\handlers\settings_handlers.py:419:9: error: "Never" not
callable  [misc]
            save_user_profiles()
            ^~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\settings_handlers.py:431:9: error: "Never" not
callable  [misc]
            save_user_profiles()
            ^~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py: note: In function "handle_sales_analysis":
src\telegram_bot\handlers\sales_analysis_handlers.py:81:15: error: Item "None"
of "Message | None" has no attribute "text"  [union-attr]
        message = update.message.text.strip()
                  ^~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py:81:15: error: Item "None"
of "str | Any | None" has no attribute "strip"  [union-attr]
        message = update.message.text.strip()
                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py:85:15: error: Item "None"
of "Message | None" has no attribute "reply_text"  [union-attr]
            await update.message.reply_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py:95:27: error: Item "None"
of "Message | None" has no attribute "reply_text"  [union-attr]
        reply_message = await update.message.reply_text(
                              ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py:103:9: error: Function is
missing a return type annotation  [no-untyped-def]
            async def get_analysis():
            ^
src\telegram_bot\handlers\sales_analysis_handlers.py:110:26: error: Unexpected
keyword argument "request_func" for "execute_api_request"  [call-arg]
            analysis = await execute_api_request(
                             ^
src\dmarket\sales_history.py:698:1: note: "execute_api_request" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:110:26: error: Unexpected
keyword argument "endpoint_type" for "execute_api_request"; did you mean
"endpoint"?  [call-arg]
            analysis = await execute_api_request(
                             ^
src\dmarket\sales_history.py:698:1: note: "execute_api_request" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:110:26: error: Unexpected
keyword argument "max_retries" for "execute_api_request"  [call-arg]
            analysis = await execute_api_request(
                             ^
src\dmarket\sales_history.py:698:1: note: "execute_api_request" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py: note: In function "handle_arbitrage_with_sales":
src\telegram_bot\handlers\sales_analysis_handlers.py:171:42: error: Unsupported
right operand type for in ("dict[Any, Any] | None")  [operator]
        if hasattr(context, "user_data") and "current_game" in context.use...
                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\telegram_bot\handlers\sales_analysis_handlers.py:172:16: error: Value of
type "dict[Any, Any] | None" is not indexable  [index]
            game = context.user_data["current_game"]
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py:175:27: error: Item "None"
of "Message | None" has no attribute "reply_text"  [union-attr]
        reply_message = await update.message.reply_text(
                              ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py:183:9: error: Function is
missing a return type annotation  [no-untyped-def]
            async def search_arbitrage():
            ^
src\telegram_bot\handlers\sales_analysis_handlers.py:184:26: error: Unexpected
keyword argument "max_items" for "enhanced_arbitrage_search"  [call-arg]
                return await enhanced_arbitrage_search(
                             ^
src\dmarket\arbitrage_sales_analysis.py:953:1: note: "enhanced_arbitrage_search" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:184:26: error: Unexpected
keyword argument "min_profit_percent" for "enhanced_arbitrage_search" 
[call-arg]
                return await enhanced_arbitrage_search(
                             ^
src\dmarket\arbitrage_sales_analysis.py:953:1: note: "enhanced_arbitrage_search" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:184:26: error: Unexpected
keyword argument "min_sales_per_day" for "enhanced_arbitrage_search"  [call-arg]
                return await enhanced_arbitrage_search(
                             ^
src\dmarket\arbitrage_sales_analysis.py:953:1: note: "enhanced_arbitrage_search" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:184:26: error: Unexpected
keyword argument "time_period_days" for "enhanced_arbitrage_search"  [call-arg]
                return await enhanced_arbitrage_search(
                             ^
src\dmarket\arbitrage_sales_analysis.py:953:1: note: "enhanced_arbitrage_search" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:194:25: error: Unexpected
keyword argument "request_func" for "execute_api_request"  [call-arg]
            results = await execute_api_request(
                            ^
src\dmarket\sales_history.py:698:1: note: "execute_api_request" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:194:25: error: Unexpected
keyword argument "endpoint_type" for "execute_api_request"; did you mean
"endpoint"?  [call-arg]
            results = await execute_api_request(
                            ^
src\dmarket\sales_history.py:698:1: note: "execute_api_request" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:194:25: error: Unexpected
keyword argument "max_retries" for "execute_api_request"  [call-arg]
            results = await execute_api_request(
                            ^
src\dmarket\sales_history.py:698:1: note: "execute_api_request" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py: note: In function "handle_liquidity_analysis":
src\telegram_bot\handlers\sales_analysis_handlers.py:260:15: error: Item "None"
of "Message | None" has no attribute "text"  [union-attr]
        message = update.message.text.strip()
                  ^~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py:260:15: error: Item "None"
of "str | Any | None" has no attribute "strip"  [union-attr]
        message = update.message.text.strip()
                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py:264:15: error: Item "None"
of "Message | None" has no attribute "reply_text"  [union-attr]
            await update.message.reply_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py:275:42: error: Unsupported
right operand type for in ("dict[Any, Any] | None")  [operator]
        if hasattr(context, "user_data") and "current_game" in context.use...
                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\telegram_bot\handlers\sales_analysis_handlers.py:276:16: error: Value of
type "dict[Any, Any] | None" is not indexable  [index]
            game = context.user_data["current_game"]
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py:279:27: error: Item "None"
of "Message | None" has no attribute "reply_text"  [union-attr]
        reply_message = await update.message.reply_text(
                              ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py:286:9: error: Function is
missing a return type annotation  [no-untyped-def]
            async def get_liquidity_analysis():
            ^
src\telegram_bot\handlers\sales_analysis_handlers.py:287:26: error: Unexpected
keyword argument "item_name" for "analyze_item_liquidity"  [call-arg]
                return await analyze_item_liquidity(
                             ^
src\dmarket\arbitrage_sales_analysis.py:907:1: note: "analyze_item_liquidity" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:287:26: error: Unexpected
keyword argument "game" for "analyze_item_liquidity"  [call-arg]
                return await analyze_item_liquidity(
                             ^
src\dmarket\arbitrage_sales_analysis.py:907:1: note: "analyze_item_liquidity" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:293:26: error: Unexpected
keyword argument "request_func" for "execute_api_request"  [call-arg]
            analysis = await execute_api_request(
                             ^
src\dmarket\sales_history.py:698:1: note: "execute_api_request" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:293:26: error: Unexpected
keyword argument "endpoint_type" for "execute_api_request"; did you mean
"endpoint"?  [call-arg]
            analysis = await execute_api_request(
                             ^
src\dmarket\sales_history.py:698:1: note: "execute_api_request" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:293:26: error: Unexpected
keyword argument "max_retries" for "execute_api_request"  [call-arg]
            analysis = await execute_api_request(
                             ^
src\dmarket\sales_history.py:698:1: note: "execute_api_request" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py: note: In function "handle_sales_volume_stats":
src\telegram_bot\handlers\sales_analysis_handlers.py:351:42: error: Unsupported
right operand type for in ("dict[Any, Any] | None")  [operator]
        if hasattr(context, "user_data") and "current_game" in context.use...
                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\telegram_bot\handlers\sales_analysis_handlers.py:352:16: error: Value of
type "dict[Any, Any] | None" is not indexable  [index]
            game = context.user_data["current_game"]
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py:355:27: error: Item "None"
of "Message | None" has no attribute "reply_text"  [union-attr]
        reply_message = await update.message.reply_text(
                              ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\sales_analysis_handlers.py:363:9: error: Function is
missing a return type annotation  [no-untyped-def]
            async def get_volume_stats():
            ^
src\telegram_bot\handlers\sales_analysis_handlers.py:364:26: error: Unexpected
keyword argument "top_items" for "get_sales_volume_stats"  [call-arg]
                return await get_sales_volume_stats(
                             ^
src\dmarket\arbitrage_sales_analysis.py:975:1: note: "get_sales_volume_stats" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:370:23: error: Unexpected
keyword argument "request_func" for "execute_api_request"  [call-arg]
            stats = await execute_api_request(
                          ^
src\dmarket\sales_history.py:698:1: note: "execute_api_request" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:370:23: error: Unexpected
keyword argument "endpoint_type" for "execute_api_request"; did you mean
"endpoint"?  [call-arg]
            stats = await execute_api_request(
                          ^
src\dmarket\sales_history.py:698:1: note: "execute_api_request" defined here
src\telegram_bot\handlers\sales_analysis_handlers.py:370:23: error: Unexpected
keyword argument "max_retries" for "execute_api_request"  [call-arg]
            stats = await execute_api_request(
                          ^
src\dmarket\sales_history.py:698:1: note: "execute_api_request" defined here
src\telegram_bot\handlers\error_handlers.py: note: In function "error_handler":
src\telegram_bot\handlers\error_handlers.py:69:8: error: "update" has type
"Update" which does not implement __bool__ or __len__ so it could always be true
in boolean context  [truthy-bool]
        if update and update.effective_message:
           ^~~~~~
src\telegram_bot\handlers\dashboard_handler.py: note: In member "__init__" of class "ScannerDashboard":
src\telegram_bot\handlers\dashboard_handler.py:40:5: error: Function is missing
a return type annotation  [no-untyped-def]
        def __init__(self):
        ^
src\telegram_bot\handlers\dashboard_handler.py:40:5: note: Use "-> None" if function does not return a value
src\telegram_bot\handlers\dashboard_handler.py: note: At top level:
src\telegram_bot\handlers\dashboard_handler.py:157:13: error: Call to untyped
function "ScannerDashboard" in typed context  [no-untyped-call]
    dashboard = ScannerDashboard()
                ^~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:302:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger, default_error_message="╨Ю╤И╨╕╨▒...
     ^
src\telegram_bot\handlers\dashboard_handler.py: note: In function "show_dashboard":
src\telegram_bot\handlers\dashboard_handler.py:318:15: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:345:15: error: Item "None" of
"Message | None" has no attribute "reply_text"  [union-attr]
            await update.message.reply_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py: note: At top level:
src\telegram_bot\handlers\dashboard_handler.py:352:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger, default_error_message="╨Ю╤И╨╕╨▒...
     ^
src\telegram_bot\handlers\dashboard_handler.py: note: In function "show_stats":
src\telegram_bot\handlers\dashboard_handler.py:368:15: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:383:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py: note: At top level:
src\telegram_bot\handlers\dashboard_handler.py:390:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\dashboard_handler.py: note: In function "show_scanner_menu":
src\telegram_bot\handlers\dashboard_handler.py:419:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py: note: At top level:
src\telegram_bot\handlers\dashboard_handler.py:426:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\dashboard_handler.py: note: In function "show_active_scans":
src\telegram_bot\handlers\dashboard_handler.py:444:15: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:481:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py: note: At top level:
src\telegram_bot\handlers\dashboard_handler.py:488:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger, default_error_message="╨Ю╤И╨╕╨▒...
     ^
src\telegram_bot\handlers\dashboard_handler.py: note: In function "show_history":
src\telegram_bot\handlers\dashboard_handler.py:504:15: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:530:11: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py: note: At top level:
src\telegram_bot\handlers\dashboard_handler.py:537:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(logger_instance=logger, default_error_message="╨Ю╤И╨╕╨▒...
     ^
src\telegram_bot\handlers\dashboard_handler.py: note: In function "show_charts":
src\telegram_bot\handlers\dashboard_handler.py:553:15: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:556:25: error: Item "None" of
"CallbackQuery | None" has no attribute "message"  [union-attr]
        loading_msg = await query.message.reply_text(
                            ^~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:556:25: error: Item
"MaybeInaccessibleMessage" of "MaybeInaccessibleMessage | Any | None" has no
attribute "reply_text"  [union-attr]
        loading_msg = await query.message.reply_text(
                            ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:556:25: error: Item "None" of
"MaybeInaccessibleMessage | Any | None" has no attribute "reply_text" 
[union-attr]
        loading_msg = await query.message.reply_text(
                            ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:585:9: error: Need type
annotation for "level_counts" (hint: "level_counts: dict[<type>, <type>] = ...")
 [var-annotated]
            level_counts = {}
            ^~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:595:9: error: Need type
annotation for "level_profits" (hint:
"level_profits: dict[<type>, <type>] = ...")  [var-annotated]
            level_profits = {}
            ^~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:624:19: error: Item "None" of
"CallbackQuery | None" has no attribute "message"  [union-attr]
                await query.message.reply_photo(
                      ^~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:624:19: error: Item
"MaybeInaccessibleMessage" of "MaybeInaccessibleMessage | Any | None" has no
attribute "reply_photo"  [union-attr]
                await query.message.reply_photo(
                      ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:624:19: error: Item "None" of
"MaybeInaccessibleMessage | Any | None" has no attribute "reply_photo" 
[union-attr]
                await query.message.reply_photo(
                      ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:631:19: error: Item "None" of
"CallbackQuery | None" has no attribute "message"  [union-attr]
                await query.message.reply_photo(
                      ^~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:631:19: error: Item
"MaybeInaccessibleMessage" of "MaybeInaccessibleMessage | Any | None" has no
attribute "reply_photo"  [union-attr]
                await query.message.reply_photo(
                      ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:631:19: error: Item "None" of
"MaybeInaccessibleMessage | Any | None" has no attribute "reply_photo" 
[union-attr]
                await query.message.reply_photo(
                      ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:637:19: error: Item "None" of
"CallbackQuery | None" has no attribute "message"  [union-attr]
                await query.message.reply_photo(
                      ^~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:637:19: error: Item
"MaybeInaccessibleMessage" of "MaybeInaccessibleMessage | Any | None" has no
attribute "reply_photo"  [union-attr]
                await query.message.reply_photo(
                      ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:637:19: error: Item "None" of
"MaybeInaccessibleMessage | Any | None" has no attribute "reply_photo" 
[union-attr]
                await query.message.reply_photo(
                      ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:651:15: error: Item "None" of
"CallbackQuery | None" has no attribute "message"  [union-attr]
            await query.message.reply_text(
                  ^~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:651:15: error: Item
"MaybeInaccessibleMessage" of "MaybeInaccessibleMessage | Any | None" has no
attribute "reply_text"  [union-attr]
            await query.message.reply_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py:651:15: error: Item "None" of
"MaybeInaccessibleMessage | Any | None" has no attribute "reply_text" 
[union-attr]
            await query.message.reply_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dashboard_handler.py: note: In function "register_dashboard_handlers":
src\telegram_bot\handlers\dashboard_handler.py:663:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    def register_dashboard_handlers(application) -> None:
    ^
src\telegram_bot\commands\balance_command.py: note: In function "check_balance_command":
src\telegram_bot\commands\balance_command.py:35:19: error:
"MaybeInaccessibleMessage" has no attribute "chat_id"  [attr-defined]
            chat_id = message.message.chat_id if message.message else 0
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:37:16: error: Incompatible types
in assignment (expression has type "User | None", variable has type "User") 
[assignment]
            user = message.from_user
                   ^~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:39:10: error: Left operand of
"and" is always true  [redundant-expr]
        elif isinstance(message, Update) and message.effective_user:
             ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:62:15: error: Item "Update" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
            await message.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:62:15: error: Item "Message" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
            await message.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:69:36: error: Item "CallbackQuery"
of "CallbackQuery | Update | Message" has no attribute "reply_text" 
[union-attr]
            processing_message = await message.reply_text(
                                       ^~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:69:36: error: Item "Update" of
"CallbackQuery | Update | Message" has no attribute "reply_text"  [union-attr]
            processing_message = await message.reply_text(
                                       ^~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:75:36: error: Item
"MaybeInaccessibleMessage" of "MaybeInaccessibleMessage | Any" has no attribute
"reply_text"  [union-attr]
            processing_message = await message.message.reply_text(
                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:90:16: error: "api_client" has
type "DMarketAPI" which does not implement __bool__ or __len__ so it could
always be true in boolean context  [truthy-bool]
            if not api_client:
                   ^~~~~~~~~~
src\telegram_bot\commands\balance_command.py:98:23: error: Item "Update" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
                    await message.edit_message_text(
                          ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:98:23: error: Item "Message" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
                    await message.edit_message_text(
                          ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:113:19: error: Item "Update" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
                await message.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:113:19: error: Item "Message" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
                await message.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:185:27: error: Item "Update" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
                        await message.edit_message_text(
                              ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:185:27: error: Item "Message" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
                        await message.edit_message_text(
                              ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:191:27: error: Item "None" of
"Any | Message | None" has no attribute "edit_text"  [union-attr]
                        await processing_message.edit_text(
                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:262:23: error: Item "Update" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
                    await message.edit_message_text(
                          ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:262:23: error: Item "Message" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
                    await message.edit_message_text(
                          ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:268:23: error: Item "None" of
"Any | Message | None" has no attribute "edit_text"  [union-attr]
                    await processing_message.edit_text(
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:274:35: error: "handle_api_error"
does not return a value (it only ever returns None)  [func-returns-value]
                error_message = await handle_api_error(e)
                                      ^~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:282:23: error: Item "Update" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
                    await message.edit_message_text(
                          ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:282:23: error: Item "Message" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
                    await message.edit_message_text(
                          ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:288:23: error: Item "None" of
"Any | Message | None" has no attribute "edit_text"  [union-attr]
                    await processing_message.edit_text(
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:341:19: error: Item "Update" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
                await message.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:341:19: error: Item "Message" of
"CallbackQuery | Update | Message" has no attribute "edit_message_text" 
[union-attr]
                await message.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\commands\balance_command.py:347:19: error: Item "None" of
"Any | Message | None" has no attribute "edit_text"  [union-attr]
                await processing_message.edit_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py: note: In member "check_condition" of class "PriceAlert":
src\dmarket\realtime_price_watcher.py:68:37: error: Incompatible types in
assignment (expression has type "float", variable has type "None")  [assignment]
                    self.triggered_at = time.time()
                                        ^~~~~~~~~~~
src\dmarket\realtime_price_watcher.py: note: In member "__init__" of class "RealtimePriceWatcher":
src\dmarket\realtime_price_watcher.py:92:9: error: Need type annotation for
"price_cache" (hint: "price_cache: dict[<type>, <type>] = ...")  [var-annotated]
            self.price_cache = {}
            ^~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py:95:9: error: Need type annotation for
"price_history"  [var-annotated]
            self.price_history = defaultdict(list)
            ^~~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py:99:9: error: Need type annotation for
"price_alerts"  [var-annotated]
            self.price_alerts = defaultdict(list)
            ^~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py:102:9: error: Need type annotation for
"price_change_handlers"  [var-annotated]
            self.price_change_handlers = defaultdict(list)
            ^~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py:105:9: error: Need type annotation for
"alert_handlers" (hint: "alert_handlers: list[<type>] = ...")  [var-annotated]
            self.alert_handlers = []
            ^~~~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py:108:9: error: Need type annotation for
"watched_items" (hint: "watched_items: set[<type>] = ...")  [var-annotated]
            self.watched_items = set()
            ^~~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py:111:9: error: Need type annotation for
"item_metadata" (hint: "item_metadata: dict[<type>, <type>] = ...") 
[var-annotated]
            self.item_metadata = {}
            ^~~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py: note: In member "start" of class "RealtimePriceWatcher":
src\dmarket\realtime_price_watcher.py:137:13: error: Argument 2 to
"register_handler" of "DMarketWebSocketClient" has incompatible type
"Callable[[dict[str, Any]], Coroutine[Any, Any, None]]"; expected
"Callable[[dict[str, Any]], None]"  [arg-type]
                self._handle_market_update,
                ^~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py:141:13: error: Argument 2 to
"register_handler" of "DMarketWebSocketClient" has incompatible type
"Callable[[dict[str, Any]], Coroutine[Any, Any, None]]"; expected
"Callable[[dict[str, Any]], None]"  [arg-type]
                self._handle_items_update,
                ^~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py:151:24: error: Incompatible types in
assignment (expression has type "Task[None]", variable has type "None") 
[assignment]
            self.ws_task = asyncio.create_task(self.websocket_client.liste...
                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\dmarket\realtime_price_watcher.py:151:24: note: Maybe you forgot to use "await"?
src\dmarket\realtime_price_watcher.py:154:34: error: Incompatible types in
assignment (expression has type "Task[None]", variable has type "None") 
[assignment]
            self.price_update_task = asyncio.create_task(self._periodic_pr...
                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\dmarket\realtime_price_watcher.py:154:34: note: Maybe you forgot to use "await"?
src\dmarket\realtime_price_watcher.py: note: In member "stop" of class "RealtimePriceWatcher":
src\dmarket\realtime_price_watcher.py:169:29: error: Right operand of "and" is
never evaluated  [unreachable]
            if self.ws_task and not self.ws_task.done():
                                ^~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py:170:13: error: Statement is unreachable 
[unreachable]
                self.ws_task.cancel()
                ^~~~~~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py:175:39: error: Right operand of "and" is
never evaluated  [unreachable]
            if self.price_update_task and not self.price_update_task.done(...
                                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py:176:13: error: Statement is unreachable 
[unreachable]
                self.price_update_task.cancel()
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py: note: In member "get_price_history" of class "RealtimePriceWatcher":
src\dmarket\realtime_price_watcher.py:660:13: error: Returning Any from
function declared to return "list[tuple[float, float]]"  [no-any-return]
                return history[-limit:]
                ^~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py:661:9: error: Returning Any from function
declared to return "list[tuple[float, float]]"  [no-any-return]
            return history
            ^~~~~~~~~~~~~~
src\dmarket\realtime_price_watcher.py: note: In member "get_item_metadata" of class "RealtimePriceWatcher":
src\dmarket\realtime_price_watcher.py:711:9: error: Returning Any from function
declared to return "dict[str, Any]"  [no-any-return]
            return self.item_metadata.get(item_id, {})
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\intramarket_arbitrage.py:34:1: error: Need type annotation for
"_cache" (hint: "_cache: dict[<type>, <type>] = ...")  [var-annotated]
    _cache = {}
    ^~~~~~
src\dmarket\intramarket_arbitrage.py: note: In function "find_price_anomalies":
src\dmarket\intramarket_arbitrage.py:91:9: error: Need type annotation for
"grouped_items" (hint: "grouped_items: dict[<type>, <type>] = ...") 
[var-annotated]
            grouped_items = {}
            ^~~~~~~~~~~~~
src\dmarket\intramarket_arbitrage.py: note: In function "find_trending_items":
src\dmarket\intramarket_arbitrage.py:286:39: error: Incompatible types in
assignment (expression has type "float", variable has type "int")  [assignment]
                        suggested_price = int(item["suggestedPrice"]["amou...
                                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\dmarket\intramarket_arbitrage.py:288:39: error: Incompatible types in
assignment (expression has type "float", variable has type "int")  [assignment]
                        suggested_price = float(item["suggestedPrice"])
                                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\intramarket_arbitrage.py: note: In function "find_mispriced_rare_items":
src\dmarket\intramarket_arbitrage.py:543:43: error: Incompatible types in
assignment (expression has type "float", variable has type "int")  [assignment]
                            suggested_price = int(item["suggestedPrice"]["...
                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src\dmarket\intramarket_arbitrage.py:545:43: error: Incompatible types in
assignment (expression has type "float", variable has type "int")  [assignment]
                            suggested_price = float(item["suggestedPrice"]...
                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\intramarket_arbitrage.py:550:39: error: Incompatible types in
assignment (expression has type "float", variable has type "int")  [assignment]
                        suggested_price = price * (1 + (rarity_score / 200...
                                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\dmarket\intramarket_arbitrage.py: note: In function "scan_for_intramarket_opportunities":
src\dmarket\intramarket_arbitrage.py:629:9: error: Need type annotation for
"results" (hint: "results: dict[<type>, <type>] = ...")  [var-annotated]
            results = {}
            ^~~~~~~
src\telegram_bot\handlers\scanner_handler.py:114:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\scanner_handler.py:217:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]], str, str], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\scanner_handler.py:375:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]], str], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\scanner_handler.py:478:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\scanner_handler.py:548:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\scanner_handler.py: note: In function "handle_scanner_callback":
src\telegram_bot\handlers\scanner_handler.py:570:15: error: "Never" not
callable  [misc]
            await start_scanner_menu(update, context)
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\scanner_handler.py:575:15: error: "Never" not
callable  [misc]
            await handle_level_scan(update, context, level)
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\scanner_handler.py:579:15: error: "Never" not
callable  [misc]
            await handle_market_overview(update, context)
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py: note: In member "__init__" of class "PriceAlertsHandler":
src\telegram_bot\handlers\price_alerts_handler.py:48:9: error: Need type
annotation for "_user_temp_data" (hint:
"_user_temp_data: dict[<type>, <type>] = ...")  [var-annotated]
            self._user_temp_data = {}  # ╨Т╤А╨╡╨╝╨╡╨╜╨╜╤Л╨╡ ╨┤╨░╨╜╨╜╤Л╨╡ ╨┤╨╗╤П ╨┤╨╕╨░╨╗╨╛╨│╨╛╨▓
            ^~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:52:51: error: Argument 1 to
"register_alert_handler" of "RealtimePriceWatcher" has incompatible type
"Callable[[PriceAlert, float], Coroutine[Any, Any, None]]"; expected
"Callable[[PriceAlert, float], None]"  [arg-type]
    ...       self.price_watcher.register_alert_handler(self._handle_alert_tr...
                                                        ^~~~~~~~~~~~~~~~~~~~~...
src\telegram_bot\handlers\price_alerts_handler.py: note: In member "handle_price_alerts_command" of class "PriceAlertsHandler":
src\telegram_bot\handlers\price_alerts_handler.py:107:15: error: Item "None" of
"Message | None" has no attribute "reply_text"  [union-attr]
            await update.message.reply_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py: note: In member "handle_alert_list_callback" of class "PriceAlertsHandler":
src\telegram_bot\handlers\price_alerts_handler.py:128:15: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
            await query.answer()
                  ^~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:130:13: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
            str(update.effective_user.id)
                ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:133:23: error: Item "None" of
"dict[Any, Any] | None" has no attribute "get"  [union-attr]
            alerts_data = context.user_data.get(PRICE_ALERT_STORAGE_KEY, {...
                          ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:146:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:189:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py: note: In member "handle_add_alert_callback" of class "PriceAlertsHandler":
src\telegram_bot\handlers\price_alerts_handler.py:211:15: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
            await query.answer()
                  ^~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:213:23: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
            user_id = str(update.effective_user.id)
                          ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:216:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py: note: In member "handle_item_name_input" of class "PriceAlertsHandler":
src\telegram_bot\handlers\price_alerts_handler.py:241:23: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
            user_id = str(update.effective_user.id)
                          ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:242:21: error: Item "None" of
"Message | None" has no attribute "text"  [union-attr]
            item_name = update.message.text.strip()
                        ^~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:242:21: error: Item "None" of
"str | Any | None" has no attribute "strip"  [union-attr]
            item_name = update.message.text.strip()
                        ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:249:15: error: Item "None" of
"Message | None" has no attribute "reply_text"  [union-attr]
            await update.message.reply_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py: note: In member "handle_alert_price_input" of class "PriceAlertsHandler":
src\telegram_bot\handlers\price_alerts_handler.py:274:23: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
            user_id = str(update.effective_user.id)
                          ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:275:22: error: Item "None" of
"Message | None" has no attribute "text"  [union-attr]
            price_text = update.message.text.strip()
                         ^~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:275:22: error: Item "None" of
"str | Any | None" has no attribute "strip"  [union-attr]
            price_text = update.message.text.strip()
                         ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:283:19: error: Item "None" of
"Message | None" has no attribute "reply_text"  [union-attr]
                await update.message.reply_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:312:15: error: Item "None" of
"Message | None" has no attribute "reply_text"  [union-attr]
            await update.message.reply_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py: note: In member "handle_alert_condition_callback" of class "PriceAlertsHandler":
src\telegram_bot\handlers\price_alerts_handler.py:336:15: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
            await query.answer()
                  ^~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:338:23: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
            user_id = str(update.effective_user.id)
                          ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:339:25: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
            callback_data = query.data
                            ^~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:342:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text("тЭМ ╨б╨╛╨╖╨┤╨░╨╜╨╕╨╡ ╨╛╨┐╨╛╨▓╨╡╤Й╨╡╨╜╨╕╤П ╨╛╤В╨╝╨╡╨╜...
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:360:12: error: Unsupported
right operand type for in ("dict[Any, Any] | None")  [operator]
            if PRICE_ALERT_STORAGE_KEY not in context.user_data:
               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:361:13: error: Unsupported
target for indexed assignment ("dict[Any, Any] | None")  [index]
                context.user_data[PRICE_ALERT_STORAGE_KEY] = {}
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:363:9: error: Value of type
"dict[Any, Any] | None" is not indexable  [index]
            context.user_data[PRICE_ALERT_STORAGE_KEY][alert_id] = {
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:374:15: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py: note: In member "handle_remove_alert_callback" of class "PriceAlertsHandler":
src\telegram_bot\handlers\price_alerts_handler.py:401:15: error: Item "None" of
"CallbackQuery | None" has no attribute "answer"  [union-attr]
            await query.answer()
                  ^~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:403:13: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
            str(update.effective_user.id)
                ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:404:25: error: Item "None" of
"CallbackQuery | None" has no attribute "data"  [union-attr]
            callback_data = query.data
                            ^~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:407:20: error: Item "None" of
"str | Any | None" has no attribute "replace"  [union-attr]
            alert_id = callback_data.replace(CALLBACK_REMOVE_ALERT, "")
                       ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:410:23: error: Item "None" of
"dict[Any, Any] | None" has no attribute "get"  [union-attr]
            alerts_data = context.user_data.get(PRICE_ALERT_STORAGE_KEY, {...
                          ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:412:19: error: Item "None" of
"CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text("тЭМ ╨Ю╨┐╨╛╨▓╨╡╤Й╨╡╨╜╨╕╨╡ ╨╜╨╡ ╨╜╨░╨╣╨┤╨╡╨╜╨╛ ╨╕╨╗╨╕...
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:420:13: error: Value of type
"dict[Any, Any] | None" is not indexable  [index]
            del context.user_data[PRICE_ALERT_STORAGE_KEY][alert_id]
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py: note: In member "handle_cancel" of class "PriceAlertsHandler":
src\telegram_bot\handlers\price_alerts_handler.py:438:23: error: Item "None" of
"User | None" has no attribute "id"  [union-attr]
            user_id = str(update.effective_user.id)
                          ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py:444:15: error: Item "None" of
"Message | None" has no attribute "reply_text"  [union-attr]
            await update.message.reply_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\price_alerts_handler.py: note: In member "get_handlers" of class "PriceAlertsHandler":
src\telegram_bot\handlers\price_alerts_handler.py:466:31: error: Missing type
parameters for generic type "list"  [type-arg]
        def get_handlers(self) -> list:
                                  ^
src\telegram_bot\handlers\market_analysis_handler.py: note: In function "market_analysis_command":
src\telegram_bot\handlers\market_analysis_handler.py:95:11: error: Item "None"
of "Message | None" has no attribute "reply_text"  [union-attr]
        await update.message.reply_text(
              ^~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py: note: In function "market_analysis_callback":
src\telegram_bot\handlers\market_analysis_handler.py:114:15: error: Item "None"
of "CallbackQuery | None" has no attribute "from_user"  [union-attr]
        user_id = query.from_user.id
                  ^~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:117:13: error: Item "None"
of "CallbackQuery | None" has no attribute "data"  [union-attr]
        parts = query.data.split(":")
                ^~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:117:13: error: Item "None"
of "str | Any | None" has no attribute "split"  [union-attr]
        parts = query.data.split(":")
                ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:126:12: error: Item "None"
of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
        if not context.user_data.get("market_analysis"):
               ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:127:9: error: Unsupported
target for indexed assignment ("dict[Any, Any] | None")  [index]
            context.user_data["market_analysis"] = {
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:136:9: error: Value of
type "dict[Any, Any] | None" is not indexable  [index]
            context.user_data["market_analysis"]["current_game"] = game
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:203:15: error: Item "None"
of "CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:215:21: error: Value of
type "dict[Any, Any] | None" is not indexable  [index]
        user_settings = context.user_data["market_analysis"]
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:219:11: error: Item "None"
of "CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:230:19: error: Item "None"
of "CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
                await query.edit_message_text(
                      ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:250:13: error:
"PaginationManager" has no attribute "set_items"; maybe "sort_items"? 
[attr-defined]
                pagination_manager.set_items(user_id, results, "price_chan...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:266:13: error:
"PaginationManager" has no attribute "set_items"; maybe "sort_items"? 
[attr-defined]
                pagination_manager.set_items(user_id, results, "trending")
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:282:13: error:
"PaginationManager" has no attribute "set_items"; maybe "sort_items"? 
[attr-defined]
                pagination_manager.set_items(user_id, results, "volatility...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:310:13: error:
"PaginationManager" has no attribute "set_items"; maybe "sort_items"? 
[attr-defined]
                pagination_manager.set_items(user_id, results, "undervalue...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:326:13: error:
"PaginationManager" has no attribute "set_items"; maybe "sort_items"? 
[attr-defined]
                pagination_manager.set_items(user_id, results, "recommenda...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:338:15: error: Item "None"
of "CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
            await query.edit_message_text(
                  ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py: note: At top level:
src\telegram_bot\handlers\market_analysis_handler.py:344:49: error: Name
"api_client" may be undefined  [possibly-undefined]
            if "api_client" in locals() and hasattr(api_client, "_close_cl...
                                                    ^~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py: note: In function "market_analysis_callback":
src\telegram_bot\handlers\market_analysis_handler.py:346:23: error: Item "None"
of "DMarketAPI | None" has no attribute "_close_client"  [union-attr]
                    await api_client._close_client()
                          ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py: note: In function "handle_pagination_analysis":
src\telegram_bot\handlers\market_analysis_handler.py:360:15: error: Item "None"
of "CallbackQuery | None" has no attribute "from_user"  [union-attr]
        user_id = query.from_user.id
                  ^~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:361:12: error: Item "None"
of "CallbackQuery | None" has no attribute "data"  [union-attr]
        data = query.data
               ^~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:364:13: error: Item "None"
of "str | Any | None" has no attribute "split"  [union-attr]
        parts = data.split(":")
                ^~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py: note: In function "show_price_changes_results":
src\telegram_bot\handlers\market_analysis_handler.py:391:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def show_price_changes_results(query, context, game: str) -> Non...
    ^
src\telegram_bot\handlers\market_analysis_handler.py:449:21: error: Argument 1
to "append" of "list" has incompatible type "list[InlineKeyboardButton]";
expected "tuple[InlineKeyboardButton, ...]"  [arg-type]
        keyboard.append(period_buttons)
                        ^~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:451:9: error: Argument 1
to "append" of "list" has incompatible type "list[InlineKeyboardButton]";
expected "tuple[InlineKeyboardButton, ...]"  [arg-type]
            [
            ^
src\telegram_bot\handlers\market_analysis_handler.py: note: In function "show_trending_items_results":
src\telegram_bot\handlers\market_analysis_handler.py:467:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def show_trending_items_results(query, context, game: str) -> No...
    ^
src\telegram_bot\handlers\market_analysis_handler.py:516:9: error: Argument 1
to "append" of "list" has incompatible type "list[InlineKeyboardButton]";
expected "tuple[InlineKeyboardButton, ...]"  [arg-type]
            [
            ^
src\telegram_bot\handlers\market_analysis_handler.py:528:9: error: Argument 1
to "append" of "list" has incompatible type "list[InlineKeyboardButton]";
expected "tuple[InlineKeyboardButton, ...]"  [arg-type]
            [
            ^
src\telegram_bot\handlers\market_analysis_handler.py: note: In function "show_volatility_results":
src\telegram_bot\handlers\market_analysis_handler.py:544:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def show_volatility_results(query, context, game: str) -> None:
    ^
src\telegram_bot\handlers\market_analysis_handler.py: note: In function "show_market_report":
src\telegram_bot\handlers\market_analysis_handler.py:643:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def show_market_report(query, context, report: dict[str, Any]) -...
    ^
src\telegram_bot\handlers\market_analysis_handler.py: note: In function "handle_period_change":
src\telegram_bot\handlers\market_analysis_handler.py:761:13: error: Item "None"
of "CallbackQuery | None" has no attribute "data"  [union-attr]
        parts = query.data.split(":")
                ^~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:761:13: error: Item "None"
of "str | Any | None" has no attribute "split"  [union-attr]
        parts = query.data.split(":")
                ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:770:12: error: Item "None"
of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
        if not context.user_data.get("market_analysis"):
               ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:771:9: error: Unsupported
target for indexed assignment ("dict[Any, Any] | None")  [index]
            context.user_data["market_analysis"] = {}
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:773:5: error: Value of
type "dict[Any, Any] | None" is not indexable  [index]
        context.user_data["market_analysis"]["period"] = period
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:776:11: error: Item "None"
of "CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer("╨Я╨╡╤А╨╕╨╛╨┤ ╨░╨╜╨░╨╗╨╕╨╖╨░ ╨╛╨▒╨╜╨╛╨▓╨╗╨╡╨╜")
              ^~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:779:5: error: Item "None"
of "CallbackQuery | None" has no attribute "data"  [union-attr]
        query.data = f"analysis:price_changes:{game}"
        ^~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py: note: In function "register_market_analysis_handlers":
src\telegram_bot\handlers\market_analysis_handler.py:805:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    def register_market_analysis_handlers(dispatcher) -> None:
    ^
src\telegram_bot\handlers\market_analysis_handler.py: note: In function "show_undervalued_items_results":
src\telegram_bot\handlers\market_analysis_handler.py:828:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def show_undervalued_items_results(query, context, game: str) ->...
    ^
src\telegram_bot\handlers\market_analysis_handler.py: note: In function "show_investment_recommendations_results":
src\telegram_bot\handlers\market_analysis_handler.py:925:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def show_investment_recommendations_results(query, context, game...
    ^
src\telegram_bot\handlers\market_analysis_handler.py: note: In function "handle_risk_level_change":
src\telegram_bot\handlers\market_analysis_handler.py:1050:13: error: Item
"None" of "CallbackQuery | None" has no attribute "data"  [union-attr]
        parts = query.data.split(":")
                ^~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:1050:13: error: Item
"None" of "str | Any | None" has no attribute "split"  [union-attr]
        parts = query.data.split(":")
                ^~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:1059:12: error: Item
"None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
        if not context.user_data.get("market_analysis"):
               ^~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:1060:9: error: Unsupported
target for indexed assignment ("dict[Any, Any] | None")  [index]
            context.user_data["market_analysis"] = {}
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:1062:5: error: Value of
type "dict[Any, Any] | None" is not indexable  [index]
        context.user_data["market_analysis"]["risk_level"] = risk_level
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:1065:11: error: Item
"None" of "CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer(f"╨г╤А╨╛╨▓╨╡╨╜╤М ╤А╨╕╤Б╨║╨░ ╨╛╨▒╨╜╨╛╨▓╨╗╨╡╨╜: {risk_level}")
              ^~~~~~~~~~~~
src\telegram_bot\handlers\market_analysis_handler.py:1068:5: error: Item "None"
of "CallbackQuery | None" has no attribute "data"  [union-attr]
        query.data = f"analysis:recommendations:{game}"
        ^~~~~~~~~~
src\telegram_bot\handlers\market_alerts_handler.py:187:2: error: Argument 1 has
incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\market_alerts_handler.py:209: error: "type: ignore"
comment without error code (consider "type: ignore[union-attr]" instead) 
[ignore-without-code]
        parts = query.data.split(":")  # type: ignore
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\market_alerts_handler.py: note: In function "update_alerts_keyboard":
src\telegram_bot\handlers\market_alerts_handler.py:410:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def update_alerts_keyboard(query, alerts_manager, user_id: int) ...
    ^
src\telegram_bot\handlers\market_alerts_handler.py: note: In function "show_user_alerts_list":
src\telegram_bot\handlers\market_alerts_handler.py:549:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def show_user_alerts_list(query, user_id: int) -> None:
    ^
src\telegram_bot\handlers\market_alerts_handler.py: note: In function "show_create_alert_form":
src\telegram_bot\handlers\market_alerts_handler.py:658:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def show_create_alert_form(query, _user_id: int) -> None:
    ^
src\telegram_bot\handlers\market_alerts_handler.py: note: In function "show_alerts_settings":
src\telegram_bot\handlers\market_alerts_handler.py:707:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def show_alerts_settings(query, alerts_manager, user_id: int) ->...
    ^
src\telegram_bot\handlers\market_alerts_handler.py: note: In function "register_alerts_handlers":
src\telegram_bot\handlers\market_alerts_handler.py:833:43: error: Missing type
parameters for generic type "Application"  [type-arg]
    def register_alerts_handlers(application: Application) -> None:
                                              ^
src\telegram_bot\handlers\market_alerts_handler.py: note: At top level:
src\telegram_bot\handlers\market_alerts_handler.py:853:2: error: Argument 1 has
incompatible type
"Callable[[Application[Any, Any, Any, Any, Any, Any]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\market_alerts_handler.py: note: In function "initialize_alerts_manager":
src\telegram_bot\handlers\market_alerts_handler.py:858:51: error: Missing type
parameters for generic type "Application"  [type-arg]
    ...sync def initialize_alerts_manager(_application: Application) -> None:
                                                        ^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py: note: In function "handle_intramarket_pagination":
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:223:15: error: Item
"None" of "User | None" has no attribute "id"  [union-attr]
        user_id = update.effective_user.id
                  ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:228:18: error: Item
"None" of "str | None" has no attribute "split"  [union-attr]
        data_parts = callback_data.split(":")
                     ^~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\intramarket_arbitrage_handler.py: note: In function "handle_intramarket_callback":
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:451:5: error:
"Never" has no attribute "__await__"  [attr-defined]
        await display_results_with_pagination(
        ^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:451:11: error:
Unexpected keyword argument "query" for "display_results_with_pagination" 
[call-arg]
        await display_results_with_pagination(
              ^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:451:11: error:
Unexpected keyword argument "results" for "display_results_with_pagination" 
[call-arg]
        await display_results_with_pagination(
              ^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:451:11: error:
Unexpected keyword argument "title" for "display_results_with_pagination" 
[call-arg]
        await display_results_with_pagination(
              ^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:451:11: error:
Unexpected keyword argument "user_id" for "display_results_with_pagination" 
[call-arg]
        await display_results_with_pagination(
              ^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:451:11: error:
Unexpected keyword argument "action_type" for "display_results_with_pagination" 
[call-arg]
        await display_results_with_pagination(
              ^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:451:11: error:
Unexpected keyword argument "game" for "display_results_with_pagination" 
[call-arg]
        await display_results_with_pagination(
              ^
src\telegram_bot\handlers\intramarket_arbitrage_handler.py: note: In function "register_intramarket_handlers":
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:471:13: error:
Argument 1 to "CallbackQueryHandler" has incompatible type
"Callable[[Never], Never]"; expected
"Callable[[Update, Never], Coroutine[Any, Any, Never]]"  [arg-type]
                start_intramarket_arbitrage,
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:477:13: error:
Argument 1 to "CallbackQueryHandler" has incompatible type
"Callable[[Never], Never]"; expected
"Callable[[Update, Never], Coroutine[Any, Any, Never]]"  [arg-type]
                handle_intramarket_callback,
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\intramarket_arbitrage_handler.py:485:13: error:
Argument 1 to "CallbackQueryHandler" has incompatible type
"Callable[[Never], Never]"; expected
"Callable[[Update, Never], Coroutine[Any, Any, Never]]"  [arg-type]
                handle_intramarket_pagination,
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\dmarket_status.py: note: In function "dmarket_status_impl":
src\telegram_bot\handlers\dmarket_status.py:23:1: error: Function is missing a
type annotation for one or more arguments  [no-untyped-def]
    async def dmarket_status_impl(
    ^
src\telegram_bot\handlers\arbitrage_callback_impl.py:35:2: error: Argument 1
has incompatible type
"Callable[[Update, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, int | None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\arbitrage_callback_impl.py: note: In function "arbitrage_callback_impl":
src\telegram_bot\handlers\arbitrage_callback_impl.py:53:11: error: Item "None"
of "CallbackQuery | None" has no attribute "answer"  [union-attr]
        await query.answer()
              ^~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py:56:11: error: Item "None"
of "Chat | None" has no attribute "send_action"  [union-attr]
        await update.effective_chat.send_action(ChatAction.TYPING)
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py:69:11: error: Item "None"
of "CallbackQuery | None" has no attribute "edit_message_text"  [union-attr]
        await query.edit_message_text(
              ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py: note: At top level:
src\telegram_bot\handlers\arbitrage_callback_impl.py:79:2: error: Argument 1
has incompatible type
"Callable[[CallbackQuery, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]], str], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\arbitrage_callback_impl.py: note: In function "handle_dmarket_arbitrage_impl":
src\telegram_bot\handlers\arbitrage_callback_impl.py:110:11: error: Item "None"
of "MaybeInaccessibleMessage | None" has no attribute "chat"  [union-attr]
        await query.message.chat.send_action(ChatAction.TYPING)
              ^~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py:125:11: error: Item "None"
of "MaybeInaccessibleMessage | None" has no attribute "chat"  [union-attr]
        await query.message.chat.send_action(ChatAction.TYPING)
              ^~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py:128:5: error: Function is
missing a return type annotation  [no-untyped-def]
        async def get_arbitrage_data():
        ^
src\telegram_bot\handlers\arbitrage_callback_impl.py:142:21: error: Call to
untyped function "get_arbitrage_data" in typed context  [no-untyped-call]
        results = await get_arbitrage_data()
                        ^~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py:216:29: error: Argument
"web_app" to "InlineKeyboardButton" has incompatible type "dict[str, str]";
expected "WebAppInfo | None"  [arg-type]
                        web_app={"url": "https://dmarket.com"},
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py:223:25: error: Argument 1
to "extend" of "list" has incompatible type
"tuple[tuple[InlineKeyboardButton, ...], ...]"; expected
"Iterable[list[InlineKeyboardButton]]"  [arg-type]
            keyboard.extend(arbitrage_keyboard[-1:])  # ╨в╨╛╨╗╤М╨║╨╛ ╨║╨╜╨╛╨┐╨║╨░ "╨Э╨░╨╖...
                            ^~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py:233:26: error: Too many
arguments for "format_dmarket_results"  [call-arg]
            formatted_text = format_dmarket_results(results, mode, game)
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py:234:20: error:
Incompatible types in assignment (expression has type "InlineKeyboardMarkup",
variable has type "list[list[InlineKeyboardButton]]")  [assignment]
            keyboard = get_arbitrage_keyboard()
                       ^~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py:238:26: error: Argument
"reply_markup" to "edit_message_text" of "CallbackQuery" has incompatible type
"list[list[InlineKeyboardButton]]"; expected "InlineKeyboardMarkup | None" 
[arg-type]
                reply_markup=keyboard,
                             ^~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py: note: At top level:
src\telegram_bot\handlers\arbitrage_callback_impl.py:243:2: error: Argument 1
has incompatible type
"Callable[[CallbackQuery, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\arbitrage_callback_impl.py: note: In function "handle_best_opportunities_impl":
src\telegram_bot\handlers\arbitrage_callback_impl.py:264:11: error: Item "None"
of "MaybeInaccessibleMessage | None" has no attribute "chat"  [union-attr]
        await query.message.chat.send_action(ChatAction.TYPING)
              ^~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py:278:11: error: Item "None"
of "MaybeInaccessibleMessage | None" has no attribute "chat"  [union-attr]
        await query.message.chat.send_action(ChatAction.TYPING)
              ^~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py:322:29: error: Argument
"web_app" to "InlineKeyboardButton" has incompatible type "dict[str, str]";
expected "WebAppInfo | None"  [arg-type]
                        web_app={"url": "https://dmarket.com"},
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py: note: At top level:
src\telegram_bot\handlers\arbitrage_callback_impl.py:337:2: error: Argument 1
has incompatible type
"Callable[[CallbackQuery, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, int | None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\arbitrage_callback_impl.py: note: In function "handle_game_selection_impl":
src\telegram_bot\handlers\arbitrage_callback_impl.py:357:11: error: Item "None"
of "MaybeInaccessibleMessage | None" has no attribute "chat"  [union-attr]
        await query.message.chat.send_action(ChatAction.TYPING)
              ^~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py: note: At top level:
src\telegram_bot\handlers\arbitrage_callback_impl.py:376:2: error: Argument 1
has incompatible type
"Callable[[CallbackQuery, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]], str], Coroutine[Any, Any, int | None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\arbitrage_callback_impl.py: note: In function "handle_game_selected_impl":
src\telegram_bot\handlers\arbitrage_callback_impl.py:401:5: error: Unsupported
target for indexed assignment ("dict[Any, Any] | None")  [index]
        context.user_data["current_game"] = game
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py:404:11: error: Item "None"
of "MaybeInaccessibleMessage | None" has no attribute "chat"  [union-attr]
        await query.message.chat.send_action(ChatAction.TYPING)
              ^~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\arbitrage_callback_impl.py: note: At top level:
src\telegram_bot\handlers\arbitrage_callback_impl.py:421:2: error: Argument 1
has incompatible type
"Callable[[CallbackQuery, CallbackContext[ExtBot[None], dict[Any, Any], dict[Any, Any], dict[Any, Any]]], Coroutine[Any, Any, None]]";
expected "Never"  [arg-type]
    @handle_exceptions(
     ^
src\telegram_bot\handlers\arbitrage_callback_impl.py: note: In function "handle_market_comparison_impl":
src\telegram_bot\handlers\arbitrage_callback_impl.py:438:11: error: Item "None"
of "MaybeInaccessibleMessage | None" has no attribute "chat"  [union-attr]
        await query.message.chat.send_action(ChatAction.TYPING)
              ^~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\commands.py: note: In function "dashboard_command":
src\telegram_bot\handlers\commands.py:121:11: error: "Never" not callable 
[misc]
        await show_dashboard(update, context)
              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\callbacks.py: note: In function "button_callback_handler":
src\telegram_bot\handlers\callbacks.py:327:30: error: Too many arguments for
"get_game_selection_keyboard"  [call-arg]
                    reply_markup=get_game_selection_keyboard("search"),
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\callbacks.py:411:30: error: Too many arguments for
"get_game_selection_keyboard"  [call-arg]
                    reply_markup=get_game_selection_keyboard("analysis"),
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\callbacks.py:419:30: error: Too many arguments for
"get_game_selection_keyboard"  [call-arg]
                    reply_markup=get_game_selection_keyboard("filters"),
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\handlers\callbacks.py:538:30: error: Too many arguments for
"get_game_selection_keyboard"  [call-arg]
                    reply_markup=get_game_selection_keyboard("filters"),
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\telegram_bot\register_all_handlers.py: note: In function "register_all_handlers":
src\telegram_bot\register_all_handlers.py:35:40: error: Missing type parameters
for generic type "Application"  [type-arg]
    def register_all_handlers(application: "Application") -> None:
                                           ^
src\telegram_bot\register_all_handlers.py:115:9: error: Module
"src.telegram_bot.handlers.game_filter_handlers" has no attribute
"register_game_filter_handlers"  [attr-defined]
            from src.telegram_bot.handlers.game_filter_handlers import reg...
            ^
src\telegram_bot\register_all_handlers.py:126:9: error: Module
"src.telegram_bot.handlers.liquidity_settings_handler" has no attribute
"register_liquidity_handlers"  [attr-defined]
            from src.telegram_bot.handlers.liquidity_settings_handler impo...
            ^
src\main.py: note: In member "__init__" of class "Application":
src\main.py:44:19: error: Missing type parameters for generic type
"Application"  [type-arg]
            self.bot: TelegramApplication | None = None
                      ^
src\main.py: note: In member "initialize" of class "Application":
src\main.py:125:20: error: "Config" has no attribute "telegram"  [attr-defined]
                if not self.config.telegram.bot_token:
                       ^~~~~~~~~~~~~~~~~~~~
src\main.py:129:17: error: "Config" has no attribute "telegram"  [attr-defined]
                    self.config.telegram.bot_token,
                    ^~~~~~~~~~~~~~~~~~~~
src\main.py:184:33: error: Argument "admin_users" to "DailyReportScheduler" has
incompatible type "list[str | int]"; expected "list[int]"  [arg-type]
                        admin_users=admin_users,
                                    ^~~~~~~~~~~
src\main.py: note: In member "run" of class "Application":
src\main.py:219:23: error: Item "None" of "Updater | None" has no attribute
"start_polling"  [union-attr]
                    await self.bot.updater.start_polling()
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src\main.py: note: In member "shutdown" of class "Application":
src\main.py:265:20: error: Item "None" of "Updater | None" has no attribute
"running"  [union-attr]
                    if self.bot.updater.running:
                       ^~~~~~~~~~~~~~~~~~~~~~~~
src\main.py:266:27: error: Item "None" of "Updater | None" has no attribute
"stop"  [union-attr]
                        await self.bot.updater.stop()
                              ^~~~~~~~~~~~~~~~~~~~~
src\__main__.py:91:12: error: Name "lock_file" may be undefined 
[possibly-undefined]
            if lock_file.exists():
               ^~~~~~~~~
Found 932 errors in 67 files (checked 107 source files)

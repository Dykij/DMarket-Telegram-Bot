# mypy-fast.ini - Fast MyPy configuration for GitHub Copilot / IDE integration
#
# Usage:
#   mypy --config-file=mypy-fast.ini src/
#
# Optimizations:
# - Incremental mode with aggressive caching
# - Skip expensive checks
# - Minimal output for speed
# - Only critical errors reported

[mypy]
python_version = 3.12

# МАКСИМАЛЬНАЯ ПРОИЗВОДИТЕЛЬНОСТЬ
incremental = true
cache_dir = .mypy_cache
# Skip expensive plugins
plugins = []

# Минимальная строгость для скорости
strict = false
disallow_untyped_defs = false
disallow_incomplete_defs = false
check_untyped_defs = false
disallow_untyped_calls = false
disallow_any_generics = false

# Отключить большинство предупреждений
warn_return_any = false
warn_unused_configs = false
warn_unused_ignores = false
warn_redundant_casts = false
warn_unreachable = false
warn_no_return = false

# Минимальный вывод
show_error_codes = true
show_column_numbers = false
show_error_context = false
pretty = false
color_output = true
error_summary = false

# Игнорировать все, что можно
ignore_missing_imports = true
follow_imports = skip
namespace_packages = true
no_implicit_reexport = false
allow_redefinition = true

# Отключить ВСЕ коды ошибок кроме критичных
disable_error_code = [
    "no-any-return",
    "no-untyped-def",
    "type-arg",
    "attr-defined",
    "assignment",
    "arg-type",
    "var-annotated",
    "call-arg",
    "return-value",
    "index",
    "union-attr",
    "misc",
    "valid-type",
    "truthy-bool",
    "redundant-expr",
    "possibly-undefined",
    "unused-awaitable",
    "name-defined",
    "override",
    "import",
    "operator",
    "comparison-overlap",
]

# Исключения - только проверять src/
exclude = [
    "tests/",
    "scripts/",
    "build/",
    "dist/",
    ".venv/",
    "alembic/",
    "archive_old_docs/",
]

[mypy-tests.*]
ignore_errors = true

[mypy-scripts.*]
ignore_errors = true

[mypy-alembic.*]
ignore_errors = true

# Игнорировать все внешние библиотеки
[mypy-telegram.*]
ignore_missing_imports = true
ignore_errors = true

[mypy-httpx.*]
ignore_missing_imports = true

[mypy-redis.*]
ignore_missing_imports = true

[mypy-pydantic.*]
ignore_missing_imports = true

[mypy-structlog.*]
ignore_missing_imports = true

[mypy-aiolimiter.*]
ignore_missing_imports = true

[mypy-sklearn.*]
ignore_missing_imports = true

[mypy-numpy.*]
ignore_missing_imports = true

[mypy-pandas.*]
ignore_missing_imports = true
